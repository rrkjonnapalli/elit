import{$ as mg,$a as ri,$b as da,A as Xe,Aa as ak,Ab as le,B as cg,Ba as cs,Bb as kt,C as go,Ca as li,Cb as Ct,D as is,Da as $l,Db as la,E as ns,Ea as ra,Eb as lt,F as dg,Fa as oa,Fb as ci,G as We,Ga as lk,Gb as Ai,H as tk,Ha as ck,Hb as ql,I as zl,Ia as dk,Ib as Gn,J as rs,Ja as hk,Jb as Kn,K as bo,Ka as uk,Kb as Xn,L as hg,La as mk,Lb as Qt,M as ek,Ma as fk,Mb as bt,N as ik,Na as en,Nb as pg,O as nk,Oa as Yl,Ob as jh,P as ug,Pa as j,Pb as Hh,Q as Oh,Qa as C,Qb as yk,R as Yr,Ra as ds,Rb as Gl,S as Mn,Sa as sa,Sb as gg,T as ye,Ta as pk,Tb as xk,U as Le,Ua as Ph,Ub as Oe,V as be,Va as Lh,Vb as wk,W as Ji,Wa as Nh,Wb as xe,X as q,Xa as gk,Xb as ca,Y as yt,Ya as ot,Yb as kk,Z as rk,Za as mr,Zb as Ck,_ as nt,_a as se,_b as _t,a as H,aa as R,ab as bk,ac as Dk,b as ge,ba as Y,bb as _k,bc as ha,ca as os,cb as vk,cc as bg,d as HN,da as na,db as ee,dc as nn,e as Ih,ea as jl,eb as qt,ec as Sk,f as Re,fa as it,fb as Bt,fc as Ak,g as Qw,ga as gt,gb as hs,gc as _g,h as hr,ha as xt,hb as Ot,hc as Ek,i as rg,ia as tt,ib as _o,j as og,ja as Hl,jb as ae,k as ht,ka as ok,kb as aa,kc as us,l as zi,la as Ul,lb as Vh,lc as fr,m as ur,ma as ss,mb as In,n as ji,na as Ne,nb as Tn,nc as Ei,o as at,oa as de,ob as L,oc as vo,p as es,pa as he,pb as P,pc as vg,q as sg,qa as Fh,qb as Tt,qc as pr,r as Jw,ra as fg,rb as Ze,s as St,sa as tn,sb as qr,t as Bl,ta as as,tb as Bh,u as En,ua as _i,ub as mt,v as Th,va as ls,vb as zh,w as ag,wa as dt,wb as wt,x as Rh,xa as ct,xb as je,y as lg,ya as sk,yb as Ft,z as qn,za as Wl,zb as Qe}from"./chunk-I72TYKOU.js";var Zc=HN((Ha,Xc)=>{"use strict";(function(){var n,t="4.17.21",i=200,e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,d="__lodash_placeholder__",h=1,m=2,f=4,g=1,_=2,y=1,k=2,S=4,M=8,B=16,U=32,W=64,V=128,G=256,X=512,Mt=30,Ht="...",Wt=800,Nt=16,It=1,re=2,Zt=3,Jt=1/0,Me=9007199254740991,pi=17976931348623157e292,ei=NaN,Ie=4294967295,Ve=Ie-1,Fi=Ie>>>1,vn=[["ary",V],["bind",y],["bindKey",k],["curry",M],["curryRight",B],["flip",X],["partial",U],["partialRight",W],["rearg",G]],Pi="[object Arguments]",zn="[object Array]",Hs="[object AsyncFunction]",ro="[object Boolean]",_l="[object Date]",rT="[object DOMException]",Bd="[object Error]",zd="[object Function]",xy="[object GeneratorFunction]",jn="[object Map]",vl="[object Number]",oT="[object Null]",Lr="[object Object]",wy="[object Promise]",sT="[object Proxy]",yl="[object RegExp]",Hn="[object Set]",xl="[object String]",jd="[object Symbol]",aT="[object Undefined]",wl="[object WeakMap]",lT="[object WeakSet]",kl="[object ArrayBuffer]",Us="[object DataView]",Nf="[object Float32Array]",Vf="[object Float64Array]",Bf="[object Int8Array]",zf="[object Int16Array]",jf="[object Int32Array]",Hf="[object Uint8Array]",Uf="[object Uint8ClampedArray]",Wf="[object Uint16Array]",$f="[object Uint32Array]",cT=/\b__p \+= '';/g,dT=/\b(__p \+=) '' \+/g,hT=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ky=/&(?:amp|lt|gt|quot|#39);/g,Cy=/[&<>"']/g,uT=RegExp(ky.source),mT=RegExp(Cy.source),fT=/<%-([\s\S]+?)%>/g,pT=/<%([\s\S]+?)%>/g,Dy=/<%=([\s\S]+?)%>/g,gT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bT=/^\w*$/,_T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yf=/[\\^$.*+?()[\]{}|]/g,vT=RegExp(Yf.source),qf=/^\s+/,yT=/\s/,xT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wT=/\{\n\/\* \[wrapped with (.+)\] \*/,kT=/,? & /,CT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,DT=/[()=,{}\[\]\/\s]/,ST=/\\(\\)?/g,AT=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sy=/\w*$/,ET=/^[-+]0x[0-9a-f]+$/i,MT=/^0b[01]+$/i,IT=/^\[object .+?Constructor\]$/,TT=/^0o[0-7]+$/i,RT=/^(?:0|[1-9]\d*)$/,OT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hd=/($^)/,FT=/['\n\r\u2028\u2029\\]/g,Ud="\\ud800-\\udfff",PT="\\u0300-\\u036f",LT="\\ufe20-\\ufe2f",NT="\\u20d0-\\u20ff",Ay=PT+LT+NT,Ey="\\u2700-\\u27bf",My="a-z\\xdf-\\xf6\\xf8-\\xff",VT="\\xac\\xb1\\xd7\\xf7",BT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zT="\\u2000-\\u206f",jT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iy="A-Z\\xc0-\\xd6\\xd8-\\xde",Ty="\\ufe0e\\ufe0f",Ry=VT+BT+zT+jT,Gf="['\u2019]",HT="["+Ud+"]",Oy="["+Ry+"]",Wd="["+Ay+"]",Fy="\\d+",UT="["+Ey+"]",Py="["+My+"]",Ly="[^"+Ud+Ry+Fy+Ey+My+Iy+"]",Kf="\\ud83c[\\udffb-\\udfff]",WT="(?:"+Wd+"|"+Kf+")",Ny="[^"+Ud+"]",Xf="(?:\\ud83c[\\udde6-\\uddff]){2}",Zf="[\\ud800-\\udbff][\\udc00-\\udfff]",Ws="["+Iy+"]",Vy="\\u200d",By="(?:"+Py+"|"+Ly+")",$T="(?:"+Ws+"|"+Ly+")",zy="(?:"+Gf+"(?:d|ll|m|re|s|t|ve))?",jy="(?:"+Gf+"(?:D|LL|M|RE|S|T|VE))?",Hy=WT+"?",Uy="["+Ty+"]?",YT="(?:"+Vy+"(?:"+[Ny,Xf,Zf].join("|")+")"+Uy+Hy+")*",qT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wy=Uy+Hy+YT,KT="(?:"+[UT,Xf,Zf].join("|")+")"+Wy,XT="(?:"+[Ny+Wd+"?",Wd,Xf,Zf,HT].join("|")+")",ZT=RegExp(Gf,"g"),QT=RegExp(Wd,"g"),Qf=RegExp(Kf+"(?="+Kf+")|"+XT+Wy,"g"),JT=RegExp([Ws+"?"+Py+"+"+zy+"(?="+[Oy,Ws,"$"].join("|")+")",$T+"+"+jy+"(?="+[Oy,Ws+By,"$"].join("|")+")",Ws+"?"+By+"+"+zy,Ws+"+"+jy,GT,qT,Fy,KT].join("|"),"g"),tR=RegExp("["+Vy+Ud+Ay+Ty+"]"),eR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,iR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nR=-1,Ce={};Ce[Nf]=Ce[Vf]=Ce[Bf]=Ce[zf]=Ce[jf]=Ce[Hf]=Ce[Uf]=Ce[Wf]=Ce[$f]=!0,Ce[Pi]=Ce[zn]=Ce[kl]=Ce[ro]=Ce[Us]=Ce[_l]=Ce[Bd]=Ce[zd]=Ce[jn]=Ce[vl]=Ce[Lr]=Ce[yl]=Ce[Hn]=Ce[xl]=Ce[wl]=!1;var ve={};ve[Pi]=ve[zn]=ve[kl]=ve[Us]=ve[ro]=ve[_l]=ve[Nf]=ve[Vf]=ve[Bf]=ve[zf]=ve[jf]=ve[jn]=ve[vl]=ve[Lr]=ve[yl]=ve[Hn]=ve[xl]=ve[jd]=ve[Hf]=ve[Uf]=ve[Wf]=ve[$f]=!0,ve[Bd]=ve[zd]=ve[wl]=!1;var rR={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},oR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},aR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lR=parseFloat,cR=parseInt,$y=typeof global=="object"&&global&&global.Object===Object&&global,dR=typeof self=="object"&&self&&self.Object===Object&&self,ii=$y||dR||Function("return this")(),Jf=typeof Ha=="object"&&Ha&&!Ha.nodeType&&Ha,Yo=Jf&&typeof Xc=="object"&&Xc&&!Xc.nodeType&&Xc,Yy=Yo&&Yo.exports===Jf,tp=Yy&&$y.process,yn=function(){try{var A=Yo&&Yo.require&&Yo.require("util").types;return A||tp&&tp.binding&&tp.binding("util")}catch{}}(),qy=yn&&yn.isArrayBuffer,Gy=yn&&yn.isDate,Ky=yn&&yn.isMap,Xy=yn&&yn.isRegExp,Zy=yn&&yn.isSet,Qy=yn&&yn.isTypedArray;function qi(A,T,I){switch(I.length){case 0:return A.call(T);case 1:return A.call(T,I[0]);case 2:return A.call(T,I[0],I[1]);case 3:return A.call(T,I[0],I[1],I[2])}return A.apply(T,I)}function hR(A,T,I,J){for(var Dt=-1,te=A==null?0:A.length;++Dt<te;){var Ge=A[Dt];T(J,Ge,I(Ge),A)}return J}function xn(A,T){for(var I=-1,J=A==null?0:A.length;++I<J&&T(A[I],I,A)!==!1;);return A}function uR(A,T){for(var I=A==null?0:A.length;I--&&T(A[I],I,A)!==!1;);return A}function Jy(A,T){for(var I=-1,J=A==null?0:A.length;++I<J;)if(!T(A[I],I,A))return!1;return!0}function oo(A,T){for(var I=-1,J=A==null?0:A.length,Dt=0,te=[];++I<J;){var Ge=A[I];T(Ge,I,A)&&(te[Dt++]=Ge)}return te}function $d(A,T){var I=A==null?0:A.length;return!!I&&$s(A,T,0)>-1}function ep(A,T,I){for(var J=-1,Dt=A==null?0:A.length;++J<Dt;)if(I(T,A[J]))return!0;return!1}function Se(A,T){for(var I=-1,J=A==null?0:A.length,Dt=Array(J);++I<J;)Dt[I]=T(A[I],I,A);return Dt}function so(A,T){for(var I=-1,J=T.length,Dt=A.length;++I<J;)A[Dt+I]=T[I];return A}function ip(A,T,I,J){var Dt=-1,te=A==null?0:A.length;for(J&&te&&(I=A[++Dt]);++Dt<te;)I=T(I,A[Dt],Dt,A);return I}function mR(A,T,I,J){var Dt=A==null?0:A.length;for(J&&Dt&&(I=A[--Dt]);Dt--;)I=T(I,A[Dt],Dt,A);return I}function np(A,T){for(var I=-1,J=A==null?0:A.length;++I<J;)if(T(A[I],I,A))return!0;return!1}var fR=rp("length");function pR(A){return A.split("")}function gR(A){return A.match(CT)||[]}function tx(A,T,I){var J;return I(A,function(Dt,te,Ge){if(T(Dt,te,Ge))return J=te,!1}),J}function Yd(A,T,I,J){for(var Dt=A.length,te=I+(J?1:-1);J?te--:++te<Dt;)if(T(A[te],te,A))return te;return-1}function $s(A,T,I){return T===T?ER(A,T,I):Yd(A,ex,I)}function bR(A,T,I,J){for(var Dt=I-1,te=A.length;++Dt<te;)if(J(A[Dt],T))return Dt;return-1}function ex(A){return A!==A}function ix(A,T){var I=A==null?0:A.length;return I?sp(A,T)/I:ei}function rp(A){return function(T){return T==null?n:T[A]}}function op(A){return function(T){return A==null?n:A[T]}}function nx(A,T,I,J,Dt){return Dt(A,function(te,Ge,pe){I=J?(J=!1,te):T(I,te,Ge,pe)}),I}function _R(A,T){var I=A.length;for(A.sort(T);I--;)A[I]=A[I].value;return A}function sp(A,T){for(var I,J=-1,Dt=A.length;++J<Dt;){var te=T(A[J]);te!==n&&(I=I===n?te:I+te)}return I}function ap(A,T){for(var I=-1,J=Array(A);++I<A;)J[I]=T(I);return J}function vR(A,T){return Se(T,function(I){return[I,A[I]]})}function rx(A){return A&&A.slice(0,lx(A)+1).replace(qf,"")}function Gi(A){return function(T){return A(T)}}function lp(A,T){return Se(T,function(I){return A[I]})}function Cl(A,T){return A.has(T)}function ox(A,T){for(var I=-1,J=A.length;++I<J&&$s(T,A[I],0)>-1;);return I}function sx(A,T){for(var I=A.length;I--&&$s(T,A[I],0)>-1;);return I}function yR(A,T){for(var I=A.length,J=0;I--;)A[I]===T&&++J;return J}var xR=op(rR),wR=op(oR);function kR(A){return"\\"+aR[A]}function CR(A,T){return A==null?n:A[T]}function Ys(A){return tR.test(A)}function DR(A){return eR.test(A)}function SR(A){for(var T,I=[];!(T=A.next()).done;)I.push(T.value);return I}function cp(A){var T=-1,I=Array(A.size);return A.forEach(function(J,Dt){I[++T]=[Dt,J]}),I}function ax(A,T){return function(I){return A(T(I))}}function ao(A,T){for(var I=-1,J=A.length,Dt=0,te=[];++I<J;){var Ge=A[I];(Ge===T||Ge===d)&&(A[I]=d,te[Dt++]=I)}return te}function qd(A){var T=-1,I=Array(A.size);return A.forEach(function(J){I[++T]=J}),I}function AR(A){var T=-1,I=Array(A.size);return A.forEach(function(J){I[++T]=[J,J]}),I}function ER(A,T,I){for(var J=I-1,Dt=A.length;++J<Dt;)if(A[J]===T)return J;return-1}function MR(A,T,I){for(var J=I+1;J--;)if(A[J]===T)return J;return J}function qs(A){return Ys(A)?TR(A):fR(A)}function Un(A){return Ys(A)?RR(A):pR(A)}function lx(A){for(var T=A.length;T--&&yT.test(A.charAt(T)););return T}var IR=op(sR);function TR(A){for(var T=Qf.lastIndex=0;Qf.test(A);)++T;return T}function RR(A){return A.match(Qf)||[]}function OR(A){return A.match(JT)||[]}var FR=function A(T){T=T==null?ii:lo.defaults(ii.Object(),T,lo.pick(ii,iR));var I=T.Array,J=T.Date,Dt=T.Error,te=T.Function,Ge=T.Math,pe=T.Object,dp=T.RegExp,PR=T.String,wn=T.TypeError,Gd=I.prototype,LR=te.prototype,Gs=pe.prototype,Kd=T["__core-js_shared__"],Xd=LR.toString,oe=Gs.hasOwnProperty,NR=0,cx=function(){var l=/[^.]+$/.exec(Kd&&Kd.keys&&Kd.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Zd=Gs.toString,VR=Xd.call(pe),BR=ii._,zR=dp("^"+Xd.call(oe).replace(Yf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qd=Yy?T.Buffer:n,co=T.Symbol,Jd=T.Uint8Array,dx=Qd?Qd.allocUnsafe:n,th=ax(pe.getPrototypeOf,pe),hx=pe.create,ux=Gs.propertyIsEnumerable,eh=Gd.splice,mx=co?co.isConcatSpreadable:n,Dl=co?co.iterator:n,qo=co?co.toStringTag:n,ih=function(){try{var l=Qo(pe,"defineProperty");return l({},"",{}),l}catch{}}(),jR=T.clearTimeout!==ii.clearTimeout&&T.clearTimeout,HR=J&&J.now!==ii.Date.now&&J.now,UR=T.setTimeout!==ii.setTimeout&&T.setTimeout,nh=Ge.ceil,rh=Ge.floor,hp=pe.getOwnPropertySymbols,WR=Qd?Qd.isBuffer:n,fx=T.isFinite,$R=Gd.join,YR=ax(pe.keys,pe),Ke=Ge.max,gi=Ge.min,qR=J.now,GR=T.parseInt,px=Ge.random,KR=Gd.reverse,up=Qo(T,"DataView"),Sl=Qo(T,"Map"),mp=Qo(T,"Promise"),Ks=Qo(T,"Set"),Al=Qo(T,"WeakMap"),El=Qo(pe,"create"),oh=Al&&new Al,Xs={},XR=Jo(up),ZR=Jo(Sl),QR=Jo(mp),JR=Jo(Ks),tO=Jo(Al),sh=co?co.prototype:n,Ml=sh?sh.valueOf:n,gx=sh?sh.toString:n;function v(l){if(Pe(l)&&!Et(l)&&!(l instanceof $t)){if(l instanceof kn)return l;if(oe.call(l,"__wrapped__"))return bw(l)}return new kn(l)}var Zs=function(){function l(){}return function(c){if(!Te(c))return{};if(hx)return hx(c);l.prototype=c;var u=new l;return l.prototype=n,u}}();function ah(){}function kn(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}v.templateSettings={escape:fT,evaluate:pT,interpolate:Dy,variable:"",imports:{_:v}},v.prototype=ah.prototype,v.prototype.constructor=v,kn.prototype=Zs(ah.prototype),kn.prototype.constructor=kn;function $t(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ie,this.__views__=[]}function eO(){var l=new $t(this.__wrapped__);return l.__actions__=Li(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Li(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Li(this.__views__),l}function iO(){if(this.__filtered__){var l=new $t(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function nO(){var l=this.__wrapped__.value(),c=this.__dir__,u=Et(l),p=c<0,b=u?l.length:0,x=p2(0,b,this.__views__),w=x.start,D=x.end,E=D-w,O=p?D:w-1,F=this.__iteratees__,z=F.length,Z=0,rt=gi(E,this.__takeCount__);if(!u||!p&&b==E&&rt==E)return zx(l,this.__actions__);var ft=[];t:for(;E--&&Z<rt;){O+=c;for(var Lt=-1,pt=l[O];++Lt<z;){var Ut=F[Lt],Yt=Ut.iteratee,Zi=Ut.type,Si=Yt(pt);if(Zi==re)pt=Si;else if(!Si){if(Zi==It)continue t;break t}}ft[Z++]=pt}return ft}$t.prototype=Zs(ah.prototype),$t.prototype.constructor=$t;function Go(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}function rO(){this.__data__=El?El(null):{},this.size=0}function oO(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function sO(l){var c=this.__data__;if(El){var u=c[l];return u===s?n:u}return oe.call(c,l)?c[l]:n}function aO(l){var c=this.__data__;return El?c[l]!==n:oe.call(c,l)}function lO(l,c){var u=this.__data__;return this.size+=this.has(l)?0:1,u[l]=El&&c===n?s:c,this}Go.prototype.clear=rO,Go.prototype.delete=oO,Go.prototype.get=sO,Go.prototype.has=aO,Go.prototype.set=lO;function Nr(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}function cO(){this.__data__=[],this.size=0}function dO(l){var c=this.__data__,u=lh(c,l);if(u<0)return!1;var p=c.length-1;return u==p?c.pop():eh.call(c,u,1),--this.size,!0}function hO(l){var c=this.__data__,u=lh(c,l);return u<0?n:c[u][1]}function uO(l){return lh(this.__data__,l)>-1}function mO(l,c){var u=this.__data__,p=lh(u,l);return p<0?(++this.size,u.push([l,c])):u[p][1]=c,this}Nr.prototype.clear=cO,Nr.prototype.delete=dO,Nr.prototype.get=hO,Nr.prototype.has=uO,Nr.prototype.set=mO;function Vr(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var p=l[c];this.set(p[0],p[1])}}function fO(){this.size=0,this.__data__={hash:new Go,map:new(Sl||Nr),string:new Go}}function pO(l){var c=yh(this,l).delete(l);return this.size-=c?1:0,c}function gO(l){return yh(this,l).get(l)}function bO(l){return yh(this,l).has(l)}function _O(l,c){var u=yh(this,l),p=u.size;return u.set(l,c),this.size+=u.size==p?0:1,this}Vr.prototype.clear=fO,Vr.prototype.delete=pO,Vr.prototype.get=gO,Vr.prototype.has=bO,Vr.prototype.set=_O;function Ko(l){var c=-1,u=l==null?0:l.length;for(this.__data__=new Vr;++c<u;)this.add(l[c])}function vO(l){return this.__data__.set(l,s),this}function yO(l){return this.__data__.has(l)}Ko.prototype.add=Ko.prototype.push=vO,Ko.prototype.has=yO;function Wn(l){var c=this.__data__=new Nr(l);this.size=c.size}function xO(){this.__data__=new Nr,this.size=0}function wO(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}function kO(l){return this.__data__.get(l)}function CO(l){return this.__data__.has(l)}function DO(l,c){var u=this.__data__;if(u instanceof Nr){var p=u.__data__;if(!Sl||p.length<i-1)return p.push([l,c]),this.size=++u.size,this;u=this.__data__=new Vr(p)}return u.set(l,c),this.size=u.size,this}Wn.prototype.clear=xO,Wn.prototype.delete=wO,Wn.prototype.get=kO,Wn.prototype.has=CO,Wn.prototype.set=DO;function bx(l,c){var u=Et(l),p=!u&&ts(l),b=!u&&!p&&po(l),x=!u&&!p&&!b&&ea(l),w=u||p||b||x,D=w?ap(l.length,PR):[],E=D.length;for(var O in l)(c||oe.call(l,O))&&!(w&&(O=="length"||b&&(O=="offset"||O=="parent")||x&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Hr(O,E)))&&D.push(O);return D}function _x(l){var c=l.length;return c?l[Cp(0,c-1)]:n}function SO(l,c){return xh(Li(l),Xo(c,0,l.length))}function AO(l){return xh(Li(l))}function fp(l,c,u){(u!==n&&!$n(l[c],u)||u===n&&!(c in l))&&Br(l,c,u)}function Il(l,c,u){var p=l[c];(!(oe.call(l,c)&&$n(p,u))||u===n&&!(c in l))&&Br(l,c,u)}function lh(l,c){for(var u=l.length;u--;)if($n(l[u][0],c))return u;return-1}function EO(l,c,u,p){return ho(l,function(b,x,w){c(p,b,u(b),w)}),p}function vx(l,c){return l&&cr(c,ni(c),l)}function MO(l,c){return l&&cr(c,Vi(c),l)}function Br(l,c,u){c=="__proto__"&&ih?ih(l,c,{configurable:!0,enumerable:!0,value:u,writable:!0}):l[c]=u}function pp(l,c){for(var u=-1,p=c.length,b=I(p),x=l==null;++u<p;)b[u]=x?n:Kp(l,c[u]);return b}function Xo(l,c,u){return l===l&&(u!==n&&(l=l<=u?l:u),c!==n&&(l=l>=c?l:c)),l}function Cn(l,c,u,p,b,x){var w,D=c&h,E=c&m,O=c&f;if(u&&(w=b?u(l,p,b,x):u(l)),w!==n)return w;if(!Te(l))return l;var F=Et(l);if(F){if(w=b2(l),!D)return Li(l,w)}else{var z=bi(l),Z=z==zd||z==xy;if(po(l))return Ux(l,D);if(z==Lr||z==Pi||Z&&!b){if(w=E||Z?{}:lw(l),!D)return E?s2(l,MO(w,l)):o2(l,vx(w,l))}else{if(!ve[z])return b?l:{};w=_2(l,z,D)}}x||(x=new Wn);var rt=x.get(l);if(rt)return rt;x.set(l,w),Nw(l)?l.forEach(function(pt){w.add(Cn(pt,c,u,pt,l,x))}):Pw(l)&&l.forEach(function(pt,Ut){w.set(Ut,Cn(pt,c,u,Ut,l,x))});var ft=O?E?Pp:Fp:E?Vi:ni,Lt=F?n:ft(l);return xn(Lt||l,function(pt,Ut){Lt&&(Ut=pt,pt=l[Ut]),Il(w,Ut,Cn(pt,c,u,Ut,l,x))}),w}function IO(l){var c=ni(l);return function(u){return yx(u,l,c)}}function yx(l,c,u){var p=u.length;if(l==null)return!p;for(l=pe(l);p--;){var b=u[p],x=c[b],w=l[b];if(w===n&&!(b in l)||!x(w))return!1}return!0}function xx(l,c,u){if(typeof l!="function")throw new wn(r);return Nl(function(){l.apply(n,u)},c)}function Tl(l,c,u,p){var b=-1,x=$d,w=!0,D=l.length,E=[],O=c.length;if(!D)return E;u&&(c=Se(c,Gi(u))),p?(x=ep,w=!1):c.length>=i&&(x=Cl,w=!1,c=new Ko(c));t:for(;++b<D;){var F=l[b],z=u==null?F:u(F);if(F=p||F!==0?F:0,w&&z===z){for(var Z=O;Z--;)if(c[Z]===z)continue t;E.push(F)}else x(c,z,p)||E.push(F)}return E}var ho=Gx(lr),wx=Gx(bp,!0);function TO(l,c){var u=!0;return ho(l,function(p,b,x){return u=!!c(p,b,x),u}),u}function ch(l,c,u){for(var p=-1,b=l.length;++p<b;){var x=l[p],w=c(x);if(w!=null&&(D===n?w===w&&!Xi(w):u(w,D)))var D=w,E=x}return E}function RO(l,c,u,p){var b=l.length;for(u=Rt(u),u<0&&(u=-u>b?0:b+u),p=p===n||p>b?b:Rt(p),p<0&&(p+=b),p=u>p?0:Bw(p);u<p;)l[u++]=c;return l}function kx(l,c){var u=[];return ho(l,function(p,b,x){c(p,b,x)&&u.push(p)}),u}function ai(l,c,u,p,b){var x=-1,w=l.length;for(u||(u=y2),b||(b=[]);++x<w;){var D=l[x];c>0&&u(D)?c>1?ai(D,c-1,u,p,b):so(b,D):p||(b[b.length]=D)}return b}var gp=Kx(),Cx=Kx(!0);function lr(l,c){return l&&gp(l,c,ni)}function bp(l,c){return l&&Cx(l,c,ni)}function dh(l,c){return oo(c,function(u){return Ur(l[u])})}function Zo(l,c){c=mo(c,l);for(var u=0,p=c.length;l!=null&&u<p;)l=l[dr(c[u++])];return u&&u==p?l:n}function Dx(l,c,u){var p=c(l);return Et(l)?p:so(p,u(l))}function Ci(l){return l==null?l===n?aT:oT:qo&&qo in pe(l)?f2(l):A2(l)}function _p(l,c){return l>c}function OO(l,c){return l!=null&&oe.call(l,c)}function FO(l,c){return l!=null&&c in pe(l)}function PO(l,c,u){return l>=gi(c,u)&&l<Ke(c,u)}function vp(l,c,u){for(var p=u?ep:$d,b=l[0].length,x=l.length,w=x,D=I(x),E=1/0,O=[];w--;){var F=l[w];w&&c&&(F=Se(F,Gi(c))),E=gi(F.length,E),D[w]=!u&&(c||b>=120&&F.length>=120)?new Ko(w&&F):n}F=l[0];var z=-1,Z=D[0];t:for(;++z<b&&O.length<E;){var rt=F[z],ft=c?c(rt):rt;if(rt=u||rt!==0?rt:0,!(Z?Cl(Z,ft):p(O,ft,u))){for(w=x;--w;){var Lt=D[w];if(!(Lt?Cl(Lt,ft):p(l[w],ft,u)))continue t}Z&&Z.push(ft),O.push(rt)}}return O}function LO(l,c,u,p){return lr(l,function(b,x,w){c(p,u(b),x,w)}),p}function Rl(l,c,u){c=mo(c,l),l=uw(l,c);var p=l==null?l:l[dr(Sn(c))];return p==null?n:qi(p,l,u)}function Sx(l){return Pe(l)&&Ci(l)==Pi}function NO(l){return Pe(l)&&Ci(l)==kl}function VO(l){return Pe(l)&&Ci(l)==_l}function Ol(l,c,u,p,b){return l===c?!0:l==null||c==null||!Pe(l)&&!Pe(c)?l!==l&&c!==c:BO(l,c,u,p,Ol,b)}function BO(l,c,u,p,b,x){var w=Et(l),D=Et(c),E=w?zn:bi(l),O=D?zn:bi(c);E=E==Pi?Lr:E,O=O==Pi?Lr:O;var F=E==Lr,z=O==Lr,Z=E==O;if(Z&&po(l)){if(!po(c))return!1;w=!0,F=!1}if(Z&&!F)return x||(x=new Wn),w||ea(l)?ow(l,c,u,p,b,x):u2(l,c,E,u,p,b,x);if(!(u&g)){var rt=F&&oe.call(l,"__wrapped__"),ft=z&&oe.call(c,"__wrapped__");if(rt||ft){var Lt=rt?l.value():l,pt=ft?c.value():c;return x||(x=new Wn),b(Lt,pt,u,p,x)}}return Z?(x||(x=new Wn),m2(l,c,u,p,b,x)):!1}function zO(l){return Pe(l)&&bi(l)==jn}function yp(l,c,u,p){var b=u.length,x=b,w=!p;if(l==null)return!x;for(l=pe(l);b--;){var D=u[b];if(w&&D[2]?D[1]!==l[D[0]]:!(D[0]in l))return!1}for(;++b<x;){D=u[b];var E=D[0],O=l[E],F=D[1];if(w&&D[2]){if(O===n&&!(E in l))return!1}else{var z=new Wn;if(p)var Z=p(O,F,E,l,c,z);if(!(Z===n?Ol(F,O,g|_,p,z):Z))return!1}}return!0}function Ax(l){if(!Te(l)||w2(l))return!1;var c=Ur(l)?zR:IT;return c.test(Jo(l))}function jO(l){return Pe(l)&&Ci(l)==yl}function HO(l){return Pe(l)&&bi(l)==Hn}function UO(l){return Pe(l)&&Ah(l.length)&&!!Ce[Ci(l)]}function Ex(l){return typeof l=="function"?l:l==null?Bi:typeof l=="object"?Et(l)?Tx(l[0],l[1]):Ix(l):Xw(l)}function xp(l){if(!Ll(l))return YR(l);var c=[];for(var u in pe(l))oe.call(l,u)&&u!="constructor"&&c.push(u);return c}function WO(l){if(!Te(l))return S2(l);var c=Ll(l),u=[];for(var p in l)p=="constructor"&&(c||!oe.call(l,p))||u.push(p);return u}function wp(l,c){return l<c}function Mx(l,c){var u=-1,p=Ni(l)?I(l.length):[];return ho(l,function(b,x,w){p[++u]=c(b,x,w)}),p}function Ix(l){var c=Np(l);return c.length==1&&c[0][2]?dw(c[0][0],c[0][1]):function(u){return u===l||yp(u,l,c)}}function Tx(l,c){return Bp(l)&&cw(c)?dw(dr(l),c):function(u){var p=Kp(u,l);return p===n&&p===c?Xp(u,l):Ol(c,p,g|_)}}function hh(l,c,u,p,b){l!==c&&gp(c,function(x,w){if(b||(b=new Wn),Te(x))$O(l,c,w,u,hh,p,b);else{var D=p?p(jp(l,w),x,w+"",l,c,b):n;D===n&&(D=x),fp(l,w,D)}},Vi)}function $O(l,c,u,p,b,x,w){var D=jp(l,u),E=jp(c,u),O=w.get(E);if(O){fp(l,u,O);return}var F=x?x(D,E,u+"",l,c,w):n,z=F===n;if(z){var Z=Et(E),rt=!Z&&po(E),ft=!Z&&!rt&&ea(E);F=E,Z||rt||ft?Et(D)?F=D:Be(D)?F=Li(D):rt?(z=!1,F=Ux(E,!0)):ft?(z=!1,F=Wx(E,!0)):F=[]:Vl(E)||ts(E)?(F=D,ts(D)?F=zw(D):(!Te(D)||Ur(D))&&(F=lw(E))):z=!1}z&&(w.set(E,F),b(F,E,p,x,w),w.delete(E)),fp(l,u,F)}function Rx(l,c){var u=l.length;if(u)return c+=c<0?u:0,Hr(c,u)?l[c]:n}function Ox(l,c,u){c.length?c=Se(c,function(x){return Et(x)?function(w){return Zo(w,x.length===1?x[0]:x)}:x}):c=[Bi];var p=-1;c=Se(c,Gi(ut()));var b=Mx(l,function(x,w,D){var E=Se(c,function(O){return O(x)});return{criteria:E,index:++p,value:x}});return _R(b,function(x,w){return r2(x,w,u)})}function YO(l,c){return Fx(l,c,function(u,p){return Xp(l,p)})}function Fx(l,c,u){for(var p=-1,b=c.length,x={};++p<b;){var w=c[p],D=Zo(l,w);u(D,w)&&Fl(x,mo(w,l),D)}return x}function qO(l){return function(c){return Zo(c,l)}}function kp(l,c,u,p){var b=p?bR:$s,x=-1,w=c.length,D=l;for(l===c&&(c=Li(c)),u&&(D=Se(l,Gi(u)));++x<w;)for(var E=0,O=c[x],F=u?u(O):O;(E=b(D,F,E,p))>-1;)D!==l&&eh.call(D,E,1),eh.call(l,E,1);return l}function Px(l,c){for(var u=l?c.length:0,p=u-1;u--;){var b=c[u];if(u==p||b!==x){var x=b;Hr(b)?eh.call(l,b,1):Ap(l,b)}}return l}function Cp(l,c){return l+rh(px()*(c-l+1))}function GO(l,c,u,p){for(var b=-1,x=Ke(nh((c-l)/(u||1)),0),w=I(x);x--;)w[p?x:++b]=l,l+=u;return w}function Dp(l,c){var u="";if(!l||c<1||c>Me)return u;do c%2&&(u+=l),c=rh(c/2),c&&(l+=l);while(c);return u}function Vt(l,c){return Hp(hw(l,c,Bi),l+"")}function KO(l){return _x(ia(l))}function XO(l,c){var u=ia(l);return xh(u,Xo(c,0,u.length))}function Fl(l,c,u,p){if(!Te(l))return l;c=mo(c,l);for(var b=-1,x=c.length,w=x-1,D=l;D!=null&&++b<x;){var E=dr(c[b]),O=u;if(E==="__proto__"||E==="constructor"||E==="prototype")return l;if(b!=w){var F=D[E];O=p?p(F,E,D):n,O===n&&(O=Te(F)?F:Hr(c[b+1])?[]:{})}Il(D,E,O),D=D[E]}return l}var Lx=oh?function(l,c){return oh.set(l,c),l}:Bi,ZO=ih?function(l,c){return ih(l,"toString",{configurable:!0,enumerable:!1,value:Qp(c),writable:!0})}:Bi;function QO(l){return xh(ia(l))}function Dn(l,c,u){var p=-1,b=l.length;c<0&&(c=-c>b?0:b+c),u=u>b?b:u,u<0&&(u+=b),b=c>u?0:u-c>>>0,c>>>=0;for(var x=I(b);++p<b;)x[p]=l[p+c];return x}function JO(l,c){var u;return ho(l,function(p,b,x){return u=c(p,b,x),!u}),!!u}function uh(l,c,u){var p=0,b=l==null?p:l.length;if(typeof c=="number"&&c===c&&b<=Fi){for(;p<b;){var x=p+b>>>1,w=l[x];w!==null&&!Xi(w)&&(u?w<=c:w<c)?p=x+1:b=x}return b}return Sp(l,c,Bi,u)}function Sp(l,c,u,p){var b=0,x=l==null?0:l.length;if(x===0)return 0;c=u(c);for(var w=c!==c,D=c===null,E=Xi(c),O=c===n;b<x;){var F=rh((b+x)/2),z=u(l[F]),Z=z!==n,rt=z===null,ft=z===z,Lt=Xi(z);if(w)var pt=p||ft;else O?pt=ft&&(p||Z):D?pt=ft&&Z&&(p||!rt):E?pt=ft&&Z&&!rt&&(p||!Lt):rt||Lt?pt=!1:pt=p?z<=c:z<c;pt?b=F+1:x=F}return gi(x,Ve)}function Nx(l,c){for(var u=-1,p=l.length,b=0,x=[];++u<p;){var w=l[u],D=c?c(w):w;if(!u||!$n(D,E)){var E=D;x[b++]=w===0?0:w}}return x}function Vx(l){return typeof l=="number"?l:Xi(l)?ei:+l}function Ki(l){if(typeof l=="string")return l;if(Et(l))return Se(l,Ki)+"";if(Xi(l))return gx?gx.call(l):"";var c=l+"";return c=="0"&&1/l==-Jt?"-0":c}function uo(l,c,u){var p=-1,b=$d,x=l.length,w=!0,D=[],E=D;if(u)w=!1,b=ep;else if(x>=i){var O=c?null:d2(l);if(O)return qd(O);w=!1,b=Cl,E=new Ko}else E=c?[]:D;t:for(;++p<x;){var F=l[p],z=c?c(F):F;if(F=u||F!==0?F:0,w&&z===z){for(var Z=E.length;Z--;)if(E[Z]===z)continue t;c&&E.push(z),D.push(F)}else b(E,z,u)||(E!==D&&E.push(z),D.push(F))}return D}function Ap(l,c){return c=mo(c,l),l=uw(l,c),l==null||delete l[dr(Sn(c))]}function Bx(l,c,u,p){return Fl(l,c,u(Zo(l,c)),p)}function mh(l,c,u,p){for(var b=l.length,x=p?b:-1;(p?x--:++x<b)&&c(l[x],x,l););return u?Dn(l,p?0:x,p?x+1:b):Dn(l,p?x+1:0,p?b:x)}function zx(l,c){var u=l;return u instanceof $t&&(u=u.value()),ip(c,function(p,b){return b.func.apply(b.thisArg,so([p],b.args))},u)}function Ep(l,c,u){var p=l.length;if(p<2)return p?uo(l[0]):[];for(var b=-1,x=I(p);++b<p;)for(var w=l[b],D=-1;++D<p;)D!=b&&(x[b]=Tl(x[b]||w,l[D],c,u));return uo(ai(x,1),c,u)}function jx(l,c,u){for(var p=-1,b=l.length,x=c.length,w={};++p<b;){var D=p<x?c[p]:n;u(w,l[p],D)}return w}function Mp(l){return Be(l)?l:[]}function Ip(l){return typeof l=="function"?l:Bi}function mo(l,c){return Et(l)?l:Bp(l,c)?[l]:gw(ie(l))}var t2=Vt;function fo(l,c,u){var p=l.length;return u=u===n?p:u,!c&&u>=p?l:Dn(l,c,u)}var Hx=jR||function(l){return ii.clearTimeout(l)};function Ux(l,c){if(c)return l.slice();var u=l.length,p=dx?dx(u):new l.constructor(u);return l.copy(p),p}function Tp(l){var c=new l.constructor(l.byteLength);return new Jd(c).set(new Jd(l)),c}function e2(l,c){var u=c?Tp(l.buffer):l.buffer;return new l.constructor(u,l.byteOffset,l.byteLength)}function i2(l){var c=new l.constructor(l.source,Sy.exec(l));return c.lastIndex=l.lastIndex,c}function n2(l){return Ml?pe(Ml.call(l)):{}}function Wx(l,c){var u=c?Tp(l.buffer):l.buffer;return new l.constructor(u,l.byteOffset,l.length)}function $x(l,c){if(l!==c){var u=l!==n,p=l===null,b=l===l,x=Xi(l),w=c!==n,D=c===null,E=c===c,O=Xi(c);if(!D&&!O&&!x&&l>c||x&&w&&E&&!D&&!O||p&&w&&E||!u&&E||!b)return 1;if(!p&&!x&&!O&&l<c||O&&u&&b&&!p&&!x||D&&u&&b||!w&&b||!E)return-1}return 0}function r2(l,c,u){for(var p=-1,b=l.criteria,x=c.criteria,w=b.length,D=u.length;++p<w;){var E=$x(b[p],x[p]);if(E){if(p>=D)return E;var O=u[p];return E*(O=="desc"?-1:1)}}return l.index-c.index}function Yx(l,c,u,p){for(var b=-1,x=l.length,w=u.length,D=-1,E=c.length,O=Ke(x-w,0),F=I(E+O),z=!p;++D<E;)F[D]=c[D];for(;++b<w;)(z||b<x)&&(F[u[b]]=l[b]);for(;O--;)F[D++]=l[b++];return F}function qx(l,c,u,p){for(var b=-1,x=l.length,w=-1,D=u.length,E=-1,O=c.length,F=Ke(x-D,0),z=I(F+O),Z=!p;++b<F;)z[b]=l[b];for(var rt=b;++E<O;)z[rt+E]=c[E];for(;++w<D;)(Z||b<x)&&(z[rt+u[w]]=l[b++]);return z}function Li(l,c){var u=-1,p=l.length;for(c||(c=I(p));++u<p;)c[u]=l[u];return c}function cr(l,c,u,p){var b=!u;u||(u={});for(var x=-1,w=c.length;++x<w;){var D=c[x],E=p?p(u[D],l[D],D,u,l):n;E===n&&(E=l[D]),b?Br(u,D,E):Il(u,D,E)}return u}function o2(l,c){return cr(l,Vp(l),c)}function s2(l,c){return cr(l,sw(l),c)}function fh(l,c){return function(u,p){var b=Et(u)?hR:EO,x=c?c():{};return b(u,l,ut(p,2),x)}}function Qs(l){return Vt(function(c,u){var p=-1,b=u.length,x=b>1?u[b-1]:n,w=b>2?u[2]:n;for(x=l.length>3&&typeof x=="function"?(b--,x):n,w&&Di(u[0],u[1],w)&&(x=b<3?n:x,b=1),c=pe(c);++p<b;){var D=u[p];D&&l(c,D,p,x)}return c})}function Gx(l,c){return function(u,p){if(u==null)return u;if(!Ni(u))return l(u,p);for(var b=u.length,x=c?b:-1,w=pe(u);(c?x--:++x<b)&&p(w[x],x,w)!==!1;);return u}}function Kx(l){return function(c,u,p){for(var b=-1,x=pe(c),w=p(c),D=w.length;D--;){var E=w[l?D:++b];if(u(x[E],E,x)===!1)break}return c}}function a2(l,c,u){var p=c&y,b=Pl(l);function x(){var w=this&&this!==ii&&this instanceof x?b:l;return w.apply(p?u:this,arguments)}return x}function Xx(l){return function(c){c=ie(c);var u=Ys(c)?Un(c):n,p=u?u[0]:c.charAt(0),b=u?fo(u,1).join(""):c.slice(1);return p[l]()+b}}function Js(l){return function(c){return ip(Gw(qw(c).replace(ZT,"")),l,"")}}function Pl(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var u=Zs(l.prototype),p=l.apply(u,c);return Te(p)?p:u}}function l2(l,c,u){var p=Pl(l);function b(){for(var x=arguments.length,w=I(x),D=x,E=ta(b);D--;)w[D]=arguments[D];var O=x<3&&w[0]!==E&&w[x-1]!==E?[]:ao(w,E);if(x-=O.length,x<u)return ew(l,c,ph,b.placeholder,n,w,O,n,n,u-x);var F=this&&this!==ii&&this instanceof b?p:l;return qi(F,this,w)}return b}function Zx(l){return function(c,u,p){var b=pe(c);if(!Ni(c)){var x=ut(u,3);c=ni(c),u=function(D){return x(b[D],D,b)}}var w=l(c,u,p);return w>-1?b[x?c[w]:w]:n}}function Qx(l){return jr(function(c){var u=c.length,p=u,b=kn.prototype.thru;for(l&&c.reverse();p--;){var x=c[p];if(typeof x!="function")throw new wn(r);if(b&&!w&&vh(x)=="wrapper")var w=new kn([],!0)}for(p=w?p:u;++p<u;){x=c[p];var D=vh(x),E=D=="wrapper"?Lp(x):n;E&&zp(E[0])&&E[1]==(V|M|U|G)&&!E[4].length&&E[9]==1?w=w[vh(E[0])].apply(w,E[3]):w=x.length==1&&zp(x)?w[D]():w.thru(x)}return function(){var O=arguments,F=O[0];if(w&&O.length==1&&Et(F))return w.plant(F).value();for(var z=0,Z=u?c[z].apply(this,O):F;++z<u;)Z=c[z].call(this,Z);return Z}})}function ph(l,c,u,p,b,x,w,D,E,O){var F=c&V,z=c&y,Z=c&k,rt=c&(M|B),ft=c&X,Lt=Z?n:Pl(l);function pt(){for(var Ut=arguments.length,Yt=I(Ut),Zi=Ut;Zi--;)Yt[Zi]=arguments[Zi];if(rt)var Si=ta(pt),Qi=yR(Yt,Si);if(p&&(Yt=Yx(Yt,p,b,rt)),x&&(Yt=qx(Yt,x,w,rt)),Ut-=Qi,rt&&Ut<O){var ze=ao(Yt,Si);return ew(l,c,ph,pt.placeholder,u,Yt,ze,D,E,O-Ut)}var Yn=z?u:this,$r=Z?Yn[l]:l;return Ut=Yt.length,D?Yt=E2(Yt,D):ft&&Ut>1&&Yt.reverse(),F&&E<Ut&&(Yt.length=E),this&&this!==ii&&this instanceof pt&&($r=Lt||Pl($r)),$r.apply(Yn,Yt)}return pt}function Jx(l,c){return function(u,p){return LO(u,l,c(p),{})}}function gh(l,c){return function(u,p){var b;if(u===n&&p===n)return c;if(u!==n&&(b=u),p!==n){if(b===n)return p;typeof u=="string"||typeof p=="string"?(u=Ki(u),p=Ki(p)):(u=Vx(u),p=Vx(p)),b=l(u,p)}return b}}function Rp(l){return jr(function(c){return c=Se(c,Gi(ut())),Vt(function(u){var p=this;return l(c,function(b){return qi(b,p,u)})})})}function bh(l,c){c=c===n?" ":Ki(c);var u=c.length;if(u<2)return u?Dp(c,l):c;var p=Dp(c,nh(l/qs(c)));return Ys(c)?fo(Un(p),0,l).join(""):p.slice(0,l)}function c2(l,c,u,p){var b=c&y,x=Pl(l);function w(){for(var D=-1,E=arguments.length,O=-1,F=p.length,z=I(F+E),Z=this&&this!==ii&&this instanceof w?x:l;++O<F;)z[O]=p[O];for(;E--;)z[O++]=arguments[++D];return qi(Z,b?u:this,z)}return w}function tw(l){return function(c,u,p){return p&&typeof p!="number"&&Di(c,u,p)&&(u=p=n),c=Wr(c),u===n?(u=c,c=0):u=Wr(u),p=p===n?c<u?1:-1:Wr(p),GO(c,u,p,l)}}function _h(l){return function(c,u){return typeof c=="string"&&typeof u=="string"||(c=An(c),u=An(u)),l(c,u)}}function ew(l,c,u,p,b,x,w,D,E,O){var F=c&M,z=F?w:n,Z=F?n:w,rt=F?x:n,ft=F?n:x;c|=F?U:W,c&=~(F?W:U),c&S||(c&=~(y|k));var Lt=[l,c,b,rt,z,ft,Z,D,E,O],pt=u.apply(n,Lt);return zp(l)&&mw(pt,Lt),pt.placeholder=p,fw(pt,l,c)}function Op(l){var c=Ge[l];return function(u,p){if(u=An(u),p=p==null?0:gi(Rt(p),292),p&&fx(u)){var b=(ie(u)+"e").split("e"),x=c(b[0]+"e"+(+b[1]+p));return b=(ie(x)+"e").split("e"),+(b[0]+"e"+(+b[1]-p))}return c(u)}}var d2=Ks&&1/qd(new Ks([,-0]))[1]==Jt?function(l){return new Ks(l)}:eg;function iw(l){return function(c){var u=bi(c);return u==jn?cp(c):u==Hn?AR(c):vR(c,l(c))}}function zr(l,c,u,p,b,x,w,D){var E=c&k;if(!E&&typeof l!="function")throw new wn(r);var O=p?p.length:0;if(O||(c&=~(U|W),p=b=n),w=w===n?w:Ke(Rt(w),0),D=D===n?D:Rt(D),O-=b?b.length:0,c&W){var F=p,z=b;p=b=n}var Z=E?n:Lp(l),rt=[l,c,u,p,b,F,z,x,w,D];if(Z&&D2(rt,Z),l=rt[0],c=rt[1],u=rt[2],p=rt[3],b=rt[4],D=rt[9]=rt[9]===n?E?0:l.length:Ke(rt[9]-O,0),!D&&c&(M|B)&&(c&=~(M|B)),!c||c==y)var ft=a2(l,c,u);else c==M||c==B?ft=l2(l,c,D):(c==U||c==(y|U))&&!b.length?ft=c2(l,c,u,p):ft=ph.apply(n,rt);var Lt=Z?Lx:mw;return fw(Lt(ft,rt),l,c)}function nw(l,c,u,p){return l===n||$n(l,Gs[u])&&!oe.call(p,u)?c:l}function rw(l,c,u,p,b,x){return Te(l)&&Te(c)&&(x.set(c,l),hh(l,c,n,rw,x),x.delete(c)),l}function h2(l){return Vl(l)?n:l}function ow(l,c,u,p,b,x){var w=u&g,D=l.length,E=c.length;if(D!=E&&!(w&&E>D))return!1;var O=x.get(l),F=x.get(c);if(O&&F)return O==c&&F==l;var z=-1,Z=!0,rt=u&_?new Ko:n;for(x.set(l,c),x.set(c,l);++z<D;){var ft=l[z],Lt=c[z];if(p)var pt=w?p(Lt,ft,z,c,l,x):p(ft,Lt,z,l,c,x);if(pt!==n){if(pt)continue;Z=!1;break}if(rt){if(!np(c,function(Ut,Yt){if(!Cl(rt,Yt)&&(ft===Ut||b(ft,Ut,u,p,x)))return rt.push(Yt)})){Z=!1;break}}else if(!(ft===Lt||b(ft,Lt,u,p,x))){Z=!1;break}}return x.delete(l),x.delete(c),Z}function u2(l,c,u,p,b,x,w){switch(u){case Us:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case kl:return!(l.byteLength!=c.byteLength||!x(new Jd(l),new Jd(c)));case ro:case _l:case vl:return $n(+l,+c);case Bd:return l.name==c.name&&l.message==c.message;case yl:case xl:return l==c+"";case jn:var D=cp;case Hn:var E=p&g;if(D||(D=qd),l.size!=c.size&&!E)return!1;var O=w.get(l);if(O)return O==c;p|=_,w.set(l,c);var F=ow(D(l),D(c),p,b,x,w);return w.delete(l),F;case jd:if(Ml)return Ml.call(l)==Ml.call(c)}return!1}function m2(l,c,u,p,b,x){var w=u&g,D=Fp(l),E=D.length,O=Fp(c),F=O.length;if(E!=F&&!w)return!1;for(var z=E;z--;){var Z=D[z];if(!(w?Z in c:oe.call(c,Z)))return!1}var rt=x.get(l),ft=x.get(c);if(rt&&ft)return rt==c&&ft==l;var Lt=!0;x.set(l,c),x.set(c,l);for(var pt=w;++z<E;){Z=D[z];var Ut=l[Z],Yt=c[Z];if(p)var Zi=w?p(Yt,Ut,Z,c,l,x):p(Ut,Yt,Z,l,c,x);if(!(Zi===n?Ut===Yt||b(Ut,Yt,u,p,x):Zi)){Lt=!1;break}pt||(pt=Z=="constructor")}if(Lt&&!pt){var Si=l.constructor,Qi=c.constructor;Si!=Qi&&"constructor"in l&&"constructor"in c&&!(typeof Si=="function"&&Si instanceof Si&&typeof Qi=="function"&&Qi instanceof Qi)&&(Lt=!1)}return x.delete(l),x.delete(c),Lt}function jr(l){return Hp(hw(l,n,yw),l+"")}function Fp(l){return Dx(l,ni,Vp)}function Pp(l){return Dx(l,Vi,sw)}var Lp=oh?function(l){return oh.get(l)}:eg;function vh(l){for(var c=l.name+"",u=Xs[c],p=oe.call(Xs,c)?u.length:0;p--;){var b=u[p],x=b.func;if(x==null||x==l)return b.name}return c}function ta(l){var c=oe.call(v,"placeholder")?v:l;return c.placeholder}function ut(){var l=v.iteratee||Jp;return l=l===Jp?Ex:l,arguments.length?l(arguments[0],arguments[1]):l}function yh(l,c){var u=l.__data__;return x2(c)?u[typeof c=="string"?"string":"hash"]:u.map}function Np(l){for(var c=ni(l),u=c.length;u--;){var p=c[u],b=l[p];c[u]=[p,b,cw(b)]}return c}function Qo(l,c){var u=CR(l,c);return Ax(u)?u:n}function f2(l){var c=oe.call(l,qo),u=l[qo];try{l[qo]=n;var p=!0}catch{}var b=Zd.call(l);return p&&(c?l[qo]=u:delete l[qo]),b}var Vp=hp?function(l){return l==null?[]:(l=pe(l),oo(hp(l),function(c){return ux.call(l,c)}))}:ig,sw=hp?function(l){for(var c=[];l;)so(c,Vp(l)),l=th(l);return c}:ig,bi=Ci;(up&&bi(new up(new ArrayBuffer(1)))!=Us||Sl&&bi(new Sl)!=jn||mp&&bi(mp.resolve())!=wy||Ks&&bi(new Ks)!=Hn||Al&&bi(new Al)!=wl)&&(bi=function(l){var c=Ci(l),u=c==Lr?l.constructor:n,p=u?Jo(u):"";if(p)switch(p){case XR:return Us;case ZR:return jn;case QR:return wy;case JR:return Hn;case tO:return wl}return c});function p2(l,c,u){for(var p=-1,b=u.length;++p<b;){var x=u[p],w=x.size;switch(x.type){case"drop":l+=w;break;case"dropRight":c-=w;break;case"take":c=gi(c,l+w);break;case"takeRight":l=Ke(l,c-w);break}}return{start:l,end:c}}function g2(l){var c=l.match(wT);return c?c[1].split(kT):[]}function aw(l,c,u){c=mo(c,l);for(var p=-1,b=c.length,x=!1;++p<b;){var w=dr(c[p]);if(!(x=l!=null&&u(l,w)))break;l=l[w]}return x||++p!=b?x:(b=l==null?0:l.length,!!b&&Ah(b)&&Hr(w,b)&&(Et(l)||ts(l)))}function b2(l){var c=l.length,u=new l.constructor(c);return c&&typeof l[0]=="string"&&oe.call(l,"index")&&(u.index=l.index,u.input=l.input),u}function lw(l){return typeof l.constructor=="function"&&!Ll(l)?Zs(th(l)):{}}function _2(l,c,u){var p=l.constructor;switch(c){case kl:return Tp(l);case ro:case _l:return new p(+l);case Us:return e2(l,u);case Nf:case Vf:case Bf:case zf:case jf:case Hf:case Uf:case Wf:case $f:return Wx(l,u);case jn:return new p;case vl:case xl:return new p(l);case yl:return i2(l);case Hn:return new p;case jd:return n2(l)}}function v2(l,c){var u=c.length;if(!u)return l;var p=u-1;return c[p]=(u>1?"& ":"")+c[p],c=c.join(u>2?", ":" "),l.replace(xT,`{
/* [wrapped with `+c+`] */
`)}function y2(l){return Et(l)||ts(l)||!!(mx&&l&&l[mx])}function Hr(l,c){var u=typeof l;return c=c??Me,!!c&&(u=="number"||u!="symbol"&&RT.test(l))&&l>-1&&l%1==0&&l<c}function Di(l,c,u){if(!Te(u))return!1;var p=typeof c;return(p=="number"?Ni(u)&&Hr(c,u.length):p=="string"&&c in u)?$n(u[c],l):!1}function Bp(l,c){if(Et(l))return!1;var u=typeof l;return u=="number"||u=="symbol"||u=="boolean"||l==null||Xi(l)?!0:bT.test(l)||!gT.test(l)||c!=null&&l in pe(c)}function x2(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function zp(l){var c=vh(l),u=v[c];if(typeof u!="function"||!(c in $t.prototype))return!1;if(l===u)return!0;var p=Lp(u);return!!p&&l===p[0]}function w2(l){return!!cx&&cx in l}var k2=Kd?Ur:ng;function Ll(l){var c=l&&l.constructor,u=typeof c=="function"&&c.prototype||Gs;return l===u}function cw(l){return l===l&&!Te(l)}function dw(l,c){return function(u){return u==null?!1:u[l]===c&&(c!==n||l in pe(u))}}function C2(l){var c=Dh(l,function(p){return u.size===a&&u.clear(),p}),u=c.cache;return c}function D2(l,c){var u=l[1],p=c[1],b=u|p,x=b<(y|k|V),w=p==V&&u==M||p==V&&u==G&&l[7].length<=c[8]||p==(V|G)&&c[7].length<=c[8]&&u==M;if(!(x||w))return l;p&y&&(l[2]=c[2],b|=u&y?0:S);var D=c[3];if(D){var E=l[3];l[3]=E?Yx(E,D,c[4]):D,l[4]=E?ao(l[3],d):c[4]}return D=c[5],D&&(E=l[5],l[5]=E?qx(E,D,c[6]):D,l[6]=E?ao(l[5],d):c[6]),D=c[7],D&&(l[7]=D),p&V&&(l[8]=l[8]==null?c[8]:gi(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=b,l}function S2(l){var c=[];if(l!=null)for(var u in pe(l))c.push(u);return c}function A2(l){return Zd.call(l)}function hw(l,c,u){return c=Ke(c===n?l.length-1:c,0),function(){for(var p=arguments,b=-1,x=Ke(p.length-c,0),w=I(x);++b<x;)w[b]=p[c+b];b=-1;for(var D=I(c+1);++b<c;)D[b]=p[b];return D[c]=u(w),qi(l,this,D)}}function uw(l,c){return c.length<2?l:Zo(l,Dn(c,0,-1))}function E2(l,c){for(var u=l.length,p=gi(c.length,u),b=Li(l);p--;){var x=c[p];l[p]=Hr(x,u)?b[x]:n}return l}function jp(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var mw=pw(Lx),Nl=UR||function(l,c){return ii.setTimeout(l,c)},Hp=pw(ZO);function fw(l,c,u){var p=c+"";return Hp(l,v2(p,M2(g2(p),u)))}function pw(l){var c=0,u=0;return function(){var p=qR(),b=Nt-(p-u);if(u=p,b>0){if(++c>=Wt)return arguments[0]}else c=0;return l.apply(n,arguments)}}function xh(l,c){var u=-1,p=l.length,b=p-1;for(c=c===n?p:c;++u<c;){var x=Cp(u,b),w=l[x];l[x]=l[u],l[u]=w}return l.length=c,l}var gw=C2(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(_T,function(u,p,b,x){c.push(b?x.replace(ST,"$1"):p||u)}),c});function dr(l){if(typeof l=="string"||Xi(l))return l;var c=l+"";return c=="0"&&1/l==-Jt?"-0":c}function Jo(l){if(l!=null){try{return Xd.call(l)}catch{}try{return l+""}catch{}}return""}function M2(l,c){return xn(vn,function(u){var p="_."+u[0];c&u[1]&&!$d(l,p)&&l.push(p)}),l.sort()}function bw(l){if(l instanceof $t)return l.clone();var c=new kn(l.__wrapped__,l.__chain__);return c.__actions__=Li(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function I2(l,c,u){(u?Di(l,c,u):c===n)?c=1:c=Ke(Rt(c),0);var p=l==null?0:l.length;if(!p||c<1)return[];for(var b=0,x=0,w=I(nh(p/c));b<p;)w[x++]=Dn(l,b,b+=c);return w}function T2(l){for(var c=-1,u=l==null?0:l.length,p=0,b=[];++c<u;){var x=l[c];x&&(b[p++]=x)}return b}function R2(){var l=arguments.length;if(!l)return[];for(var c=I(l-1),u=arguments[0],p=l;p--;)c[p-1]=arguments[p];return so(Et(u)?Li(u):[u],ai(c,1))}var O2=Vt(function(l,c){return Be(l)?Tl(l,ai(c,1,Be,!0)):[]}),F2=Vt(function(l,c){var u=Sn(c);return Be(u)&&(u=n),Be(l)?Tl(l,ai(c,1,Be,!0),ut(u,2)):[]}),P2=Vt(function(l,c){var u=Sn(c);return Be(u)&&(u=n),Be(l)?Tl(l,ai(c,1,Be,!0),n,u):[]});function L2(l,c,u){var p=l==null?0:l.length;return p?(c=u||c===n?1:Rt(c),Dn(l,c<0?0:c,p)):[]}function N2(l,c,u){var p=l==null?0:l.length;return p?(c=u||c===n?1:Rt(c),c=p-c,Dn(l,0,c<0?0:c)):[]}function V2(l,c){return l&&l.length?mh(l,ut(c,3),!0,!0):[]}function B2(l,c){return l&&l.length?mh(l,ut(c,3),!0):[]}function z2(l,c,u,p){var b=l==null?0:l.length;return b?(u&&typeof u!="number"&&Di(l,c,u)&&(u=0,p=b),RO(l,c,u,p)):[]}function _w(l,c,u){var p=l==null?0:l.length;if(!p)return-1;var b=u==null?0:Rt(u);return b<0&&(b=Ke(p+b,0)),Yd(l,ut(c,3),b)}function vw(l,c,u){var p=l==null?0:l.length;if(!p)return-1;var b=p-1;return u!==n&&(b=Rt(u),b=u<0?Ke(p+b,0):gi(b,p-1)),Yd(l,ut(c,3),b,!0)}function yw(l){var c=l==null?0:l.length;return c?ai(l,1):[]}function j2(l){var c=l==null?0:l.length;return c?ai(l,Jt):[]}function H2(l,c){var u=l==null?0:l.length;return u?(c=c===n?1:Rt(c),ai(l,c)):[]}function U2(l){for(var c=-1,u=l==null?0:l.length,p={};++c<u;){var b=l[c];p[b[0]]=b[1]}return p}function xw(l){return l&&l.length?l[0]:n}function W2(l,c,u){var p=l==null?0:l.length;if(!p)return-1;var b=u==null?0:Rt(u);return b<0&&(b=Ke(p+b,0)),$s(l,c,b)}function $2(l){var c=l==null?0:l.length;return c?Dn(l,0,-1):[]}var Y2=Vt(function(l){var c=Se(l,Mp);return c.length&&c[0]===l[0]?vp(c):[]}),q2=Vt(function(l){var c=Sn(l),u=Se(l,Mp);return c===Sn(u)?c=n:u.pop(),u.length&&u[0]===l[0]?vp(u,ut(c,2)):[]}),G2=Vt(function(l){var c=Sn(l),u=Se(l,Mp);return c=typeof c=="function"?c:n,c&&u.pop(),u.length&&u[0]===l[0]?vp(u,n,c):[]});function K2(l,c){return l==null?"":$R.call(l,c)}function Sn(l){var c=l==null?0:l.length;return c?l[c-1]:n}function X2(l,c,u){var p=l==null?0:l.length;if(!p)return-1;var b=p;return u!==n&&(b=Rt(u),b=b<0?Ke(p+b,0):gi(b,p-1)),c===c?MR(l,c,b):Yd(l,ex,b,!0)}function Z2(l,c){return l&&l.length?Rx(l,Rt(c)):n}var Q2=Vt(ww);function ww(l,c){return l&&l.length&&c&&c.length?kp(l,c):l}function J2(l,c,u){return l&&l.length&&c&&c.length?kp(l,c,ut(u,2)):l}function tF(l,c,u){return l&&l.length&&c&&c.length?kp(l,c,n,u):l}var eF=jr(function(l,c){var u=l==null?0:l.length,p=pp(l,c);return Px(l,Se(c,function(b){return Hr(b,u)?+b:b}).sort($x)),p});function iF(l,c){var u=[];if(!(l&&l.length))return u;var p=-1,b=[],x=l.length;for(c=ut(c,3);++p<x;){var w=l[p];c(w,p,l)&&(u.push(w),b.push(p))}return Px(l,b),u}function Up(l){return l==null?l:KR.call(l)}function nF(l,c,u){var p=l==null?0:l.length;return p?(u&&typeof u!="number"&&Di(l,c,u)?(c=0,u=p):(c=c==null?0:Rt(c),u=u===n?p:Rt(u)),Dn(l,c,u)):[]}function rF(l,c){return uh(l,c)}function oF(l,c,u){return Sp(l,c,ut(u,2))}function sF(l,c){var u=l==null?0:l.length;if(u){var p=uh(l,c);if(p<u&&$n(l[p],c))return p}return-1}function aF(l,c){return uh(l,c,!0)}function lF(l,c,u){return Sp(l,c,ut(u,2),!0)}function cF(l,c){var u=l==null?0:l.length;if(u){var p=uh(l,c,!0)-1;if($n(l[p],c))return p}return-1}function dF(l){return l&&l.length?Nx(l):[]}function hF(l,c){return l&&l.length?Nx(l,ut(c,2)):[]}function uF(l){var c=l==null?0:l.length;return c?Dn(l,1,c):[]}function mF(l,c,u){return l&&l.length?(c=u||c===n?1:Rt(c),Dn(l,0,c<0?0:c)):[]}function fF(l,c,u){var p=l==null?0:l.length;return p?(c=u||c===n?1:Rt(c),c=p-c,Dn(l,c<0?0:c,p)):[]}function pF(l,c){return l&&l.length?mh(l,ut(c,3),!1,!0):[]}function gF(l,c){return l&&l.length?mh(l,ut(c,3)):[]}var bF=Vt(function(l){return uo(ai(l,1,Be,!0))}),_F=Vt(function(l){var c=Sn(l);return Be(c)&&(c=n),uo(ai(l,1,Be,!0),ut(c,2))}),vF=Vt(function(l){var c=Sn(l);return c=typeof c=="function"?c:n,uo(ai(l,1,Be,!0),n,c)});function yF(l){return l&&l.length?uo(l):[]}function xF(l,c){return l&&l.length?uo(l,ut(c,2)):[]}function wF(l,c){return c=typeof c=="function"?c:n,l&&l.length?uo(l,n,c):[]}function Wp(l){if(!(l&&l.length))return[];var c=0;return l=oo(l,function(u){if(Be(u))return c=Ke(u.length,c),!0}),ap(c,function(u){return Se(l,rp(u))})}function kw(l,c){if(!(l&&l.length))return[];var u=Wp(l);return c==null?u:Se(u,function(p){return qi(c,n,p)})}var kF=Vt(function(l,c){return Be(l)?Tl(l,c):[]}),CF=Vt(function(l){return Ep(oo(l,Be))}),DF=Vt(function(l){var c=Sn(l);return Be(c)&&(c=n),Ep(oo(l,Be),ut(c,2))}),SF=Vt(function(l){var c=Sn(l);return c=typeof c=="function"?c:n,Ep(oo(l,Be),n,c)}),AF=Vt(Wp);function EF(l,c){return jx(l||[],c||[],Il)}function MF(l,c){return jx(l||[],c||[],Fl)}var IF=Vt(function(l){var c=l.length,u=c>1?l[c-1]:n;return u=typeof u=="function"?(l.pop(),u):n,kw(l,u)});function Cw(l){var c=v(l);return c.__chain__=!0,c}function TF(l,c){return c(l),l}function wh(l,c){return c(l)}var RF=jr(function(l){var c=l.length,u=c?l[0]:0,p=this.__wrapped__,b=function(x){return pp(x,l)};return c>1||this.__actions__.length||!(p instanceof $t)||!Hr(u)?this.thru(b):(p=p.slice(u,+u+(c?1:0)),p.__actions__.push({func:wh,args:[b],thisArg:n}),new kn(p,this.__chain__).thru(function(x){return c&&!x.length&&x.push(n),x}))});function OF(){return Cw(this)}function FF(){return new kn(this.value(),this.__chain__)}function PF(){this.__values__===n&&(this.__values__=Vw(this.value()));var l=this.__index__>=this.__values__.length,c=l?n:this.__values__[this.__index__++];return{done:l,value:c}}function LF(){return this}function NF(l){for(var c,u=this;u instanceof ah;){var p=bw(u);p.__index__=0,p.__values__=n,c?b.__wrapped__=p:c=p;var b=p;u=u.__wrapped__}return b.__wrapped__=l,c}function VF(){var l=this.__wrapped__;if(l instanceof $t){var c=l;return this.__actions__.length&&(c=new $t(this)),c=c.reverse(),c.__actions__.push({func:wh,args:[Up],thisArg:n}),new kn(c,this.__chain__)}return this.thru(Up)}function BF(){return zx(this.__wrapped__,this.__actions__)}var zF=fh(function(l,c,u){oe.call(l,u)?++l[u]:Br(l,u,1)});function jF(l,c,u){var p=Et(l)?Jy:TO;return u&&Di(l,c,u)&&(c=n),p(l,ut(c,3))}function HF(l,c){var u=Et(l)?oo:kx;return u(l,ut(c,3))}var UF=Zx(_w),WF=Zx(vw);function $F(l,c){return ai(kh(l,c),1)}function YF(l,c){return ai(kh(l,c),Jt)}function qF(l,c,u){return u=u===n?1:Rt(u),ai(kh(l,c),u)}function Dw(l,c){var u=Et(l)?xn:ho;return u(l,ut(c,3))}function Sw(l,c){var u=Et(l)?uR:wx;return u(l,ut(c,3))}var GF=fh(function(l,c,u){oe.call(l,u)?l[u].push(c):Br(l,u,[c])});function KF(l,c,u,p){l=Ni(l)?l:ia(l),u=u&&!p?Rt(u):0;var b=l.length;return u<0&&(u=Ke(b+u,0)),Eh(l)?u<=b&&l.indexOf(c,u)>-1:!!b&&$s(l,c,u)>-1}var XF=Vt(function(l,c,u){var p=-1,b=typeof c=="function",x=Ni(l)?I(l.length):[];return ho(l,function(w){x[++p]=b?qi(c,w,u):Rl(w,c,u)}),x}),ZF=fh(function(l,c,u){Br(l,u,c)});function kh(l,c){var u=Et(l)?Se:Mx;return u(l,ut(c,3))}function QF(l,c,u,p){return l==null?[]:(Et(c)||(c=c==null?[]:[c]),u=p?n:u,Et(u)||(u=u==null?[]:[u]),Ox(l,c,u))}var JF=fh(function(l,c,u){l[u?0:1].push(c)},function(){return[[],[]]});function tP(l,c,u){var p=Et(l)?ip:nx,b=arguments.length<3;return p(l,ut(c,4),u,b,ho)}function eP(l,c,u){var p=Et(l)?mR:nx,b=arguments.length<3;return p(l,ut(c,4),u,b,wx)}function iP(l,c){var u=Et(l)?oo:kx;return u(l,Sh(ut(c,3)))}function nP(l){var c=Et(l)?_x:KO;return c(l)}function rP(l,c,u){(u?Di(l,c,u):c===n)?c=1:c=Rt(c);var p=Et(l)?SO:XO;return p(l,c)}function oP(l){var c=Et(l)?AO:QO;return c(l)}function sP(l){if(l==null)return 0;if(Ni(l))return Eh(l)?qs(l):l.length;var c=bi(l);return c==jn||c==Hn?l.size:xp(l).length}function aP(l,c,u){var p=Et(l)?np:JO;return u&&Di(l,c,u)&&(c=n),p(l,ut(c,3))}var lP=Vt(function(l,c){if(l==null)return[];var u=c.length;return u>1&&Di(l,c[0],c[1])?c=[]:u>2&&Di(c[0],c[1],c[2])&&(c=[c[0]]),Ox(l,ai(c,1),[])}),Ch=HR||function(){return ii.Date.now()};function cP(l,c){if(typeof c!="function")throw new wn(r);return l=Rt(l),function(){if(--l<1)return c.apply(this,arguments)}}function Aw(l,c,u){return c=u?n:c,c=l&&c==null?l.length:c,zr(l,V,n,n,n,n,c)}function Ew(l,c){var u;if(typeof c!="function")throw new wn(r);return l=Rt(l),function(){return--l>0&&(u=c.apply(this,arguments)),l<=1&&(c=n),u}}var $p=Vt(function(l,c,u){var p=y;if(u.length){var b=ao(u,ta($p));p|=U}return zr(l,p,c,u,b)}),Mw=Vt(function(l,c,u){var p=y|k;if(u.length){var b=ao(u,ta(Mw));p|=U}return zr(c,p,l,u,b)});function Iw(l,c,u){c=u?n:c;var p=zr(l,M,n,n,n,n,n,c);return p.placeholder=Iw.placeholder,p}function Tw(l,c,u){c=u?n:c;var p=zr(l,B,n,n,n,n,n,c);return p.placeholder=Tw.placeholder,p}function Rw(l,c,u){var p,b,x,w,D,E,O=0,F=!1,z=!1,Z=!0;if(typeof l!="function")throw new wn(r);c=An(c)||0,Te(u)&&(F=!!u.leading,z="maxWait"in u,x=z?Ke(An(u.maxWait)||0,c):x,Z="trailing"in u?!!u.trailing:Z);function rt(ze){var Yn=p,$r=b;return p=b=n,O=ze,w=l.apply($r,Yn),w}function ft(ze){return O=ze,D=Nl(Ut,c),F?rt(ze):w}function Lt(ze){var Yn=ze-E,$r=ze-O,Zw=c-Yn;return z?gi(Zw,x-$r):Zw}function pt(ze){var Yn=ze-E,$r=ze-O;return E===n||Yn>=c||Yn<0||z&&$r>=x}function Ut(){var ze=Ch();if(pt(ze))return Yt(ze);D=Nl(Ut,Lt(ze))}function Yt(ze){return D=n,Z&&p?rt(ze):(p=b=n,w)}function Zi(){D!==n&&Hx(D),O=0,p=E=b=D=n}function Si(){return D===n?w:Yt(Ch())}function Qi(){var ze=Ch(),Yn=pt(ze);if(p=arguments,b=this,E=ze,Yn){if(D===n)return ft(E);if(z)return Hx(D),D=Nl(Ut,c),rt(E)}return D===n&&(D=Nl(Ut,c)),w}return Qi.cancel=Zi,Qi.flush=Si,Qi}var dP=Vt(function(l,c){return xx(l,1,c)}),hP=Vt(function(l,c,u){return xx(l,An(c)||0,u)});function uP(l){return zr(l,X)}function Dh(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new wn(r);var u=function(){var p=arguments,b=c?c.apply(this,p):p[0],x=u.cache;if(x.has(b))return x.get(b);var w=l.apply(this,p);return u.cache=x.set(b,w)||x,w};return u.cache=new(Dh.Cache||Vr),u}Dh.Cache=Vr;function Sh(l){if(typeof l!="function")throw new wn(r);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function mP(l){return Ew(2,l)}var fP=t2(function(l,c){c=c.length==1&&Et(c[0])?Se(c[0],Gi(ut())):Se(ai(c,1),Gi(ut()));var u=c.length;return Vt(function(p){for(var b=-1,x=gi(p.length,u);++b<x;)p[b]=c[b].call(this,p[b]);return qi(l,this,p)})}),Yp=Vt(function(l,c){var u=ao(c,ta(Yp));return zr(l,U,n,c,u)}),Ow=Vt(function(l,c){var u=ao(c,ta(Ow));return zr(l,W,n,c,u)}),pP=jr(function(l,c){return zr(l,G,n,n,n,c)});function gP(l,c){if(typeof l!="function")throw new wn(r);return c=c===n?c:Rt(c),Vt(l,c)}function bP(l,c){if(typeof l!="function")throw new wn(r);return c=c==null?0:Ke(Rt(c),0),Vt(function(u){var p=u[c],b=fo(u,0,c);return p&&so(b,p),qi(l,this,b)})}function _P(l,c,u){var p=!0,b=!0;if(typeof l!="function")throw new wn(r);return Te(u)&&(p="leading"in u?!!u.leading:p,b="trailing"in u?!!u.trailing:b),Rw(l,c,{leading:p,maxWait:c,trailing:b})}function vP(l){return Aw(l,1)}function yP(l,c){return Yp(Ip(c),l)}function xP(){if(!arguments.length)return[];var l=arguments[0];return Et(l)?l:[l]}function wP(l){return Cn(l,f)}function kP(l,c){return c=typeof c=="function"?c:n,Cn(l,f,c)}function CP(l){return Cn(l,h|f)}function DP(l,c){return c=typeof c=="function"?c:n,Cn(l,h|f,c)}function SP(l,c){return c==null||yx(l,c,ni(c))}function $n(l,c){return l===c||l!==l&&c!==c}var AP=_h(_p),EP=_h(function(l,c){return l>=c}),ts=Sx(function(){return arguments}())?Sx:function(l){return Pe(l)&&oe.call(l,"callee")&&!ux.call(l,"callee")},Et=I.isArray,MP=qy?Gi(qy):NO;function Ni(l){return l!=null&&Ah(l.length)&&!Ur(l)}function Be(l){return Pe(l)&&Ni(l)}function IP(l){return l===!0||l===!1||Pe(l)&&Ci(l)==ro}var po=WR||ng,TP=Gy?Gi(Gy):VO;function RP(l){return Pe(l)&&l.nodeType===1&&!Vl(l)}function OP(l){if(l==null)return!0;if(Ni(l)&&(Et(l)||typeof l=="string"||typeof l.splice=="function"||po(l)||ea(l)||ts(l)))return!l.length;var c=bi(l);if(c==jn||c==Hn)return!l.size;if(Ll(l))return!xp(l).length;for(var u in l)if(oe.call(l,u))return!1;return!0}function FP(l,c){return Ol(l,c)}function PP(l,c,u){u=typeof u=="function"?u:n;var p=u?u(l,c):n;return p===n?Ol(l,c,n,u):!!p}function qp(l){if(!Pe(l))return!1;var c=Ci(l);return c==Bd||c==rT||typeof l.message=="string"&&typeof l.name=="string"&&!Vl(l)}function LP(l){return typeof l=="number"&&fx(l)}function Ur(l){if(!Te(l))return!1;var c=Ci(l);return c==zd||c==xy||c==Hs||c==sT}function Fw(l){return typeof l=="number"&&l==Rt(l)}function Ah(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=Me}function Te(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Pe(l){return l!=null&&typeof l=="object"}var Pw=Ky?Gi(Ky):zO;function NP(l,c){return l===c||yp(l,c,Np(c))}function VP(l,c,u){return u=typeof u=="function"?u:n,yp(l,c,Np(c),u)}function BP(l){return Lw(l)&&l!=+l}function zP(l){if(k2(l))throw new Dt(e);return Ax(l)}function jP(l){return l===null}function HP(l){return l==null}function Lw(l){return typeof l=="number"||Pe(l)&&Ci(l)==vl}function Vl(l){if(!Pe(l)||Ci(l)!=Lr)return!1;var c=th(l);if(c===null)return!0;var u=oe.call(c,"constructor")&&c.constructor;return typeof u=="function"&&u instanceof u&&Xd.call(u)==VR}var Gp=Xy?Gi(Xy):jO;function UP(l){return Fw(l)&&l>=-Me&&l<=Me}var Nw=Zy?Gi(Zy):HO;function Eh(l){return typeof l=="string"||!Et(l)&&Pe(l)&&Ci(l)==xl}function Xi(l){return typeof l=="symbol"||Pe(l)&&Ci(l)==jd}var ea=Qy?Gi(Qy):UO;function WP(l){return l===n}function $P(l){return Pe(l)&&bi(l)==wl}function YP(l){return Pe(l)&&Ci(l)==lT}var qP=_h(wp),GP=_h(function(l,c){return l<=c});function Vw(l){if(!l)return[];if(Ni(l))return Eh(l)?Un(l):Li(l);if(Dl&&l[Dl])return SR(l[Dl]());var c=bi(l),u=c==jn?cp:c==Hn?qd:ia;return u(l)}function Wr(l){if(!l)return l===0?l:0;if(l=An(l),l===Jt||l===-Jt){var c=l<0?-1:1;return c*pi}return l===l?l:0}function Rt(l){var c=Wr(l),u=c%1;return c===c?u?c-u:c:0}function Bw(l){return l?Xo(Rt(l),0,Ie):0}function An(l){if(typeof l=="number")return l;if(Xi(l))return ei;if(Te(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=Te(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=rx(l);var u=MT.test(l);return u||TT.test(l)?cR(l.slice(2),u?2:8):ET.test(l)?ei:+l}function zw(l){return cr(l,Vi(l))}function KP(l){return l?Xo(Rt(l),-Me,Me):l===0?l:0}function ie(l){return l==null?"":Ki(l)}var XP=Qs(function(l,c){if(Ll(c)||Ni(c)){cr(c,ni(c),l);return}for(var u in c)oe.call(c,u)&&Il(l,u,c[u])}),jw=Qs(function(l,c){cr(c,Vi(c),l)}),Mh=Qs(function(l,c,u,p){cr(c,Vi(c),l,p)}),ZP=Qs(function(l,c,u,p){cr(c,ni(c),l,p)}),QP=jr(pp);function JP(l,c){var u=Zs(l);return c==null?u:vx(u,c)}var tL=Vt(function(l,c){l=pe(l);var u=-1,p=c.length,b=p>2?c[2]:n;for(b&&Di(c[0],c[1],b)&&(p=1);++u<p;)for(var x=c[u],w=Vi(x),D=-1,E=w.length;++D<E;){var O=w[D],F=l[O];(F===n||$n(F,Gs[O])&&!oe.call(l,O))&&(l[O]=x[O])}return l}),eL=Vt(function(l){return l.push(n,rw),qi(Hw,n,l)});function iL(l,c){return tx(l,ut(c,3),lr)}function nL(l,c){return tx(l,ut(c,3),bp)}function rL(l,c){return l==null?l:gp(l,ut(c,3),Vi)}function oL(l,c){return l==null?l:Cx(l,ut(c,3),Vi)}function sL(l,c){return l&&lr(l,ut(c,3))}function aL(l,c){return l&&bp(l,ut(c,3))}function lL(l){return l==null?[]:dh(l,ni(l))}function cL(l){return l==null?[]:dh(l,Vi(l))}function Kp(l,c,u){var p=l==null?n:Zo(l,c);return p===n?u:p}function dL(l,c){return l!=null&&aw(l,c,OO)}function Xp(l,c){return l!=null&&aw(l,c,FO)}var hL=Jx(function(l,c,u){c!=null&&typeof c.toString!="function"&&(c=Zd.call(c)),l[c]=u},Qp(Bi)),uL=Jx(function(l,c,u){c!=null&&typeof c.toString!="function"&&(c=Zd.call(c)),oe.call(l,c)?l[c].push(u):l[c]=[u]},ut),mL=Vt(Rl);function ni(l){return Ni(l)?bx(l):xp(l)}function Vi(l){return Ni(l)?bx(l,!0):WO(l)}function fL(l,c){var u={};return c=ut(c,3),lr(l,function(p,b,x){Br(u,c(p,b,x),p)}),u}function pL(l,c){var u={};return c=ut(c,3),lr(l,function(p,b,x){Br(u,b,c(p,b,x))}),u}var gL=Qs(function(l,c,u){hh(l,c,u)}),Hw=Qs(function(l,c,u,p){hh(l,c,u,p)}),bL=jr(function(l,c){var u={};if(l==null)return u;var p=!1;c=Se(c,function(x){return x=mo(x,l),p||(p=x.length>1),x}),cr(l,Pp(l),u),p&&(u=Cn(u,h|m|f,h2));for(var b=c.length;b--;)Ap(u,c[b]);return u});function _L(l,c){return Uw(l,Sh(ut(c)))}var vL=jr(function(l,c){return l==null?{}:YO(l,c)});function Uw(l,c){if(l==null)return{};var u=Se(Pp(l),function(p){return[p]});return c=ut(c),Fx(l,u,function(p,b){return c(p,b[0])})}function yL(l,c,u){c=mo(c,l);var p=-1,b=c.length;for(b||(b=1,l=n);++p<b;){var x=l==null?n:l[dr(c[p])];x===n&&(p=b,x=u),l=Ur(x)?x.call(l):x}return l}function xL(l,c,u){return l==null?l:Fl(l,c,u)}function wL(l,c,u,p){return p=typeof p=="function"?p:n,l==null?l:Fl(l,c,u,p)}var Ww=iw(ni),$w=iw(Vi);function kL(l,c,u){var p=Et(l),b=p||po(l)||ea(l);if(c=ut(c,4),u==null){var x=l&&l.constructor;b?u=p?new x:[]:Te(l)?u=Ur(x)?Zs(th(l)):{}:u={}}return(b?xn:lr)(l,function(w,D,E){return c(u,w,D,E)}),u}function CL(l,c){return l==null?!0:Ap(l,c)}function DL(l,c,u){return l==null?l:Bx(l,c,Ip(u))}function SL(l,c,u,p){return p=typeof p=="function"?p:n,l==null?l:Bx(l,c,Ip(u),p)}function ia(l){return l==null?[]:lp(l,ni(l))}function AL(l){return l==null?[]:lp(l,Vi(l))}function EL(l,c,u){return u===n&&(u=c,c=n),u!==n&&(u=An(u),u=u===u?u:0),c!==n&&(c=An(c),c=c===c?c:0),Xo(An(l),c,u)}function ML(l,c,u){return c=Wr(c),u===n?(u=c,c=0):u=Wr(u),l=An(l),PO(l,c,u)}function IL(l,c,u){if(u&&typeof u!="boolean"&&Di(l,c,u)&&(c=u=n),u===n&&(typeof c=="boolean"?(u=c,c=n):typeof l=="boolean"&&(u=l,l=n)),l===n&&c===n?(l=0,c=1):(l=Wr(l),c===n?(c=l,l=0):c=Wr(c)),l>c){var p=l;l=c,c=p}if(u||l%1||c%1){var b=px();return gi(l+b*(c-l+lR("1e-"+((b+"").length-1))),c)}return Cp(l,c)}var TL=Js(function(l,c,u){return c=c.toLowerCase(),l+(u?Yw(c):c)});function Yw(l){return Zp(ie(l).toLowerCase())}function qw(l){return l=ie(l),l&&l.replace(OT,xR).replace(QT,"")}function RL(l,c,u){l=ie(l),c=Ki(c);var p=l.length;u=u===n?p:Xo(Rt(u),0,p);var b=u;return u-=c.length,u>=0&&l.slice(u,b)==c}function OL(l){return l=ie(l),l&&mT.test(l)?l.replace(Cy,wR):l}function FL(l){return l=ie(l),l&&vT.test(l)?l.replace(Yf,"\\$&"):l}var PL=Js(function(l,c,u){return l+(u?"-":"")+c.toLowerCase()}),LL=Js(function(l,c,u){return l+(u?" ":"")+c.toLowerCase()}),NL=Xx("toLowerCase");function VL(l,c,u){l=ie(l),c=Rt(c);var p=c?qs(l):0;if(!c||p>=c)return l;var b=(c-p)/2;return bh(rh(b),u)+l+bh(nh(b),u)}function BL(l,c,u){l=ie(l),c=Rt(c);var p=c?qs(l):0;return c&&p<c?l+bh(c-p,u):l}function zL(l,c,u){l=ie(l),c=Rt(c);var p=c?qs(l):0;return c&&p<c?bh(c-p,u)+l:l}function jL(l,c,u){return u||c==null?c=0:c&&(c=+c),GR(ie(l).replace(qf,""),c||0)}function HL(l,c,u){return(u?Di(l,c,u):c===n)?c=1:c=Rt(c),Dp(ie(l),c)}function UL(){var l=arguments,c=ie(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var WL=Js(function(l,c,u){return l+(u?"_":"")+c.toLowerCase()});function $L(l,c,u){return u&&typeof u!="number"&&Di(l,c,u)&&(c=u=n),u=u===n?Ie:u>>>0,u?(l=ie(l),l&&(typeof c=="string"||c!=null&&!Gp(c))&&(c=Ki(c),!c&&Ys(l))?fo(Un(l),0,u):l.split(c,u)):[]}var YL=Js(function(l,c,u){return l+(u?" ":"")+Zp(c)});function qL(l,c,u){return l=ie(l),u=u==null?0:Xo(Rt(u),0,l.length),c=Ki(c),l.slice(u,u+c.length)==c}function GL(l,c,u){var p=v.templateSettings;u&&Di(l,c,u)&&(c=n),l=ie(l),c=Mh({},c,p,nw);var b=Mh({},c.imports,p.imports,nw),x=ni(b),w=lp(b,x),D,E,O=0,F=c.interpolate||Hd,z="__p += '",Z=dp((c.escape||Hd).source+"|"+F.source+"|"+(F===Dy?AT:Hd).source+"|"+(c.evaluate||Hd).source+"|$","g"),rt="//# sourceURL="+(oe.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nR+"]")+`
`;l.replace(Z,function(pt,Ut,Yt,Zi,Si,Qi){return Yt||(Yt=Zi),z+=l.slice(O,Qi).replace(FT,kR),Ut&&(D=!0,z+=`' +
__e(`+Ut+`) +
'`),Si&&(E=!0,z+=`';
`+Si+`;
__p += '`),Yt&&(z+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),O=Qi+pt.length,pt}),z+=`';
`;var ft=oe.call(c,"variable")&&c.variable;if(!ft)z=`with (obj) {
`+z+`
}
`;else if(DT.test(ft))throw new Dt(o);z=(E?z.replace(cT,""):z).replace(dT,"$1").replace(hT,"$1;"),z="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var Lt=Kw(function(){return te(x,rt+"return "+z).apply(n,w)});if(Lt.source=z,qp(Lt))throw Lt;return Lt}function KL(l){return ie(l).toLowerCase()}function XL(l){return ie(l).toUpperCase()}function ZL(l,c,u){if(l=ie(l),l&&(u||c===n))return rx(l);if(!l||!(c=Ki(c)))return l;var p=Un(l),b=Un(c),x=ox(p,b),w=sx(p,b)+1;return fo(p,x,w).join("")}function QL(l,c,u){if(l=ie(l),l&&(u||c===n))return l.slice(0,lx(l)+1);if(!l||!(c=Ki(c)))return l;var p=Un(l),b=sx(p,Un(c))+1;return fo(p,0,b).join("")}function JL(l,c,u){if(l=ie(l),l&&(u||c===n))return l.replace(qf,"");if(!l||!(c=Ki(c)))return l;var p=Un(l),b=ox(p,Un(c));return fo(p,b).join("")}function tN(l,c){var u=Mt,p=Ht;if(Te(c)){var b="separator"in c?c.separator:b;u="length"in c?Rt(c.length):u,p="omission"in c?Ki(c.omission):p}l=ie(l);var x=l.length;if(Ys(l)){var w=Un(l);x=w.length}if(u>=x)return l;var D=u-qs(p);if(D<1)return p;var E=w?fo(w,0,D).join(""):l.slice(0,D);if(b===n)return E+p;if(w&&(D+=E.length-D),Gp(b)){if(l.slice(D).search(b)){var O,F=E;for(b.global||(b=dp(b.source,ie(Sy.exec(b))+"g")),b.lastIndex=0;O=b.exec(F);)var z=O.index;E=E.slice(0,z===n?D:z)}}else if(l.indexOf(Ki(b),D)!=D){var Z=E.lastIndexOf(b);Z>-1&&(E=E.slice(0,Z))}return E+p}function eN(l){return l=ie(l),l&&uT.test(l)?l.replace(ky,IR):l}var iN=Js(function(l,c,u){return l+(u?" ":"")+c.toUpperCase()}),Zp=Xx("toUpperCase");function Gw(l,c,u){return l=ie(l),c=u?n:c,c===n?DR(l)?OR(l):gR(l):l.match(c)||[]}var Kw=Vt(function(l,c){try{return qi(l,n,c)}catch(u){return qp(u)?u:new Dt(u)}}),nN=jr(function(l,c){return xn(c,function(u){u=dr(u),Br(l,u,$p(l[u],l))}),l});function rN(l){var c=l==null?0:l.length,u=ut();return l=c?Se(l,function(p){if(typeof p[1]!="function")throw new wn(r);return[u(p[0]),p[1]]}):[],Vt(function(p){for(var b=-1;++b<c;){var x=l[b];if(qi(x[0],this,p))return qi(x[1],this,p)}})}function oN(l){return IO(Cn(l,h))}function Qp(l){return function(){return l}}function sN(l,c){return l==null||l!==l?c:l}var aN=Qx(),lN=Qx(!0);function Bi(l){return l}function Jp(l){return Ex(typeof l=="function"?l:Cn(l,h))}function cN(l){return Ix(Cn(l,h))}function dN(l,c){return Tx(l,Cn(c,h))}var hN=Vt(function(l,c){return function(u){return Rl(u,l,c)}}),uN=Vt(function(l,c){return function(u){return Rl(l,u,c)}});function tg(l,c,u){var p=ni(c),b=dh(c,p);u==null&&!(Te(c)&&(b.length||!p.length))&&(u=c,c=l,l=this,b=dh(c,ni(c)));var x=!(Te(u)&&"chain"in u)||!!u.chain,w=Ur(l);return xn(b,function(D){var E=c[D];l[D]=E,w&&(l.prototype[D]=function(){var O=this.__chain__;if(x||O){var F=l(this.__wrapped__),z=F.__actions__=Li(this.__actions__);return z.push({func:E,args:arguments,thisArg:l}),F.__chain__=O,F}return E.apply(l,so([this.value()],arguments))})}),l}function mN(){return ii._===this&&(ii._=BR),this}function eg(){}function fN(l){return l=Rt(l),Vt(function(c){return Rx(c,l)})}var pN=Rp(Se),gN=Rp(Jy),bN=Rp(np);function Xw(l){return Bp(l)?rp(dr(l)):qO(l)}function _N(l){return function(c){return l==null?n:Zo(l,c)}}var vN=tw(),yN=tw(!0);function ig(){return[]}function ng(){return!1}function xN(){return{}}function wN(){return""}function kN(){return!0}function CN(l,c){if(l=Rt(l),l<1||l>Me)return[];var u=Ie,p=gi(l,Ie);c=ut(c),l-=Ie;for(var b=ap(p,c);++u<l;)c(u);return b}function DN(l){return Et(l)?Se(l,dr):Xi(l)?[l]:Li(gw(ie(l)))}function SN(l){var c=++NR;return ie(l)+c}var AN=gh(function(l,c){return l+c},0),EN=Op("ceil"),MN=gh(function(l,c){return l/c},1),IN=Op("floor");function TN(l){return l&&l.length?ch(l,Bi,_p):n}function RN(l,c){return l&&l.length?ch(l,ut(c,2),_p):n}function ON(l){return ix(l,Bi)}function FN(l,c){return ix(l,ut(c,2))}function PN(l){return l&&l.length?ch(l,Bi,wp):n}function LN(l,c){return l&&l.length?ch(l,ut(c,2),wp):n}var NN=gh(function(l,c){return l*c},1),VN=Op("round"),BN=gh(function(l,c){return l-c},0);function zN(l){return l&&l.length?sp(l,Bi):0}function jN(l,c){return l&&l.length?sp(l,ut(c,2)):0}return v.after=cP,v.ary=Aw,v.assign=XP,v.assignIn=jw,v.assignInWith=Mh,v.assignWith=ZP,v.at=QP,v.before=Ew,v.bind=$p,v.bindAll=nN,v.bindKey=Mw,v.castArray=xP,v.chain=Cw,v.chunk=I2,v.compact=T2,v.concat=R2,v.cond=rN,v.conforms=oN,v.constant=Qp,v.countBy=zF,v.create=JP,v.curry=Iw,v.curryRight=Tw,v.debounce=Rw,v.defaults=tL,v.defaultsDeep=eL,v.defer=dP,v.delay=hP,v.difference=O2,v.differenceBy=F2,v.differenceWith=P2,v.drop=L2,v.dropRight=N2,v.dropRightWhile=V2,v.dropWhile=B2,v.fill=z2,v.filter=HF,v.flatMap=$F,v.flatMapDeep=YF,v.flatMapDepth=qF,v.flatten=yw,v.flattenDeep=j2,v.flattenDepth=H2,v.flip=uP,v.flow=aN,v.flowRight=lN,v.fromPairs=U2,v.functions=lL,v.functionsIn=cL,v.groupBy=GF,v.initial=$2,v.intersection=Y2,v.intersectionBy=q2,v.intersectionWith=G2,v.invert=hL,v.invertBy=uL,v.invokeMap=XF,v.iteratee=Jp,v.keyBy=ZF,v.keys=ni,v.keysIn=Vi,v.map=kh,v.mapKeys=fL,v.mapValues=pL,v.matches=cN,v.matchesProperty=dN,v.memoize=Dh,v.merge=gL,v.mergeWith=Hw,v.method=hN,v.methodOf=uN,v.mixin=tg,v.negate=Sh,v.nthArg=fN,v.omit=bL,v.omitBy=_L,v.once=mP,v.orderBy=QF,v.over=pN,v.overArgs=fP,v.overEvery=gN,v.overSome=bN,v.partial=Yp,v.partialRight=Ow,v.partition=JF,v.pick=vL,v.pickBy=Uw,v.property=Xw,v.propertyOf=_N,v.pull=Q2,v.pullAll=ww,v.pullAllBy=J2,v.pullAllWith=tF,v.pullAt=eF,v.range=vN,v.rangeRight=yN,v.rearg=pP,v.reject=iP,v.remove=iF,v.rest=gP,v.reverse=Up,v.sampleSize=rP,v.set=xL,v.setWith=wL,v.shuffle=oP,v.slice=nF,v.sortBy=lP,v.sortedUniq=dF,v.sortedUniqBy=hF,v.split=$L,v.spread=bP,v.tail=uF,v.take=mF,v.takeRight=fF,v.takeRightWhile=pF,v.takeWhile=gF,v.tap=TF,v.throttle=_P,v.thru=wh,v.toArray=Vw,v.toPairs=Ww,v.toPairsIn=$w,v.toPath=DN,v.toPlainObject=zw,v.transform=kL,v.unary=vP,v.union=bF,v.unionBy=_F,v.unionWith=vF,v.uniq=yF,v.uniqBy=xF,v.uniqWith=wF,v.unset=CL,v.unzip=Wp,v.unzipWith=kw,v.update=DL,v.updateWith=SL,v.values=ia,v.valuesIn=AL,v.without=kF,v.words=Gw,v.wrap=yP,v.xor=CF,v.xorBy=DF,v.xorWith=SF,v.zip=AF,v.zipObject=EF,v.zipObjectDeep=MF,v.zipWith=IF,v.entries=Ww,v.entriesIn=$w,v.extend=jw,v.extendWith=Mh,tg(v,v),v.add=AN,v.attempt=Kw,v.camelCase=TL,v.capitalize=Yw,v.ceil=EN,v.clamp=EL,v.clone=wP,v.cloneDeep=CP,v.cloneDeepWith=DP,v.cloneWith=kP,v.conformsTo=SP,v.deburr=qw,v.defaultTo=sN,v.divide=MN,v.endsWith=RL,v.eq=$n,v.escape=OL,v.escapeRegExp=FL,v.every=jF,v.find=UF,v.findIndex=_w,v.findKey=iL,v.findLast=WF,v.findLastIndex=vw,v.findLastKey=nL,v.floor=IN,v.forEach=Dw,v.forEachRight=Sw,v.forIn=rL,v.forInRight=oL,v.forOwn=sL,v.forOwnRight=aL,v.get=Kp,v.gt=AP,v.gte=EP,v.has=dL,v.hasIn=Xp,v.head=xw,v.identity=Bi,v.includes=KF,v.indexOf=W2,v.inRange=ML,v.invoke=mL,v.isArguments=ts,v.isArray=Et,v.isArrayBuffer=MP,v.isArrayLike=Ni,v.isArrayLikeObject=Be,v.isBoolean=IP,v.isBuffer=po,v.isDate=TP,v.isElement=RP,v.isEmpty=OP,v.isEqual=FP,v.isEqualWith=PP,v.isError=qp,v.isFinite=LP,v.isFunction=Ur,v.isInteger=Fw,v.isLength=Ah,v.isMap=Pw,v.isMatch=NP,v.isMatchWith=VP,v.isNaN=BP,v.isNative=zP,v.isNil=HP,v.isNull=jP,v.isNumber=Lw,v.isObject=Te,v.isObjectLike=Pe,v.isPlainObject=Vl,v.isRegExp=Gp,v.isSafeInteger=UP,v.isSet=Nw,v.isString=Eh,v.isSymbol=Xi,v.isTypedArray=ea,v.isUndefined=WP,v.isWeakMap=$P,v.isWeakSet=YP,v.join=K2,v.kebabCase=PL,v.last=Sn,v.lastIndexOf=X2,v.lowerCase=LL,v.lowerFirst=NL,v.lt=qP,v.lte=GP,v.max=TN,v.maxBy=RN,v.mean=ON,v.meanBy=FN,v.min=PN,v.minBy=LN,v.stubArray=ig,v.stubFalse=ng,v.stubObject=xN,v.stubString=wN,v.stubTrue=kN,v.multiply=NN,v.nth=Z2,v.noConflict=mN,v.noop=eg,v.now=Ch,v.pad=VL,v.padEnd=BL,v.padStart=zL,v.parseInt=jL,v.random=IL,v.reduce=tP,v.reduceRight=eP,v.repeat=HL,v.replace=UL,v.result=yL,v.round=VN,v.runInContext=A,v.sample=nP,v.size=sP,v.snakeCase=WL,v.some=aP,v.sortedIndex=rF,v.sortedIndexBy=oF,v.sortedIndexOf=sF,v.sortedLastIndex=aF,v.sortedLastIndexBy=lF,v.sortedLastIndexOf=cF,v.startCase=YL,v.startsWith=qL,v.subtract=BN,v.sum=zN,v.sumBy=jN,v.template=GL,v.times=CN,v.toFinite=Wr,v.toInteger=Rt,v.toLength=Bw,v.toLower=KL,v.toNumber=An,v.toSafeInteger=KP,v.toString=ie,v.toUpper=XL,v.trim=ZL,v.trimEnd=QL,v.trimStart=JL,v.truncate=tN,v.unescape=eN,v.uniqueId=SN,v.upperCase=iN,v.upperFirst=Zp,v.each=Dw,v.eachRight=Sw,v.first=xw,tg(v,function(){var l={};return lr(v,function(c,u){oe.call(v.prototype,u)||(l[u]=c)}),l}(),{chain:!1}),v.VERSION=t,xn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){v[l].placeholder=v}),xn(["drop","take"],function(l,c){$t.prototype[l]=function(u){u=u===n?1:Ke(Rt(u),0);var p=this.__filtered__&&!c?new $t(this):this.clone();return p.__filtered__?p.__takeCount__=gi(u,p.__takeCount__):p.__views__.push({size:gi(u,Ie),type:l+(p.__dir__<0?"Right":"")}),p},$t.prototype[l+"Right"]=function(u){return this.reverse()[l](u).reverse()}}),xn(["filter","map","takeWhile"],function(l,c){var u=c+1,p=u==It||u==Zt;$t.prototype[l]=function(b){var x=this.clone();return x.__iteratees__.push({iteratee:ut(b,3),type:u}),x.__filtered__=x.__filtered__||p,x}}),xn(["head","last"],function(l,c){var u="take"+(c?"Right":"");$t.prototype[l]=function(){return this[u](1).value()[0]}}),xn(["initial","tail"],function(l,c){var u="drop"+(c?"":"Right");$t.prototype[l]=function(){return this.__filtered__?new $t(this):this[u](1)}}),$t.prototype.compact=function(){return this.filter(Bi)},$t.prototype.find=function(l){return this.filter(l).head()},$t.prototype.findLast=function(l){return this.reverse().find(l)},$t.prototype.invokeMap=Vt(function(l,c){return typeof l=="function"?new $t(this):this.map(function(u){return Rl(u,l,c)})}),$t.prototype.reject=function(l){return this.filter(Sh(ut(l)))},$t.prototype.slice=function(l,c){l=Rt(l);var u=this;return u.__filtered__&&(l>0||c<0)?new $t(u):(l<0?u=u.takeRight(-l):l&&(u=u.drop(l)),c!==n&&(c=Rt(c),u=c<0?u.dropRight(-c):u.take(c-l)),u)},$t.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},$t.prototype.toArray=function(){return this.take(Ie)},lr($t.prototype,function(l,c){var u=/^(?:filter|find|map|reject)|While$/.test(c),p=/^(?:head|last)$/.test(c),b=v[p?"take"+(c=="last"?"Right":""):c],x=p||/^find/.test(c);b&&(v.prototype[c]=function(){var w=this.__wrapped__,D=p?[1]:arguments,E=w instanceof $t,O=D[0],F=E||Et(w),z=function(Ut){var Yt=b.apply(v,so([Ut],D));return p&&Z?Yt[0]:Yt};F&&u&&typeof O=="function"&&O.length!=1&&(E=F=!1);var Z=this.__chain__,rt=!!this.__actions__.length,ft=x&&!Z,Lt=E&&!rt;if(!x&&F){w=Lt?w:new $t(this);var pt=l.apply(w,D);return pt.__actions__.push({func:wh,args:[z],thisArg:n}),new kn(pt,Z)}return ft&&Lt?l.apply(this,D):(pt=this.thru(z),ft?p?pt.value()[0]:pt.value():pt)})}),xn(["pop","push","shift","sort","splice","unshift"],function(l){var c=Gd[l],u=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",p=/^(?:pop|shift)$/.test(l);v.prototype[l]=function(){var b=arguments;if(p&&!this.__chain__){var x=this.value();return c.apply(Et(x)?x:[],b)}return this[u](function(w){return c.apply(Et(w)?w:[],b)})}}),lr($t.prototype,function(l,c){var u=v[c];if(u){var p=u.name+"";oe.call(Xs,p)||(Xs[p]=[]),Xs[p].push({name:c,func:u})}}),Xs[ph(n,k).name]=[{name:"wrapper",func:n}],$t.prototype.clone=eO,$t.prototype.reverse=iO,$t.prototype.value=nO,v.prototype.at=RF,v.prototype.chain=OF,v.prototype.commit=FF,v.prototype.next=PF,v.prototype.plant=NF,v.prototype.reverse=VF,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=BF,v.prototype.first=v.prototype.head,Dl&&(v.prototype[Dl]=LF),v},lo=FR();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ii._=lo,define(function(){return lo})):Yo?((Yo.exports=lo)._=lo,Jf._=lo):ii._=lo}).call(Ha)});var xg=class{};var ua=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let e=i.indexOf(":");if(e>0){let r=i.slice(0,e),o=r.toLowerCase(),s=i.slice(e+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,e)=>{this.setHeaderEntries(e,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,e])=>{this.setHeaderEntries(i,e)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let e=t.value;if(typeof e=="string"&&(e=[e]),e.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...e),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let e=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,e),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var wg=class{encodeKey(t){return Mk(t)}encodeValue(t){return Mk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function WN(n,t){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],d=i.get(s)||[];d.push(a),i.set(s,d)}),i}var $N=/%(\d[a-f0-9])/gi,YN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mk(n){return encodeURIComponent(n).replace($N,(t,i)=>YN[i]??t)}function Uh(n){return`${n}`}var yo=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let e=t.fromObject[i],r=Array.isArray(e)?e.map(Uh):[Uh(e)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(e=>{let r=t[e];Array.isArray(r)?r.forEach(o=>{i.push({param:e,value:o,op:"a"})}):i.push({param:e,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(e=>i+"="+this.encoder.encodeValue(e)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Uh(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let e=this.map.get(t.param)||[],r=e.indexOf(Uh(t.value));r!==-1&&e.splice(r,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var kg=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function qN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ik(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Tk(n){return typeof Blob<"u"&&n instanceof Blob}function Rk(n){return typeof FormData<"u"&&n instanceof FormData}function GN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Kl=class n{constructor(t,i,e,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(qN(this.method)||r?(this.body=e!==void 0?e:null,o=r):o=e,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ua,this.context??=new kg,!this.params)this.params=new yo,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),d=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ik(this.body)||Tk(this.body)||Rk(this.body)||GN(this.body)?this.body:this.body instanceof yo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Rk(this.body)?null:Tk(this.body)?this.body.type||null:Ik(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof yo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,e=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,d=t.reportProgress??this.reportProgress,h=t.headers||this.headers,m=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(h=Object.keys(t.setHeaders).reduce((g,_)=>g.set(_,t.setHeaders[_]),h)),t.setParams&&(m=Object.keys(t.setParams).reduce((g,_)=>g.set(_,t.setParams[_]),m)),new n(i,e,s,{params:m,headers:h,context:f,reportProgress:d,responseType:r,withCredentials:a,transferCache:o})}},Ok=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ok||{}),Cg=class{constructor(t,i=Fk.Ok,e="OK"){this.headers=t.headers||new ua,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||e,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Dg=class n extends Cg{constructor(t={}){super(t),this.type=Ok.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Fk=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Fk||{});function yg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Pk=(()=>{let t=class t{constructor(e){this.handler=e}request(e,r,o={}){let s;if(e instanceof Kl)s=e;else{let h;o.headers instanceof ua?h=o.headers:h=new ua(o.headers);let m;o.params&&(o.params instanceof yo?m=o.params:m=new yo({fromObject:o.params})),s=new Kl(e,r,o.body!==void 0?o.body:null,{headers:h,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=at(s).pipe(is(h=>this.handler.handle(h)));if(e instanceof Kl||o.observe==="events")return a;let d=a.pipe(Xe(h=>h instanceof Dg));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe(St(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe(St(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe(St(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return d.pipe(St(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new yo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,yg(o,r))}post(e,r,o={}){return this.request("POST",e,yg(o,r))}put(e,r,o={}){return this.request("PUT",e,yg(o,r))}};t.\u0275fac=function(r){return new(r||t)(R(xg))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();var Eg=class extends Ck{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mg=class n extends Eg{static makeCurrent(){kk(new n)}onAndCancel(t,i,e){return t.addEventListener(i,e),()=>{t.removeEventListener(i,e)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=ZN();return i==null?null:QN(i)}resetBaseElement(){Xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Dk(document.cookie,t)}},Xl=null;function ZN(){return Xl=Xl||document.querySelector("base"),Xl?Xl.getAttribute("href"):null}function QN(n){return new URL(n,document.baseURI).pathname}var JN=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Ig=new nt(""),Vk=(()=>{let t=class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(e,r),r}};t.\u0275fac=function(r){return new(r||t)(R(Ig),R(ot))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Wh=class{constructor(t){this._doc=t}},Sg="ng-app-id",Bk=(()=>{let t=class t{constructor(e,r,o,s={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_g(s),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Sg}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){let o=this.styleRef;if(o.has(e)){let s=o.get(e);return s.usage+=r,s.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===e)return o.delete(r),s.removeAttribute(Sg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Sg,this.appId),e.appendChild(a),a}}addStyleToHost(e,r){let o=this.getStyleElement(e,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(R(_t),R(Wl),R($l,8),R(cs))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Og=/%COMP%/g,zk="%COMP%",tV=`_nghost-${zk}`,eV=`_ngcontent-${zk}`,iV=!0,nV=new nt("",{providedIn:"root",factory:()=>iV});function rV(n){return eV.replace(Og,n)}function oV(n){return tV.replace(Og,n)}function jk(n,t){return t.map(i=>i.replace(Og,n))}var $h=(()=>{let t=class t{constructor(e,r,o,s,a,d,h,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=_g(d),this.defaultRenderer=new Zl(e,a,h,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jl.ShadowDom&&(r=ge(H({},r),{encapsulation:jl.Emulated}));let o=this.getOrCreateRenderer(e,r);return o instanceof Yh?o.applyToHost(e):o instanceof Ql&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case jl.Emulated:s=new Yh(h,m,r,this.appId,f,a,d,g);break;case jl.ShadowDom:return new Tg(h,m,e,r,a,d,this.nonce,g);default:s=new Ql(h,m,r,f,a,d,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(R(Vk),R(Bk),R(Wl),R(nV),R(_t),R(cs),R(ot),R($l))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Zl=class{constructor(t,i,e,r){this.eventManager=t,this.doc=i,this.ngZone=e,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Ag[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Lk(t)?t.content:t).appendChild(i)}insertBefore(t,i,e){t&&(Lk(t)?t.content:t).insertBefore(i,e)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let e=typeof t=="string"?this.doc.querySelector(t):t;if(!e)throw new be(-5104,!1);return i||(e.textContent=""),e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,e,r){if(r){i=r+":"+i;let o=Ag[r];o?t.setAttributeNS(o,i,e):t.setAttribute(i,e)}else t.setAttribute(i,e)}removeAttribute(t,i,e){if(e){let r=Ag[e];r?t.removeAttributeNS(r,i):t.removeAttribute(`${e}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,e,r){r&(Yl.DashCase|Yl.Important)?t.style.setProperty(i,e,r&Yl.Important?"important":""):t.style[i]=e}removeStyle(t,i,e){e&Yl.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,e){t!=null&&(t[i]=e)}setValue(t,i){t.nodeValue=i}listen(t,i,e){if(typeof t=="string"&&(t=ca().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(e))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Lk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Tg=class extends Zl{constructor(t,i,e,r,o,s,a,d){super(t,o,s,d),this.sharedStylesHost=i,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=jk(r.id,r.styles);for(let m of h){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=m,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,e){return super.insertBefore(this.nodeOrShadowRoot(t),i,e)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ql=class extends Zl{constructor(t,i,e,r,o,s,a,d){super(t,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=d?jk(d,e.styles):e.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yh=class extends Ql{constructor(t,i,e,r,o,s,a,d){let h=r+"-"+e.id;super(t,i,e,o,s,a,d,h),this.contentAttr=rV(h),this.hostAttr=oV(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let e=super.createElement(t,i);return super.setAttribute(e,this.contentAttr,""),e}},sV=(()=>{let t=class t extends Wh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Nk=["alt","control","meta","shift"],aV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},cV=(()=>{let t=class t extends Wh{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ca().onAndCancel(e,s.domEventName,a))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),a="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),a="code."),Nk.forEach(m=>{let f=r.indexOf(m);f>-1&&(r.splice(f,1),a+=m+".")}),a+=s,r.length!=0||s.length===0)return null;let h={};return h.domEventName=o,h.fullKey=a,h}static matchEventFullKeyCode(e,r){let o=aV[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(o=e.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Nk.forEach(a=>{if(a!==o){let d=lV[a];d(e)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(e,r,o){return s=>{t.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}};t.\u0275fac=function(r){return new(r||t)(R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function Hk(n,t){return wk(H({rootComponent:n},dV(t)))}function dV(n){return{appProviders:[...pV,...n?.providers??[]],platformProviders:fV}}function hV(){Mg.makeCurrent()}function uV(){return new ls}function mV(){return sk(document),document}var fV=[{provide:cs,useValue:Sk},{provide:ak,useValue:hV,multi:!0},{provide:_t,useFactory:mV,deps:[]}];var pV=[{provide:ok,useValue:"root"},{provide:ls,useFactory:uV,deps:[]},{provide:Ig,useClass:sV,multi:!0,deps:[_t,ot,cs]},{provide:Ig,useClass:cV,multi:!0,deps:[_t]},$h,Bk,Vk,{provide:Lh,useExisting:$h},{provide:Ek,useClass:JN,deps:[]},[]];var Uk=(()=>{let t=class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}};t.\u0275fac=function(r){return new(r||t)(R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Fg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=R(gV),o},providedIn:"root"});let n=t;return n})(),gV=(()=>{let t=class t extends Fg{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case en.NONE:return r;case en.HTML:return oa(r,"HTML")?ra(r):fk(this._doc,String(r)).toString();case en.STYLE:return oa(r,"Style")?ra(r):r;case en.SCRIPT:if(oa(r,"Script"))return ra(r);throw new be(5200,!1);case en.URL:return oa(r,"URL")?ra(r):mk(String(r));case en.RESOURCE_URL:if(oa(r,"ResourceURL"))return ra(r);throw new be(5201,!1);default:throw new be(5202,!1)}}bypassSecurityTrustHtml(e){return lk(e)}bypassSecurityTrustStyle(e){return ck(e)}bypassSecurityTrustScript(e){return dk(e)}bypassSecurityTrustUrl(e){return hk(e)}bypassSecurityTrustResourceUrl(e){return uk(e)}};t.\u0275fac=function(r){return new(r||t)(R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Pt="primary",mc=Symbol("RouteTitle"),Bg=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function ba(n){return new Bg(n)}function bV(n,t,i){let e=i.path.split("/");if(e.length>n.length||i.pathMatch==="full"&&(t.hasChildren()||e.length<n.length))return null;let r={};for(let o=0;o<e.length;o++){let s=e[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,e.length),posParams:r}}function _V(n,t){if(n.length!==t.length)return!1;for(let i=0;i<n.length;++i)if(!gr(n[i],t[i]))return!1;return!0}function gr(n,t){let i=n?zg(n):void 0,e=t?zg(t):void 0;if(!i||!e||i.length!=e.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!Xk(n[r],t[r]))return!1;return!0}function zg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xk(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let i=[...n].sort(),e=[...t].sort();return i.every((r,o)=>e[o]===r)}else return n===t}function Zk(n){return n.length>0?n[n.length-1]:null}function ko(n){return sg(n)?n:Hh(n)?ji(Promise.resolve(n)):at(n)}var vV={exact:Jk,subset:t1},Qk={exact:yV,subset:xV,ignored:()=>!0};function $k(n,t,i){return vV[i.paths](n.root,t.root,i.matrixParams)&&Qk[i.queryParams](n.queryParams,t.queryParams)&&!(i.fragment==="exact"&&n.fragment!==t.fragment)}function yV(n,t){return gr(n,t)}function Jk(n,t,i){if(!fs(n.segments,t.segments)||!Kh(n.segments,t.segments,i)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let e in t.children)if(!n.children[e]||!Jk(n.children[e],t.children[e],i))return!1;return!0}function xV(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(i=>Xk(n[i],t[i]))}function t1(n,t,i){return e1(n,t,t.segments,i)}function e1(n,t,i,e){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!fs(r,i)||t.hasChildren()||!Kh(r,i,e))}else if(n.segments.length===i.length){if(!fs(n.segments,i)||!Kh(n.segments,i,e))return!1;for(let r in t.children)if(!n.children[r]||!t1(n.children[r],t.children[r],e))return!1;return!0}else{let r=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!fs(n.segments,r)||!Kh(n.segments,r,e)||!n.children[Pt]?!1:e1(n.children[Pt],t,o,e)}}function Kh(n,t,i){return t.every((e,r)=>Qk[i](n[r].parameters,e.parameters))}var xo=class{constructor(t=new ne([],{}),i={},e=null){this.root=t,this.queryParams=i,this.fragment=e}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){return CV.serialize(this)}},ne=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}},ms=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=ba(this.parameters),this._parameterMap}toString(){return n1(this)}};function wV(n,t){return fs(n,t)&&n.every((i,e)=>gr(i.parameters,t[e].parameters))}function fs(n,t){return n.length!==t.length?!1:n.every((i,e)=>i.path===t[e].path)}function kV(n,t){let i=[];return Object.entries(n.children).forEach(([e,r])=>{e===Pt&&(i=i.concat(t(r,e)))}),Object.entries(n.children).forEach(([e,r])=>{e!==Pt&&(i=i.concat(t(r,e)))}),i}var ub=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>new Qh,providedIn:"root"});let n=t;return n})(),Qh=class{parse(t){let i=new Hg(t);return new xo(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Jl(t.root,!0)}`,e=AV(t.queryParams),r=typeof t.fragment=="string"?`#${DV(t.fragment)}`:"";return`${i}${e}${r}`}},CV=new Qh;function Xh(n){return n.segments.map(t=>n1(t)).join("/")}function Jl(n,t){if(!n.hasChildren())return Xh(n);if(t){let i=n.children[Pt]?Jl(n.children[Pt],!1):"",e=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Pt&&e.push(`${r}:${Jl(o,!1)}`)}),e.length>0?`${i}(${e.join("//")})`:i}else{let i=kV(n,(e,r)=>r===Pt?[Jl(n.children[Pt],!1)]:[`${r}:${Jl(e,!1)}`]);return Object.keys(n.children).length===1&&n.children[Pt]!=null?`${Xh(n)}/${i[0]}`:`${Xh(n)}/(${i.join("//")})`}}function i1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qh(n){return i1(n).replace(/%3B/gi,";")}function DV(n){return encodeURI(n)}function jg(n){return i1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zh(n){return decodeURIComponent(n)}function Yk(n){return Zh(n.replace(/\+/g,"%20"))}function n1(n){return`${jg(n.path)}${SV(n.parameters)}`}function SV(n){return Object.entries(n).map(([t,i])=>`;${jg(t)}=${jg(i)}`).join("")}function AV(n){let t=Object.entries(n).map(([i,e])=>Array.isArray(e)?e.map(r=>`${qh(i)}=${qh(r)}`).join("&"):`${qh(i)}=${qh(e)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var EV=/^[^\/()?;#]+/;function Pg(n){let t=n.match(EV);return t?t[0]:""}var MV=/^[^\/()?;=#]+/;function IV(n){let t=n.match(MV);return t?t[0]:""}var TV=/^[^=?&#]+/;function RV(n){let t=n.match(TV);return t?t[0]:""}var OV=/^[^&#]+/;function FV(n){let t=n.match(OV);return t?t[0]:""}var Hg=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(e[Pt]=new ne(t,i)),e}parseSegment(){let t=Pg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(t),new ms(Zh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=IV(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let r=Pg(this.remaining);r&&(e=r,this.capture(e))}t[Zh(i)]=Zh(e)}parseQueryParam(t){let i=RV(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let s=FV(this.remaining);s&&(e=s,this.capture(e))}let r=Yk(i),o=Yk(e);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=Pg(this.remaining),r=this.remaining[e.length];if(r!=="/"&&r!==")"&&r!==";")throw new be(4010,!1);let o;e.indexOf(":")>-1?(o=e.slice(0,e.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Pt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Pt]:new ne([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new be(4011,!1)}};function r1(n){return n.segments.length>0?new ne([],{[Pt]:n}):n}function o1(n){let t={};for(let[e,r]of Object.entries(n.children)){let o=o1(r);if(e===Pt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[e]=o)}let i=new ne(n.segments,t);return PV(i)}function PV(n){if(n.numberOfChildren===1&&n.children[Pt]){let t=n.children[Pt];return new ne(n.segments.concat(t.segments),t.children)}return n}function _a(n){return n instanceof xo}function LV(n,t,i=null,e=null){let r=s1(n);return a1(r,t,i,e)}function s1(n){let t;function i(o){let s={};for(let d of o.children){let h=i(d);s[d.outlet]=h}let a=new ne(o.url,s);return o===n&&(t=a),a}let e=i(n.root),r=r1(e);return t??r}function a1(n,t,i,e){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Lg(r,r,r,i,e);let o=NV(t);if(o.toRoot())return Lg(r,r,new ne([],{}),i,e);let s=VV(o,r,n),a=s.processChildren?ic(s.segmentGroup,s.index,o.commands):c1(s.segmentGroup,s.index,o.commands);return Lg(r,s.segmentGroup,a,i,e)}function Jh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function oc(n){return typeof n=="object"&&n!=null&&n.outlets}function Lg(n,t,i,e,r){let o={};e&&Object.entries(e).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let s;n===t?s=i:s=l1(n,t,i);let a=r1(o1(s));return new xo(a,o,r)}function l1(n,t,i){let e={};return Object.entries(n.children).forEach(([r,o])=>{o===t?e[r]=i:e[r]=l1(o,t,i)}),new ne(n.segments,e)}var tu=class{constructor(t,i,e){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=e,t&&e.length>0&&Jh(e[0]))throw new be(4003,!1);let r=e.find(oc);if(r&&r!==Zk(e))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tu(!0,0,n);let t=0,i=!1,e=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([d,h])=>{a[d]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,d)=>{d==0&&a==="."||(d==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new tu(i,t,e)}var pa=class{constructor(t,i,e){this.segmentGroup=t,this.processChildren=i,this.index=e}};function VV(n,t,i){if(n.isAbsolute)return new pa(t,!0,0);if(!i)return new pa(t,!1,NaN);if(i.parent===null)return new pa(i,!0,0);let e=Jh(n.commands[0])?0:1,r=i.segments.length-1+e;return BV(i,r,n.numberOfDoubleDots)}function BV(n,t,i){let e=n,r=t,o=i;for(;o>r;){if(o-=r,e=e.parent,!e)throw new be(4005,!1);r=e.segments.length}return new pa(e,!1,r-o)}function zV(n){return oc(n[0])?n[0].outlets:{[Pt]:n}}function c1(n,t,i){if(n??=new ne([],{}),n.segments.length===0&&n.hasChildren())return ic(n,t,i);let e=jV(n,t,i),r=i.slice(e.commandIndex);if(e.match&&e.pathIndex<n.segments.length){let o=new ne(n.segments.slice(0,e.pathIndex),{});return o.children[Pt]=new ne(n.segments.slice(e.pathIndex),n.children),ic(o,0,r)}else return e.match&&r.length===0?new ne(n.segments,{}):e.match&&!n.hasChildren()?Ug(n,t,i):e.match?ic(n,0,r):Ug(n,t,i)}function ic(n,t,i){if(i.length===0)return new ne(n.segments,{});{let e=zV(i),r={};if(Object.keys(e).some(o=>o!==Pt)&&n.children[Pt]&&n.numberOfChildren===1&&n.children[Pt].segments.length===0){let o=ic(n.children[Pt],t,i);return new ne(n.segments,o.children)}return Object.entries(e).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=c1(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{e[o]===void 0&&(r[o]=s)}),new ne(n.segments,r)}}function jV(n,t,i){let e=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(e>=i.length)return o;let s=n.segments[r],a=i[e];if(oc(a))break;let d=`${a}`,h=e<i.length-1?i[e+1]:null;if(r>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!Gk(d,h,s))return o;e+=2}else{if(!Gk(d,{},s))return o;e++}r++}return{match:!0,pathIndex:r,commandIndex:e}}function Ug(n,t,i){let e=n.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(oc(o)){let d=HV(o.outlets);return new ne(e,d)}if(r===0&&Jh(i[0])){let d=n.segments[t];e.push(new ms(d.path,qk(i[0]))),r++;continue}let s=oc(o)?o.outlets[Pt]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Jh(a)?(e.push(new ms(s,qk(a))),r+=2):(e.push(new ms(s,{})),r++)}return new ne(e,{})}function HV(n){let t={};return Object.entries(n).forEach(([i,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(t[i]=Ug(new ne([],{}),0,e))}),t}function qk(n){let t={};return Object.entries(n).forEach(([i,e])=>t[i]=`${e}`),t}function Gk(n,t,i){return n==i.path&&gr(t,i.parameters)}var nc="imperative",di=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(di||{}),Rn=class{constructor(t,i){this.id=t,this.url=i}},sc=class extends Rn{constructor(t,i,e="imperative",r=null){super(t,i),this.type=di.NavigationStart,this.navigationTrigger=e,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ps=class extends Rn{constructor(t,i,e){super(t,i),this.urlAfterRedirects=e,this.type=di.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(on||{}),Wg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Wg||{}),wo=class extends Rn{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=di.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gs=class extends Rn{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=di.NavigationSkipped}},ac=class extends Rn{constructor(t,i,e,r){super(t,i),this.error=e,this.target=r,this.type=di.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},eu=class extends Rn{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=di.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$g=class extends Rn{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=di.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yg=class extends Rn{constructor(t,i,e,r,o){super(t,i),this.urlAfterRedirects=e,this.state=r,this.shouldActivate=o,this.type=di.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qg=class extends Rn{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=di.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gg=class extends Rn{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=di.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class{constructor(t){this.route=t,this.type=di.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xg=class{constructor(t){this.route=t,this.type=di.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zg=class{constructor(t){this.snapshot=t,this.type=di.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{constructor(t){this.snapshot=t,this.type=di.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jg=class{constructor(t){this.snapshot=t,this.type=di.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tb=class{constructor(t){this.snapshot=t,this.type=di.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var lc=class{},cc=class{constructor(t){this.url=t}};var eb=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new au,this.attachRef=null}},au=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new eb,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),iu=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=ib(t,this._root);return i?i.children.map(e=>e.value):[]}firstChild(t){let i=ib(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=nb(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return nb(t,this._root).map(i=>i.value)}};function ib(n,t){if(n===t.value)return t;for(let i of t.children){let e=ib(n,i);if(e)return e}return null}function nb(n,t){if(n===t.value)return[t];for(let i of t.children){let e=nb(n,i);if(e.length)return e.unshift(t),e}return[]}var rn=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function fa(n){let t={};return n&&n.children.forEach(i=>t[i.value.outlet]=i),t}var nu=class extends iu{constructor(t,i){super(t),this.snapshot=i,fb(this,t)}toString(){return this.snapshot.toString()}};function d1(n){let t=UV(n),i=new zi([new ms("",{})]),e=new zi({}),r=new zi({}),o=new zi({}),s=new zi(""),a=new va(i,e,o,s,r,Pt,n,t.root);return a.snapshot=t.root,new nu(new rn(a,[]),t)}function UV(n){let t={},i={},e={},r="",o=new dc([],t,e,r,i,Pt,n,null,{});return new ru("",new rn(o,[]))}var va=class{constructor(t,i,e,r,o,s,a,d){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=e,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(St(h=>h[mc]))??at(void 0),this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(St(t=>ba(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(St(t=>ba(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mb(n,t,i="emptyOnly"){let e,{routeConfig:r}=n;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?e={params:H(H({},t.params),n.params),data:H(H({},t.data),n.data),resolve:H(H(H(H({},n.data),t.data),r?.data),n._resolvedData)}:e={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},r&&u1(r)&&(e.resolve[mc]=r.title),e}var dc=class{get title(){return this.data?.[mc]}constructor(t,i,e,r,o,s,a,d,h){this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(e=>e.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},ru=class extends iu{constructor(t,i){super(i),this.url=t,fb(this,i)}toString(){return h1(this._root)}};function fb(n,t){t.value._routerState=n,t.children.forEach(i=>fb(n,i))}function h1(n){let t=n.children.length>0?` { ${n.children.map(h1).join(", ")} } `:"";return`${n.value}${t}`}function Ng(n){if(n.snapshot){let t=n.snapshot,i=n._futureSnapshot;n.snapshot=i,gr(t.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),gr(t.params,i.params)||n.paramsSubject.next(i.params),_V(t.url,i.url)||n.urlSubject.next(i.url),gr(t.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rb(n,t){let i=gr(n.params,t.params)&&wV(n.url,t.url),e=!n.parent!=!t.parent;return i&&!e&&(!n.parent||rb(n.parent,t.parent))}function u1(n){return typeof n.title=="string"||n.title===null}var pb=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pt,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=Y(au),this.location=Y(mr),this.changeDetector=Y(Oe),this.environmentInjector=Y(Ul),this.inputBinder=Y(gb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new ob(e,d,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ne]});let n=t;return n})(),ob=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,i,e){this.route=t,this.childContexts=i,this.parent=e}get(t,i){return t===va?this.route:t===au?this.childContexts:this.parent.get(t,i)}},gb=new nt("");function WV(n,t,i){let e=hc(n,t._root,i?i._root:void 0);return new nu(e,t)}function hc(n,t,i){if(i&&n.shouldReuseRoute(t.value,i.value.snapshot)){let e=i.value;e._futureSnapshot=t.value;let r=$V(n,t,i);return new rn(e,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hc(n,a)),s}}let e=YV(t.value),r=t.children.map(o=>hc(n,o));return new rn(e,r)}}function $V(n,t,i){return t.children.map(e=>{for(let r of i.children)if(n.shouldReuseRoute(e.value,r.value.snapshot))return hc(n,e,r);return hc(n,e)})}function YV(n){return new va(new zi(n.url),new zi(n.params),new zi(n.queryParams),new zi(n.fragment),new zi(n.data),n.outlet,n.component,n)}var m1="ngNavigationCancelingError";function f1(n,t){let{redirectTo:i,navigationBehaviorOptions:e}=_a(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=p1(!1,on.Redirect);return r.url=i,r.navigationBehaviorOptions=e,r}function p1(n,t){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[m1]=!0,i.cancellationCode=t,i}function qV(n){return g1(n)&&_a(n.url)}function g1(n){return!!n&&n[m1]}var GV=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["ng-component"]],standalone:!0,features:[bt],decls:1,vars:0,template:function(r,o){r&1&&Tt(0,"router-outlet")},dependencies:[pb],encapsulation:2});let n=t;return n})();function KV(n,t){return n.providers&&!n._injector&&(n._injector=_k(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bb(n){let t=n.children&&n.children.map(bb),i=t?ge(H({},n),{children:t}):H({},n);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Pt&&(i.component=GV),i}function br(n){return n.outlet||Pt}function XV(n,t){let i=n.filter(e=>br(e)===t);return i.push(...n.filter(e=>br(e)!==t)),i}function fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var ZV=(n,t,i,e)=>St(r=>(new sb(t,r.targetRouterState,r.currentRouterState,i,e).activate(n),r)),sb=class{constructor(t,i,e,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=e,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,e,t),Ng(this.futureState.root),this.activateChildRoutes(i,e,t)}deactivateChildRoutes(t,i,e){let r=fa(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],e),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,e)})}deactivateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=e.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,e);else o&&this.deactivateRouteAndItsChildren(i,e)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=fa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(e&&e.outlet){let s=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=fa(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(t,i,e){let r=fa(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],e),this.forwardEvent(new tb(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qg(t.value.snapshot))}activateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(Ng(r),r===o)if(r.component){let s=e.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,e);else if(r.component){let s=e.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ng(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=fc(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,e)}},ou=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ga=class{constructor(t,i){this.component=t,this.route=i}};function QV(n,t,i){let e=n._root,r=t?t._root:null;return tc(e,r,i,[e.value])}function JV(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function xa(n,t){let i=Symbol(),e=t.get(n,i);return e===i?typeof n=="function"&&!rk(n)?n:t.get(n):e}function tc(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=fa(t);return n.children.forEach(s=>{tB(s,o[s.value.outlet],i,e.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rc(a,i.getContext(s),r)),r}function tB(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=i?i.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=eB(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new ou(e)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tc(n,t,a?a.children:null,e,r):tc(n,t,i,e,r),d&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ga(a.outlet.component,s))}else s&&rc(t,a,r),r.canActivateChecks.push(new ou(e)),o.component?tc(n,null,a?a.children:null,e,r):tc(n,null,i,e,r);return r}function eB(n,t,i){if(typeof i=="function")return i(n,t);switch(i){case"pathParamsChange":return!fs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!fs(n.url,t.url)||!gr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rb(n,t)||!gr(n.queryParams,t.queryParams);case"paramsChange":default:return!rb(n,t)}}function rc(n,t,i){let e=fa(n),r=n.value;Object.entries(e).forEach(([o,s])=>{r.component?t?rc(s,t.children.getContext(o),i):rc(s,null,i):rc(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new ga(t.outlet.component,r)):i.canDeactivateChecks.push(new ga(null,r)):i.canDeactivateChecks.push(new ga(null,r))}function pc(n){return typeof n=="function"}function iB(n){return typeof n=="boolean"}function nB(n){return n&&pc(n.canLoad)}function rB(n){return n&&pc(n.canActivate)}function oB(n){return n&&pc(n.canActivateChild)}function sB(n){return n&&pc(n.canDeactivate)}function aB(n){return n&&pc(n.canMatch)}function b1(n){return n instanceof Jw||n?.name==="EmptyError"}var Gh=Symbol("INITIAL_VALUE");function ya(){return Mn(n=>Bl(n.map(t=>t.pipe(We(1),Yr(Gh)))).pipe(St(t=>{for(let i of t)if(i!==!0){if(i===Gh)return Gh;if(i===!1||i instanceof xo)return i}return!0}),Xe(t=>t!==Gh),We(1)))}function lB(n,t){return En(i=>{let{targetSnapshot:e,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?at(ge(H({},i),{guardsResult:!0})):cB(s,e,r,n).pipe(En(a=>a&&iB(a)?dB(e,o,n,t):at(a)),St(a=>ge(H({},i),{guardsResult:a})))})}function cB(n,t,i,e){return ji(n).pipe(En(r=>pB(r.component,r.route,i,t,e)),bo(r=>r!==!0,!0))}function dB(n,t,i,e){return ji(t).pipe(is(r=>Th(uB(r.route.parent,e),hB(r.route,e),fB(n,r.path,i),mB(n,r.route,i))),bo(r=>r!==!0,!0))}function hB(n,t){return n!==null&&t&&t(new Jg(n)),at(!0)}function uB(n,t){return n!==null&&t&&t(new Zg(n)),at(!0)}function mB(n,t,i){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return at(!0);let r=e.map(o=>ag(()=>{let s=fc(t)??i,a=xa(o,s),d=rB(a)?a.canActivate(t,n):ss(s,()=>a(t,n));return ko(d).pipe(bo())}));return at(r).pipe(ya())}function fB(n,t,i){let e=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>JV(s)).filter(s=>s!==null).map(s=>ag(()=>{let a=s.guards.map(d=>{let h=fc(s.node)??i,m=xa(d,h),f=oB(m)?m.canActivateChild(e,n):ss(h,()=>m(e,n));return ko(f).pipe(bo())});return at(a).pipe(ya())}));return at(o).pipe(ya())}function pB(n,t,i,e,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return at(!0);let s=o.map(a=>{let d=fc(t)??r,h=xa(a,d),m=sB(h)?h.canDeactivate(n,t,i,e):ss(d,()=>h(n,t,i,e));return ko(m).pipe(bo())});return at(s).pipe(ya())}function gB(n,t,i,e){let r=t.canLoad;if(r===void 0||r.length===0)return at(!0);let o=r.map(s=>{let a=xa(s,n),d=nB(a)?a.canLoad(t,i):ss(n,()=>a(t,i));return ko(d)});return at(o).pipe(ya(),_1(e))}function _1(n){return Qw(Le(t=>{if(_a(t))throw f1(n,t)}),St(t=>t===!0))}function bB(n,t,i,e){let r=t.canMatch;if(!r||r.length===0)return at(!0);let o=r.map(s=>{let a=xa(s,n),d=aB(a)?a.canMatch(t,i):ss(n,()=>a(t,i));return ko(d)});return at(o).pipe(ya(),_1(e))}var uc=class{constructor(t){this.segmentGroup=t||null}},su=class extends Error{constructor(t){super(),this.urlTree=t}};function ma(n){return es(new uc(n))}function _B(n){return es(new be(4e3,!1))}function vB(n){return es(p1(!1,on.GuardRejected))}var ab=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let e=[],r=i.root;for(;;){if(e=e.concat(r.segments),r.numberOfChildren===0)return at(e);if(r.numberOfChildren>1||!r.children[Pt])return _B(t.redirectTo);r=r.children[Pt]}}applyRedirectCommands(t,i,e){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,e);if(i.startsWith("/"))throw new su(r);return r}applyRedirectCreateUrlTree(t,i,e,r){let o=this.createSegmentGroup(t,i.root,e,r);return new xo(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let e={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);e[r]=i[a]}else e[r]=o}),e}createSegmentGroup(t,i,e,r){let o=this.createSegments(t,i.segments,e,r),s={};return Object.entries(i.children).forEach(([a,d])=>{s[a]=this.createSegmentGroup(t,d,e,r)}),new ne(o,s)}createSegments(t,i,e,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,e))}findPosParam(t,i,e){let r=e[i.path.substring(1)];if(!r)throw new be(4001,!1);return r}findOrReturn(t,i){let e=0;for(let r of i){if(r.path===t.path)return i.splice(e),r;e++}return t}},lb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yB(n,t,i,e,r){let o=_b(n,t,i);return o.matched?(e=KV(t,e),bB(e,t,i,r).pipe(St(s=>s===!0?o:H({},lb)))):at(o)}function _b(n,t,i){if(t.path==="**")return xB(i);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||i.length>0)?H({},lb):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||bV)(i,n,t);if(!r)return H({},lb);let o={};Object.entries(r.posParams??{}).forEach(([a,d])=>{o[a]=d.path});let s=r.consumed.length>0?H(H({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function xB(n){return{matched:!0,parameters:n.length>0?Zk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Kk(n,t,i,e){return i.length>0&&CB(n,i,e)?{segmentGroup:new ne(t,kB(e,new ne(i,n.children))),slicedSegments:[]}:i.length===0&&DB(n,i,e)?{segmentGroup:new ne(n.segments,wB(n,i,e,n.children)),slicedSegments:i}:{segmentGroup:new ne(n.segments,n.children),slicedSegments:i}}function wB(n,t,i,e){let r={};for(let o of i)if(lu(n,t,o)&&!e[br(o)]){let s=new ne([],{});r[br(o)]=s}return H(H({},e),r)}function kB(n,t){let i={};i[Pt]=t;for(let e of n)if(e.path===""&&br(e)!==Pt){let r=new ne([],{});i[br(e)]=r}return i}function CB(n,t,i){return i.some(e=>lu(n,t,e)&&br(e)!==Pt)}function DB(n,t,i){return i.some(e=>lu(n,t,e))}function lu(n,t,i){return(n.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function SB(n,t,i,e){return br(n)!==e&&(e===Pt||!lu(t,i,n))?!1:_b(t,n,i).matched}function AB(n,t,i){return t.length===0&&!n.children[i]}var cb=class{};function EB(n,t,i,e,r,o,s="emptyOnly"){return new db(n,t,i,e,r,s,o).recognize()}var MB=31,db=class{constructor(t,i,e,r,o,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=e,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ab(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new be(4002,`'${t.segmentGroup}'`)}recognize(){let t=Kk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(St(i=>{let e=new dc([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,{}),r=new rn(e,i),o=new ru("",r),s=LV(e,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Pt).pipe(go(e=>{if(e instanceof su)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof uc?this.noMatchError(e):e}))}inheritParamsAndData(t,i){let e=t.value,r=mb(e,i,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,e))}processSegmentGroup(t,i,e,r){return e.segments.length===0&&e.hasChildren()?this.processChildren(t,i,e):this.processSegment(t,i,e,e.segments,r,!0).pipe(St(o=>o instanceof rn?[o]:[]))}processChildren(t,i,e){let r=[];for(let o of Object.keys(e.children))o==="primary"?r.unshift(o):r.push(o);return ji(r).pipe(is(o=>{let s=e.children[o],a=XV(i,o);return this.processSegmentGroup(t,a,s,o)}),ik((o,s)=>(o.push(...s),o)),dg(null),ek(),En(o=>{if(o===null)return ma(e);let s=v1(o);return IB(s),at(s)}))}processSegment(t,i,e,r,o,s){return ji(i).pipe(is(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,e,r,o,s).pipe(go(d=>{if(d instanceof uc)return at(null);throw d}))),bo(a=>!!a),go(a=>{if(b1(a))return AB(e,r,o)?at(new cb):ma(e);throw a}))}processSegmentAgainstRoute(t,i,e,r,o,s,a){return SB(e,r,o,s)?e.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,e,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,e,o,s):ma(r):ma(r)}expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s){let{matched:a,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=_b(i,r,o);if(!a)return ma(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MB&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,f).pipe(En(g=>this.processSegment(t,e,i,g.concat(m),s,!1)))}matchSegmentAgainstRoute(t,i,e,r,o){let s=yB(i,e,r,t,this.urlSerializer);return e.path==="**"&&(i.children={}),s.pipe(Mn(a=>a.matched?(t=e._injector??t,this.getChildConfig(t,e,r).pipe(Mn(({routes:d})=>{let h=e._loadedInjector??t,{consumedSegments:m,remainingSegments:f,parameters:g}=a,_=new dc(m,g,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,RB(e),br(e),e.component??e._loadedComponent??null,e,OB(e)),{segmentGroup:y,slicedSegments:k}=Kk(i,m,f,d);if(k.length===0&&y.hasChildren())return this.processChildren(h,d,y).pipe(St(M=>M===null?null:new rn(_,M)));if(d.length===0&&k.length===0)return at(new rn(_,[]));let S=br(e)===o;return this.processSegment(h,d,y,k,S?Pt:o,!0).pipe(St(M=>new rn(_,M instanceof rn?[M]:[])))}))):ma(i)))}getChildConfig(t,i,e){return i.children?at({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?at({routes:i._loadedRoutes,injector:i._loadedInjector}):gB(t,i,e,this.urlSerializer).pipe(En(r=>r?this.configLoader.loadChildren(t,i).pipe(Le(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):vB(i))):at({routes:[],injector:t})}};function IB(n){n.sort((t,i)=>t.value.outlet===Pt?-1:i.value.outlet===Pt?1:t.value.outlet.localeCompare(i.value.outlet))}function TB(n){let t=n.value.routeConfig;return t&&t.path===""}function v1(n){let t=[],i=new Set;for(let e of n){if(!TB(e)){t.push(e);continue}let r=t.find(o=>e.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...e.children),i.add(r)):t.push(e)}for(let e of i){let r=v1(e.children);t.push(new rn(e.value,r))}return t.filter(e=>!i.has(e))}function RB(n){return n.data||{}}function OB(n){return n.resolve||{}}function FB(n,t,i,e,r,o){return En(s=>EB(n,t,i,e,s.extractedUrl,r,o).pipe(St(({state:a,tree:d})=>ge(H({},s),{targetSnapshot:a,urlAfterRedirects:d}))))}function PB(n,t){return En(i=>{let{targetSnapshot:e,guards:{canActivateChecks:r}}=i;if(!r.length)return at(i);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let h of y1(d))s.add(h);let a=0;return ji(s).pipe(is(d=>o.has(d)?LB(d,e,n,t):(d.data=mb(d,d.parent,n).resolve,at(void 0))),Le(()=>a++),hg(1),En(d=>a===s.size?at(i):ur))})}function y1(n){let t=n.children.map(i=>y1(i)).flat();return[n,...t]}function LB(n,t,i,e){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!u1(r)&&(o[mc]=r.title),NB(o,n,t,e).pipe(St(s=>(n._resolvedData=s,n.data=mb(n,n.parent,i).resolve,null)))}function NB(n,t,i,e){let r=zg(n);if(r.length===0)return at({});let o={};return ji(r).pipe(En(s=>VB(n[s],t,i,e).pipe(bo(),Le(a=>{o[s]=a}))),hg(1),tk(o),go(s=>b1(s)?ur:es(s)))}function VB(n,t,i,e){let r=fc(t)??e,o=xa(n,r),s=o.resolve?o.resolve(t,i):ss(r,()=>o(t,i));return ko(s)}function Vg(n){return Mn(t=>{let i=n(t);return i?ji(i).pipe(St(()=>t)):at(t)})}var x1=(()=>{let t=class t{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Pt);return r}getResolvedTitleForRoute(e){return e.data[mc]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>Y(BB),providedIn:"root"});let n=t;return n})(),BB=(()=>{let t=class t extends x1{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(R(Uk))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),vb=new nt("",{providedIn:"root",factory:()=>({})}),yb=new nt(""),zB=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(gg)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return at(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=ko(e.loadComponent()).pipe(St(w1),Le(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),rs(()=>{this.componentLoaders.delete(e)})),o=new og(r,()=>new ht).pipe(rg());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=jB(r,this.compiler,e,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(r)})),a=new og(s,()=>new ht).pipe(rg());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function jB(n,t,i,e){return ko(n.loadChildren()).pipe(St(w1),En(r=>r instanceof bk||Array.isArray(r)?at(r):ji(t.compileModuleAsync(r))),St(r=>{e&&e(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(yb,[],{optional:!0,self:!0}).flat()),{routes:s.map(bb),injector:o}}))}function HB(n){return n&&typeof n=="object"&&"default"in n}function w1(n){return HB(n)?n.default:n}var xb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>Y(UB),providedIn:"root"});let n=t;return n})(),UB=(()=>{let t=class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),WB=new nt("");var $B=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=Y(zB),this.environmentInjector=Y(Ul),this.urlSerializer=Y(ub),this.rootContexts=Y(au),this.location=Y(da),this.inputBindingEnabled=Y(gb,{optional:!0})!==null,this.titleStrategy=Y(x1),this.options=Y(vb,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Y(xb),this.createViewTransition=Y(WB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null;let e=o=>this.events.next(new Kg(o)),r=o=>this.events.next(new Xg(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ge(H(H({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,o){return this.transitions=new zi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(s=>s.id!==0),St(s=>ge(H({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mn(s=>{let a=!1,d=!1;return at(s).pipe(Mn(h=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),ur;this.currentTransition=s,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?ge(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=h.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&f!=="reload"){let g="";return this.events.next(new gs(h.id,this.urlSerializer.serialize(h.rawUrl),g,Wg.IgnoredSameUrlNavigation)),h.resolve(null),ur}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return at(h).pipe(Mn(g=>{let _=this.transitions?.getValue();return this.events.next(new sc(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?ur:Promise.resolve(g)}),FB(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ge(H({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new eu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:g,extractedUrl:_,source:y,restoredState:k,extras:S}=h,M=new sc(g,this.urlSerializer.serialize(_),y,k);this.events.next(M);let B=d1(this.rootComponentType).snapshot;return this.currentTransition=s=ge(H({},h),{targetSnapshot:B,urlAfterRedirects:_,extras:ge(H({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,at(s)}else{let g="";return this.events.next(new gs(h.id,this.urlSerializer.serialize(h.extractedUrl),g,Wg.IgnoredByUrlHandlingStrategy)),h.resolve(null),ur}}),Le(h=>{let m=new $g(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),St(h=>(this.currentTransition=s=ge(H({},h),{guards:QV(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),s)),lB(this.environmentInjector,h=>this.events.next(h)),Le(h=>{if(s.guardsResult=h.guardsResult,_a(h.guardsResult))throw f1(this.urlSerializer,h.guardsResult);let m=new Yg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),Xe(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",on.GuardRejected),!1)),Vg(h=>{if(h.guards.canActivateChecks.length)return at(h).pipe(Le(m=>{let f=new qg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(f)}),Mn(m=>{let f=!1;return at(m).pipe(PB(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(m,"",on.NoDataFromResolver)}}))}),Le(m=>{let f=new Gg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(f)}))}),Vg(h=>{let m=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Le(_=>{f.component=_}),St(()=>{})));for(let _ of f.children)g.push(...m(_));return g};return Bl(m(h.targetSnapshot.root)).pipe(dg(null),We(1))}),Vg(()=>this.afterPreactivation()),Mn(()=>{let{currentSnapshot:h,targetSnapshot:m}=s,f=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return f?ji(f).pipe(St(()=>s)):at(s)}),St(h=>{let m=WV(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=s=ge(H({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,s}),Le(()=>{this.events.next(new lc)}),ZV(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),We(1),Le({next:h=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ps(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{a=!0}}),ye(this.transitionAbortSubject.pipe(Le(h=>{throw h}))),rs(()=>{!a&&!d&&this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),go(h=>{if(d=!0,g1(h))this.events.next(new wo(s.id,this.urlSerializer.serialize(s.extractedUrl),h.message,h.cancellationCode)),qV(h)?this.events.next(new cc(h.url)):s.resolve(!1);else{this.events.next(new ac(s.id,this.urlSerializer.serialize(s.extractedUrl),h,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(h))}catch(m){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(m)}}return ur}))}))}cancelNavigationTransition(e,r,o){let s=new wo(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function YB(n){return n!==nc}var qB=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>Y(GB),providedIn:"root"});let n=t;return n})(),hb=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},GB=(()=>{let t=class t extends hb{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),k1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>Y(KB),providedIn:"root"});let n=t;return n})(),KB=(()=>{let t=class t extends k1{constructor(){super(...arguments),this.location=Y(da),this.urlSerializer=Y(ub),this.options=Y(vb,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Y(xb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=d1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof sc)this.stateMemento=this.createStateMemento();else if(e instanceof gs)this.rawUrlTree=r.initialUrl;else if(e instanceof eu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else e instanceof lc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof wo&&(e.code===on.GuardRejected||e.code===on.NoDataFromResolver)?this.restoreHistory(r):e instanceof ac?this.restoreHistory(r,!0):e instanceof ps&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=H(H({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ec=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ec||{});function XB(n,t){n.events.pipe(Xe(i=>i instanceof ps||i instanceof wo||i instanceof ac||i instanceof gs),St(i=>i instanceof ps||i instanceof gs?ec.COMPLETE:(i instanceof wo?i.code===on.Redirect||i.code===on.SupersededByNewNavigation:!1)?ec.REDIRECTING:ec.FAILED),Xe(i=>i!==ec.REDIRECTING),We(1)).subscribe(()=>{t()})}function ZB(n){throw n}var QB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_r=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Y(jh),this.stateManager=Y(k1),this.options=Y(vb,{optional:!0})||{},this.pendingTasks=Y(vk),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Y($B),this.urlSerializer=Y(ub),this.location=Y(da),this.urlHandlingStrategy=Y(xb),this._events=new ht,this.errorHandler=this.options.errorHandler||ZB,this.navigated=!1,this.routeReuseStrategy=Y(qB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Y(yb,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Y(gb,{optional:!0}),this.eventsSubscription=new Re,this.isNgZoneEnabled=Y(ot)instanceof ot&&ot.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof wo&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ps)this.navigated=!0;else if(r instanceof cc){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||YB(o.source)};this.scheduleNavigation(a,nc,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}e4(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let h=H({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(s.state=h)}let d=this.parseUrl(e);this.scheduleNavigation(d,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(bb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:h}=r,m=h?this.currentUrlTree.fragment:a,f=null;switch(d){case"merge":f=H(H({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=o?o.snapshot:this.routerState.snapshot.root;g=s1(_)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return a1(g,e,f,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=_a(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,nc,null,r)}navigate(e,r={skipLocationChange:!1}){return t4(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=H({},QB):r===!1?o=H({},JB):o=r,_a(e))return $k(this.currentUrlTree,e,o);let s=this.parseUrl(e);return $k(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(e,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let d,h,m;a?(d=a.resolve,h=a.reject,m=a.promise):m=new Promise((g,_)=>{d=g,h=_});let f=this.pendingTasks.add();return XB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(g=>Promise.reject(g))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function t4(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new be(4008,!1)}function e4(n){return!(n instanceof lc)&&!(n instanceof cc)}var i4=new nt("");function C1(n,...t){return Hl([{provide:yb,multi:!0,useValue:n},[],{provide:va,useFactory:n4,deps:[_r]},{provide:yk,multi:!0,useFactory:r4},t.map(i=>i.\u0275providers)])}function n4(n){return n.routerState.root}function r4(){let n=Y(_i);return t=>{let i=n.get(Gl);if(t!==i.components[0])return;let e=n.get(_r),r=n.get(o4);n.get(s4)===1&&e.initialNavigation(),n.get(a4,null,mg.Optional)?.setUpPreloading(),n.get(i4,null,mg.Optional)?.init(),e.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var o4=new nt("",{factory:()=>new ht}),s4=new nt("",{providedIn:"root",factory:()=>1});var a4=new nt("");var T1=(()=>{let t=class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(r){return new(r||t)(C(Nh),C(dt))},t.\u0275dir=tt({type:t});let n=t;return n})(),R1=(()=>{let t=class t extends T1{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275dir=tt({type:t,features:[se]});let n=t;return n})(),vr=new nt("");var l4={provide:vr,useExisting:Ji(()=>Ca),multi:!0};function c4(){let n=ca()?ca().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var d4=new nt(""),Ca=(()=>{let t=class t extends T1{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!c4())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(r){return new(r||t)(C(Nh),C(dt),C(d4,8))},t.\u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&mt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Qt([l4]),se]});let n=t;return n})();function Co(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function O1(n){return n!=null&&typeof n.length=="number"}var So=new nt(""),yc=new nt(""),h4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Do=class{static min(t){return u4(t)}static max(t){return m4(t)}static required(t){return f4(t)}static requiredTrue(t){return p4(t)}static email(t){return g4(t)}static minLength(t){return b4(t)}static maxLength(t){return _4(t)}static pattern(t){return v4(t)}static nullValidator(t){return F1(t)}static compose(t){return z1(t)}static composeAsync(t){return j1(t)}};function u4(n){return t=>{if(Co(t.value)||Co(n))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<n?{min:{min:n,actual:t.value}}:null}}function m4(n){return t=>{if(Co(t.value)||Co(n))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>n?{max:{max:n,actual:t.value}}:null}}function f4(n){return Co(n.value)?{required:!0}:null}function p4(n){return n.value===!0?null:{required:!0}}function g4(n){return Co(n.value)||h4.test(n.value)?null:{email:!0}}function b4(n){return t=>Co(t.value)||!O1(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function _4(n){return t=>O1(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function v4(n){if(!n)return F1;let t,i;return typeof n=="string"?(i="",n.charAt(0)!=="^"&&(i+="^"),i+=n,n.charAt(n.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=n.toString(),t=n),e=>{if(Co(e.value))return null;let r=e.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function F1(n){return null}function P1(n){return n!=null}function L1(n){return Hh(n)?ji(n):n}function N1(n){let t={};return n.forEach(i=>{t=i!=null?H(H({},t),i):t}),Object.keys(t).length===0?null:t}function V1(n,t){return t.map(i=>i(n))}function y4(n){return!n.validate}function B1(n){return n.map(t=>y4(t)?t:i=>t.validate(i))}function z1(n){if(!n)return null;let t=n.filter(P1);return t.length==0?null:function(i){return N1(V1(i,t))}}function kb(n){return n!=null?z1(B1(n)):null}function j1(n){if(!n)return null;let t=n.filter(P1);return t.length==0?null:function(i){let e=V1(i,t).map(L1);return Rh(e).pipe(St(N1))}}function Cb(n){return n!=null?j1(B1(n)):null}function D1(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function H1(n){return n._rawValidators}function U1(n){return n._rawAsyncValidators}function wb(n){return n?Array.isArray(n)?n:[n]:[]}function hu(n,t){return Array.isArray(n)?n.includes(t):n===t}function S1(n,t){let i=wb(t);return wb(n).forEach(r=>{hu(i,r)||i.push(r)}),i}function A1(n,t){return wb(t).filter(i=>!hu(n,i))}var uu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Zn=class extends uu{get formDirective(){return null}get path(){return null}},sn=class extends uu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mu=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},x4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TY=ge(H({},x4),{"[class.ng-submitted]":"isSubmitted"}),Da=(()=>{let t=class t extends mu{constructor(e){super(e)}};t.\u0275fac=function(r){return new(r||t)(C(sn,2))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ot("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[se]});let n=t;return n})(),W1=(()=>{let t=class t extends mu{constructor(e){super(e)}};t.\u0275fac=function(r){return new(r||t)(C(Zn,10))},t.\u0275dir=tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ot("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[se]});let n=t;return n})();var gc="VALID",du="INVALID",wa="PENDING",bc="DISABLED";function $1(n){return(_u(n)?n.validators:n)||null}function w4(n){return Array.isArray(n)?kb(n):n||null}function Y1(n,t){return(_u(t)?t.asyncValidators:n)||null}function k4(n){return Array.isArray(n)?Cb(n):n||null}function _u(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function C4(n,t,i){let e=n.controls;if(!(t?Object.keys(e):e).length)throw new be(1e3,"");if(!e[i])throw new be(1001,"")}function D4(n,t,i){n._forEachChild((e,r)=>{if(i[r]===void 0)throw new be(1002,"")})}var fu=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===du}get pending(){return this.status==wa}get disabled(){return this.status===bc}get enabled(){return this.status!==bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(S1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(S1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(A1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(A1(t,this._rawAsyncValidators))}hasValidator(t){return hu(this._rawValidators,t)}hasAsyncValidator(t){return hu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wa,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=bc,this.errors=null,this._forEachChild(e=>{e.disable(ge(H({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(H({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(e=>e(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=gc,this._forEachChild(e=>{e.enable(ge(H({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ge(H({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===wa)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator=!0;let i=L1(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((e,r)=>e&&e._find(r),this)}getError(t,i){let e=i?this.get(i):this;return e&&e.errors?e.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?bc:this.errors?du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(du)?du:gc}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_u(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=w4(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=k4(this._rawAsyncValidators)}},ka=class extends fu{constructor(t,i,e){super($1(i),Y1(e,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,e={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){D4(this,!0,t),Object.keys(t).forEach(e=>{C4(this,!0,e),this.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(e=>{let r=this.controls[e];r&&r.patchValue(t[e],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((e,r)=>{e.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,e)=>(t[e]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,e)=>e._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let e=this.controls[i];e&&t(e,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,e]of Object.entries(this.controls))if(this.contains(i)&&t(e))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,e,r)=>((e.enabled||this.disabled)&&(i[r]=e.value),i))}_reduceChildren(t,i){let e=t;return this._forEachChild((r,o)=>{e=i(e,r,o)}),e}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Sa=new nt("CallSetDisabledState",{providedIn:"root",factory:()=>vu}),vu="always";function q1(n,t){return[...t.path,n]}function vc(n,t,i=vu){Db(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),A4(n,t),M4(n,t),E4(n,t),S4(n,t)}function pu(n,t,i=!0){let e=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(e),t.valueAccessor.registerOnTouched(e)),bu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gu(n,t){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function S4(n,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};n.registerOnDisabledChange(i),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}function Db(n,t){let i=H1(n);t.validator!==null?n.setValidators(D1(i,t.validator)):typeof i=="function"&&n.setValidators([i]);let e=U1(n);t.asyncValidator!==null?n.setAsyncValidators(D1(e,t.asyncValidator)):typeof e=="function"&&n.setAsyncValidators([e]);let r=()=>n.updateValueAndValidity();gu(t._rawValidators,r),gu(t._rawAsyncValidators,r)}function bu(n,t){let i=!1;if(n!==null){if(t.validator!==null){let r=H1(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=U1(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,n.setAsyncValidators(o))}}}let e=()=>{};return gu(t._rawValidators,e),gu(t._rawAsyncValidators,e),i}function A4(n,t){t.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&G1(n,t)})}function E4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&G1(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function G1(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function M4(n,t){let i=(e,r)=>{t.valueAccessor.writeValue(e),r&&t.viewToModelUpdate(e)};n.registerOnChange(i),t._registerOnDestroy(()=>{n._unregisterOnChange(i)})}function K1(n,t){n==null,Db(n,t)}function I4(n,t){return bu(n,t)}function Sb(n,t){if(!n.hasOwnProperty("model"))return!1;let i=n.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function T4(n){return Object.getPrototypeOf(n.constructor)===R1}function X1(n,t){n._syncPendingControls(),t.forEach(i=>{let e=i.control;e.updateOn==="submit"&&e._pendingChange&&(i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ab(n,t){if(!t)return null;Array.isArray(t);let i,e,r;return t.forEach(o=>{o.constructor===Ca?i=o:T4(o)?e=o:r=o}),r||e||i||null}function R4(n,t){let i=n.indexOf(t);i>-1&&n.splice(i,1)}var O4={provide:Zn,useExisting:Ji(()=>bs)},_c=Promise.resolve(),bs=(()=>{let t=class t extends Zn{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ct,this.form=new ka({},kb(e),Cb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_c.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),vc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_c.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_c.then(()=>{let r=this._findContainer(e.path),o=new ka({});K1(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_c.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){_c.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,X1(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};t.\u0275fac=function(r){return new(r||t)(C(So,10),C(yc,10),C(Sa,8))},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&mt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[it.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([O4]),se]});let n=t;return n})();function E1(n,t){let i=n.indexOf(t);i>-1&&n.splice(i,1)}function M1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Aa=class extends fu{constructor(t=null,i,e){super($1(i),Y1(e,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_u(i)&&(i.nonNullable||i.initialValueIsDefault)&&(M1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){E1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){E1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){M1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var F4=n=>n instanceof Aa;var P4={provide:sn,useExisting:Ji(()=>xc)},I1=Promise.resolve(),xc=(()=>{let t=class t extends sn{constructor(e,r,o,s,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this.control=new Aa,this._registered=!1,this.name="",this.update=new ct,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ab(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Sb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){I1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&xe(r);I1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?q1(e,this._parent):[e]}};t.\u0275fac=function(r){return new(r||t)(C(Zn,9),C(So,10),C(yc,10),C(vr,10),C(Oe,8),C(Sa,8))},t.\u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[it.None,"disabled","isDisabled"],model:[it.None,"ngModel","model"],options:[it.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qt([P4]),se,Ne]});let n=t;return n})();var L4={provide:vr,useExisting:Ji(()=>Eb),multi:!0},Eb=(()=>{let t=class t extends R1{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&mt("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Qt([L4]),se]});let n=t;return n})();var Mb=new nt(""),N4={provide:sn,useExisting:Ji(()=>Ib)},Ib=(()=>{let t=class t extends sn{set isDisabled(e){}constructor(e,r,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ct,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=Ab(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let r=e.form.previousValue;r&&pu(r,this,!1),vc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Sb(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(C(So,10),C(yc,10),C(vr,10),C(Mb,8),C(Sa,8))},t.\u0275dir=tt({type:t,selectors:[["","formControl",""]],inputs:{form:[it.None,"formControl","form"],isDisabled:[it.None,"disabled","isDisabled"],model:[it.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Qt([N4]),se,Ne]});let n=t;return n})(),V4={provide:Zn,useExisting:Ji(()=>Gr)},Gr=(()=>{let t=class t extends Zn{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return vc(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pu(e.control||null,e,!1),R4(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,X1(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,o=this.form.get(e.path);r!==o&&(pu(r||null,e),F4(o)&&(vc(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);K1(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&I4(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Db(this.form,this),this._oldForm&&bu(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(C(So,10),C(yc,10),C(Sa,8))},t.\u0275dir=tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&mt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[it.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([V4]),se,Ne]});let n=t;return n})();var B4={provide:sn,useExisting:Ji(()=>Tb)},Tb=(()=>{let t=class t extends sn{set isDisabled(e){}constructor(e,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ab(this,s)}ngOnChanges(e){this._added||this._setUpControl(),Sb(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return q1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(C(Zn,13),C(So,10),C(yc,10),C(vr,10),C(Mb,8))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""]],inputs:{name:[it.None,"formControlName","name"],isDisabled:[it.None,"disabled","isDisabled"],model:[it.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qt([B4]),se,Ne]});let n=t;return n})();var Z1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({});let n=t;return n})();var Ao=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:Sa,useValue:e.callSetDisabledState??vu}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[Z1]});let n=t;return n})(),yu=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:Mb,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Sa,useValue:e.callSetDisabledState??vu}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[Z1]});let n=t;return n})();var Xt=class n{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,i,e){[t,i]=Oa(this,t,i);let r=[];return this.decompose(0,t,r,2),e.length&&e.decompose(0,e.length,r,3),this.decompose(i,this.length,r,1),Ma.from(r,this.length-(i-t)+e.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,i=this.length){[t,i]=Oa(this,t,i);let e=[];return this.decompose(t,i,e,0),Ma.from(e,i-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let i=this.scanIdentical(t,1),e=this.length-this.scanIdentical(t,-1),r=new ys(this),o=new ys(t);for(let s=i,a=i;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=e)return!0}}iter(t=1){return new ys(this,t)}iterRange(t,i=this.length){return new Cu(this,t,i)}iterLines(t,i){let e;if(t==null)e=this.iter();else{i==null&&(i=this.lines+1);let r=this.line(t).from;e=this.iterRange(r,Math.max(r,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new Du(e)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?n.empty:t.length<=32?new an(t):Ma.from(an.split(t,[]))}},an=class n extends Xt{constructor(t,i=z4(t)){super(),this.text=t,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(t,i,e,r){for(let o=0;;o++){let s=this.text[o],a=r+s.length;if((i?e:a)>=t)return new Fb(r,a,e,s);r=a+1,e++}}decompose(t,i,e,r){let o=t<=0&&i>=this.length?this:new n(Q1(this.text,t,i),Math.min(i,this.length)-Math.max(0,t));if(r&1){let s=e.pop(),a=ku(o.text,s.text.slice(),0,o.length);if(a.length<=32)e.push(new n(a,s.length+o.length));else{let d=a.length>>1;e.push(new n(a.slice(0,d)),new n(a.slice(d)))}}else e.push(o)}replace(t,i,e){if(!(e instanceof n))return super.replace(t,i,e);[t,i]=Oa(this,t,i);let r=ku(this.text,ku(e.text,Q1(this.text,0,t)),i),o=this.length+e.length-(i-t);return r.length<=32?new n(r,o):Ma.from(n.split(r,[]),o)}sliceString(t,i=this.length,e=`
`){[t,i]=Oa(this,t,i);let r="";for(let o=0,s=0;o<=i&&s<this.text.length;s++){let a=this.text[s],d=o+a.length;o>t&&s&&(r+=e),t<d&&i>o&&(r+=a.slice(Math.max(0,t-o),i-o)),o=d+1}return r}flatten(t){for(let i of this.text)t.push(i)}scanIdentical(){return 0}static split(t,i){let e=[],r=-1;for(let o of t)e.push(o),r+=o.length+1,e.length==32&&(i.push(new n(e,r)),e=[],r=-1);return r>-1&&i.push(new n(e,r)),i}},Ma=class n extends Xt{constructor(t,i){super(),this.children=t,this.length=i,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,i,e,r){for(let o=0;;o++){let s=this.children[o],a=r+s.length,d=e+s.lines-1;if((i?d:a)>=t)return s.lineInner(t,i,e,r);r=a+1,e=d+1}}decompose(t,i,e,r){for(let o=0,s=0;s<=i&&o<this.children.length;o++){let a=this.children[o],d=s+a.length;if(t<=d&&i>=s){let h=r&((s<=t?1:0)|(d>=i?2:0));s>=t&&d<=i&&!h?e.push(a):a.decompose(t-s,i-s,e,h)}s=d+1}}replace(t,i,e){if([t,i]=Oa(this,t,i),e.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(t>=o&&i<=a){let d=s.replace(t-o,i-o,e),h=this.lines-s.lines+d.lines;if(d.lines<h>>4&&d.lines>h>>6){let m=this.children.slice();return m[r]=d,new n(m,this.length-(i-t)+e.length)}return super.replace(o,a,d)}o=a+1}return super.replace(t,i,e)}sliceString(t,i=this.length,e=`
`){[t,i]=Oa(this,t,i);let r="";for(let o=0,s=0;o<this.children.length&&s<=i;o++){let a=this.children[o],d=s+a.length;s>t&&o&&(r+=e),t<d&&i>s&&(r+=a.sliceString(t-s,i-s,e)),s=d+1}return r}flatten(t){for(let i of this.children)i.flatten(t)}scanIdentical(t,i){if(!(t instanceof n))return 0;let e=0,[r,o,s,a]=i>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=i,o+=i){if(r==s||o==a)return e;let d=this.children[r],h=t.children[o];if(d!=h)return e+d.scanIdentical(h,i);e+=d.length+1}}static from(t,i=t.reduce((e,r)=>e+r.length+1,-1)){let e=0;for(let _ of t)e+=_.lines;if(e<32){let _=[];for(let y of t)y.flatten(_);return new an(_,i)}let r=Math.max(32,e>>5),o=r<<1,s=r>>1,a=[],d=0,h=-1,m=[];function f(_){let y;if(_.lines>o&&_ instanceof n)for(let k of _.children)f(k);else _.lines>s&&(d>s||!d)?(g(),a.push(_)):_ instanceof an&&d&&(y=m[m.length-1])instanceof an&&_.lines+y.lines<=32?(d+=_.lines,h+=_.length+1,m[m.length-1]=new an(y.text.concat(_.text),y.length+1+_.length)):(d+_.lines>r&&g(),d+=_.lines,h+=_.length+1,m.push(_))}function g(){d!=0&&(a.push(m.length==1?m[0]:n.from(m,h)),h=-1,d=m.length=0)}for(let _ of t)f(_);return g(),a.length==1?a[0]:new n(a,i)}};Xt.empty=new an([""],0);function z4(n){let t=-1;for(let i of n)t+=i.length+1;return t}function ku(n,t,i=0,e=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=e;o++){let a=n[o],d=r+a.length;d>=i&&(d>e&&(a=a.slice(0,e-r)),r<i&&(a=a.slice(i-r)),s?(t[t.length-1]+=a,s=!1):t.push(a)),r=d+1}return t}function Q1(n,t,i){return ku(n,[""],t,i)}var ys=class{constructor(t,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[i>0?1:(t instanceof an?t.text.length:t.children.length)<<1]}nextInner(t,i){for(this.done=this.lineBreak=!1;;){let e=this.nodes.length-1,r=this.nodes[e],o=this.offsets[e],s=o>>1,a=r instanceof an?r.text.length:r.children.length;if(s==(i>0?a:0)){if(e==0)return this.done=!0,this.value="",this;i>0&&this.offsets[e-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(i>0?0:1)){if(this.offsets[e]+=i,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(r instanceof an){let d=r.text[s+(i<0?-1:0)];if(this.offsets[e]+=i,d.length>Math.max(0,t))return this.value=t==0?d:i>0?d.slice(t):d.slice(0,d.length-t),this;t-=d.length}else{let d=r.children[s+(i<0?-1:0)];t>d.length?(t-=d.length,this.offsets[e]+=i):(i<0&&this.offsets[e]--,this.nodes.push(d),this.offsets.push(i>0?1:(d instanceof an?d.text.length:d.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}},Cu=class{constructor(t,i,e){this.value="",this.done=!1,this.cursor=new ys(t,i>e?-1:1),this.pos=i>e?t.length:0,this.from=Math.min(i,e),this.to=Math.max(i,e)}nextInner(t,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let e=i<0?this.pos-this.from:this.to-this.pos;t>e&&(t=e),e-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*i,this.value=r.length<=e?r:i<0?r.slice(r.length-e):r.slice(0,e),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},Du=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:i,lineBreak:e,value:r}=this.inner.next(t);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):e?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(Xt.prototype[Symbol.iterator]=function(){return this.iter()},ys.prototype[Symbol.iterator]=Cu.prototype[Symbol.iterator]=Du.prototype[Symbol.iterator]=function(){return this});var Fb=class{constructor(t,i,e,r){this.from=t,this.to=i,this.number=e,this.text=r}get length(){return this.to-this.from}};function Oa(n,t,i){return t=Math.max(0,Math.min(n.length,t)),[t,Math.max(t,Math.min(n.length,i))]}var Ia="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Ia.length;n++)Ia[n]+=Ia[n-1];function j4(n){for(let t=1;t<Ia.length;t+=2)if(Ia[t]>n)return Ia[t-1]<=n;return!1}function J1(n){return n>=127462&&n<=127487}var tC=8205;function Ye(n,t,i=!0,e=!0){return(i?lC:H4)(n,t,e)}function lC(n,t,i){if(t==n.length)return t;t&&cC(n.charCodeAt(t))&&dC(n.charCodeAt(t-1))&&t--;let e=$e(n,t);for(t+=Mi(e);t<n.length;){let r=$e(n,t);if(e==tC||r==tC||i&&j4(r))t+=Mi(r),e=r;else if(J1(r)){let o=0,s=t-2;for(;s>=0&&J1($e(n,s));)o++,s-=2;if(o%2==0)break;t+=2}else break}return t}function H4(n,t,i){for(;t>0;){let e=lC(n,t-2,i);if(e<t)return e;t--}return 0}function cC(n){return n>=56320&&n<57344}function dC(n){return n>=55296&&n<56320}function $e(n,t){let i=n.charCodeAt(t);if(!dC(i)||t+1==n.length)return i;let e=n.charCodeAt(t+1);return cC(e)?(i-55296<<10)+(e-56320)+65536:i}function Ec(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Mi(n){return n<65536?1:2}var Pb=/\r\n?|\n/,hi=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(hi||(hi={})),Kr=class n{constructor(t){this.sections=t}get length(){let t=0;for(let i=0;i<this.sections.length;i+=2)t+=this.sections[i];return t}get newLength(){let t=0;for(let i=0;i<this.sections.length;i+=2){let e=this.sections[i+1];t+=e<0?this.sections[i]:e}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let i=0,e=0,r=0;i<this.sections.length;){let o=this.sections[i++],s=this.sections[i++];s<0?(t(e,r,o),r+=o):r+=s,e+=o}}iterChangedRanges(t,i=!1){Lb(this,t,i)}get invertedDesc(){let t=[];for(let i=0;i<this.sections.length;){let e=this.sections[i++],r=this.sections[i++];r<0?t.push(e,r):t.push(r,e)}return new n(t)}composeDesc(t){return this.empty?t:t.empty?this:hC(this,t)}mapDesc(t,i=!1){return t.empty?this:Nb(this,t,i)}mapPos(t,i=-1,e=hi.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],d=this.sections[s++],h=r+a;if(d<0){if(h>t)return o+(t-r);o+=a}else{if(e!=hi.Simple&&h>=t&&(e==hi.TrackDel&&r<t&&h>t||e==hi.TrackBefore&&r<t||e==hi.TrackAfter&&h>t))return null;if(h>t||h==t&&i<0&&!a)return t==r||i<0?o:o+d;o+=d}r=h}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return o}touchesRange(t,i=t){for(let e=0,r=0;e<this.sections.length&&r<=i;){let o=this.sections[e++],s=this.sections[e++],a=r+o;if(s>=0&&r<=i&&a>=t)return r<t&&a>i?"cover":!0;r=a}return!1}toString(){let t="";for(let i=0;i<this.sections.length;){let e=this.sections[i++],r=this.sections[i++];t+=(t?" ":"")+e+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(i=>typeof i!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new n(t)}static create(t){return new n(t)}},Ii=class n extends Kr{constructor(t,i){super(t),this.inserted=i}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Lb(this,(i,e,r,o,s)=>t=t.replace(r,r+(e-i),s),!1),t}mapDesc(t,i=!1){return Nb(this,t,i,!0)}invert(t){let i=this.sections.slice(),e=[];for(let r=0,o=0;r<i.length;r+=2){let s=i[r],a=i[r+1];if(a>=0){i[r]=a,i[r+1]=s;let d=r>>1;for(;e.length<d;)e.push(Xt.empty);e.push(s?t.slice(o,o+s):Xt.empty)}o+=s}return new n(i,e)}compose(t){return this.empty?t:t.empty?this:hC(this,t,!0)}map(t,i=!1){return t.empty?this:Nb(this,t,i,!0)}iterChanges(t,i=!1){Lb(this,t,i)}get desc(){return Kr.create(this.sections)}filter(t){let i=[],e=[],r=[],o=new xs(this);t:for(let s=0,a=0;;){let d=s==t.length?1e9:t[s++];for(;a<d||a==d&&o.len==0;){if(o.done)break t;let m=Math.min(o.len,d-a);vi(r,m,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;vi(i,m,f),f>0&&Eo(e,i,o.text),o.forward(m),a+=m}let h=t[s++];for(;a<h;){if(o.done)break t;let m=Math.min(o.len,h-a);vi(i,m,-1),vi(r,m,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(m),a+=m}}return{changes:new n(i,e),filtered:Kr.create(r)}}toJSON(){let t=[];for(let i=0;i<this.sections.length;i+=2){let e=this.sections[i],r=this.sections[i+1];r<0?t.push(e):r==0?t.push([e]):t.push([e].concat(this.inserted[i>>1].toJSON()))}return t}static of(t,i,e){let r=[],o=[],s=0,a=null;function d(m=!1){if(!m&&!r.length)return;s<i&&vi(r,i-s,-1);let f=new n(r,o);a=a?a.compose(f.map(a)):f,r=[],o=[],s=0}function h(m){if(Array.isArray(m))for(let f of m)h(f);else if(m instanceof n){if(m.length!=i)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${i})`);d(),a=a?a.compose(m.map(a)):m}else{let{from:f,to:g=f,insert:_}=m;if(f>g||f<0||g>i)throw new RangeError(`Invalid change range ${f} to ${g} (in doc of length ${i})`);let y=_?typeof _=="string"?Xt.of(_.split(e||Pb)):_:Xt.empty,k=y.length;if(f==g&&k==0)return;f<s&&d(),f>s&&vi(r,f-s,-1),vi(r,g-f,k),Eo(o,r,y),s=g}}return h(t),d(!a),a}static empty(t){return new n(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],e=[];for(let r=0;r<t.length;r++){let o=t[r];if(typeof o=="number")i.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)i.push(o[0],0);else{for(;e.length<r;)e.push(Xt.empty);e[r]=Xt.of(o.slice(1)),i.push(o[0],e[r].length)}}}return new n(i,e)}static createSet(t,i){return new n(t,i)}};function vi(n,t,i,e=!1){if(t==0&&i<=0)return;let r=n.length-2;r>=0&&i<=0&&i==n[r+1]?n[r]+=t:t==0&&n[r]==0?n[r+1]+=i:e?(n[r]+=t,n[r+1]+=i):n.push(t,i)}function Eo(n,t,i){if(i.length==0)return;let e=t.length-2>>1;if(e<n.length)n[n.length-1]=n[n.length-1].append(i);else{for(;n.length<e;)n.push(Xt.empty);n.push(i)}}function Lb(n,t,i){let e=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],d=n.sections[s++];if(d<0)r+=a,o+=a;else{let h=r,m=o,f=Xt.empty;for(;h+=a,m+=d,d&&e&&(f=f.append(e[s-2>>1])),!(i||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],d=n.sections[s++];t(r,h,o,m,f),r=h,o=m}}}function Nb(n,t,i,e=!1){let r=[],o=e?[]:null,s=new xs(n),a=new xs(t);for(let d=-1;;)if(s.ins==-1&&a.ins==-1){let h=Math.min(s.len,a.len);vi(r,h,-1),s.forward(h),a.forward(h)}else if(a.ins>=0&&(s.ins<0||d==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!i))){let h=a.len;for(vi(r,a.ins,-1);h;){let m=Math.min(s.len,h);s.ins>=0&&d<s.i&&s.len<=m&&(vi(r,0,s.ins),o&&Eo(o,r,s.text),d=s.i),s.forward(m),h-=m}a.next()}else if(s.ins>=0){let h=0,m=s.len;for(;m;)if(a.ins==-1){let f=Math.min(m,a.len);h+=f,m-=f,a.forward(f)}else if(a.ins==0&&a.len<m)m-=a.len,a.next();else break;vi(r,h,d<s.i?s.ins:0),o&&d<s.i&&Eo(o,r,s.text),d=s.i,s.forward(s.len-m)}else{if(s.done&&a.done)return o?Ii.createSet(r,o):Kr.create(r);throw new Error("Mismatched change set lengths")}}function hC(n,t,i=!1){let e=[],r=i?[]:null,o=new xs(n),s=new xs(t);for(let a=!1;;){if(o.done&&s.done)return r?Ii.createSet(e,r):Kr.create(e);if(o.ins==0)vi(e,o.len,0,a),o.next();else if(s.len==0&&!s.done)vi(e,0,s.ins,a),r&&Eo(r,e,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let d=Math.min(o.len2,s.len),h=e.length;if(o.ins==-1){let m=s.ins==-1?-1:s.off?0:s.ins;vi(e,d,m,a),r&&m&&Eo(r,e,s.text)}else s.ins==-1?(vi(e,o.off?0:o.len,d,a),r&&Eo(r,e,o.textBit(d))):(vi(e,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&Eo(r,e,s.text));a=(o.ins>d||s.ins>=0&&s.len>d)&&(a||e.length>h),o.forward2(d),s.forward(d)}}}}var xs=class{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length?Xt.empty:t[i]}textBit(t){let{inserted:i}=this.set,e=this.i-2>>1;return e>=i.length&&!t?Xt.empty:i[e].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}},Ea=class n{constructor(t,i,e){this.from=t,this.to=i,this.flags=e}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,i=-1){let e,r;return this.empty?e=r=t.mapPos(this.from,i):(e=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),e==this.from&&r==this.to?this:new n(e,r,this.flags)}extend(t,i=t){if(t<=this.anchor&&i>=this.anchor)return N.range(t,i);let e=Math.abs(t-this.anchor)>Math.abs(i-this.anchor)?t:i;return N.range(this.anchor,e)}eq(t,i=!1){return this.anchor==t.anchor&&this.head==t.head&&(!i||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(t.anchor,t.head)}static create(t,i,e){return new n(t,i,e)}},N=class n{constructor(t,i){this.ranges=t,this.mainIndex=i}map(t,i=-1){return t.empty?this:n.create(this.ranges.map(e=>e.map(t,i)),this.mainIndex)}eq(t,i=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new n([this.main],0)}addRange(t,i=!0){return n.create([t].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(t,i=this.mainIndex){let e=this.ranges.slice();return e[i]=t,n.create(e,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new n(t.ranges.map(i=>Ea.fromJSON(i)),t.main)}static single(t,i=t){return new n([n.range(t,i)],0)}static create(t,i=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let e=0,r=0;r<t.length;r++){let o=t[r];if(o.empty?o.from<=e:o.from<e)return n.normalized(t.slice(),i);e=o.to}return new n(t,i)}static cursor(t,i=0,e,r){return Ea.create(t,t,(i==0?0:i<0?8:16)|(e==null?7:Math.min(6,e))|(r??16777215)<<6)}static range(t,i,e,r){let o=(e??16777215)<<6|(r==null?7:Math.min(6,r));return i<t?Ea.create(i,t,48|o):Ea.create(t,i,(i>t?8:0)|o)}static normalized(t,i=0){let e=t[i];t.sort((r,o)=>r.from-o.from),i=t.indexOf(e);for(let r=1;r<t.length;r++){let o=t[r],s=t[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,d=Math.max(o.to,s.to);r<=i&&i--,t.splice(--r,2,o.anchor>o.head?n.range(d,a):n.range(a,d))}}return new n(t,i)}};function uC(n,t){for(let i of n.ranges)if(i.to>t)throw new RangeError("Selection points outside of document")}var Yb=0,Q=class n{constructor(t,i,e,r,o){this.combine=t,this.compareInput=i,this.compare=e,this.isStatic=r,this.id=Yb++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new n(t.combine||(i=>i),t.compareInput||((i,e)=>i===e),t.compare||(t.combine?(i,e)=>i===e:qb),!!t.static,t.enables)}of(t){return new Ta([],this,0,t)}compute(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ta(t,this,1,i)}computeN(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ta(t,this,2,i)}from(t,i){return i||(i=e=>e),this.compute([t],e=>i(e.field(t)))}};function qb(n,t){return n==t||n.length==t.length&&n.every((i,e)=>i===t[e])}var Ta=class{constructor(t,i,e,r){this.dependencies=t,this.facet=i,this.type=e,this.value=r,this.id=Yb++}dynamicSlot(t){var i;let e=this.value,r=this.facet.compareInput,o=this.id,s=t[o]>>1,a=this.type==2,d=!1,h=!1,m=[];for(let f of this.dependencies)f=="doc"?d=!0:f=="selection"?h=!0:((i=t[f.id])!==null&&i!==void 0?i:1)&1||m.push(t[f.id]);return{create(f){return f.values[s]=e(f),1},update(f,g){if(d&&g.docChanged||h&&(g.docChanged||g.selection)||Vb(f,m)){let _=e(f);if(a?!eC(_,f.values[s],r):!r(_,f.values[s]))return f.values[s]=_,1}return 0},reconfigure:(f,g)=>{let _,y=g.config.address[o];if(y!=null){let k=Mu(g,y);if(this.dependencies.every(S=>S instanceof Q?g.facet(S)===f.facet(S):S instanceof Fe?g.field(S,!1)==f.field(S,!1):!0)||(a?eC(_=e(f),k,r):r(_=e(f),k)))return f.values[s]=k,0}else _=e(f);return f.values[s]=_,1}}}};function eC(n,t,i){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!i(n[e],t[e]))return!1;return!0}function Vb(n,t){let i=!1;for(let e of t)Cc(n,e)&1&&(i=!0);return i}function U4(n,t,i){let e=i.map(d=>n[d.id]),r=i.map(d=>d.type),o=e.filter(d=>!(d&1)),s=n[t.id]>>1;function a(d){let h=[];for(let m=0;m<e.length;m++){let f=Mu(d,e[m]);if(r[m]==2)for(let g of f)h.push(g);else h.push(f)}return t.combine(h)}return{create(d){for(let h of e)Cc(d,h);return d.values[s]=a(d),1},update(d,h){if(!Vb(d,o))return 0;let m=a(d);return t.compare(m,d.values[s])?0:(d.values[s]=m,1)},reconfigure(d,h){let m=Vb(d,e),f=h.config.facets[t.id],g=h.facet(t);if(f&&!m&&qb(i,f))return d.values[s]=g,0;let _=a(d);return t.compare(_,g)?(d.values[s]=g,0):(d.values[s]=_,1)}}}var iC=Q.define({static:!0}),Fe=class n{constructor(t,i,e,r,o){this.id=t,this.createF=i,this.updateF=e,this.compareF=r,this.spec=o,this.provides=void 0}static define(t){let i=new n(Yb++,t.create,t.update,t.compare||((e,r)=>e===r),t);return t.provide&&(i.provides=t.provide(i)),i}create(t){let i=t.facet(iC).find(e=>e.field==this);return(i?.create||this.createF)(t)}slot(t){let i=t[this.id]>>1;return{create:e=>(e.values[i]=this.create(e),1),update:(e,r)=>{let o=e.values[i],s=this.updateF(o,r);return this.compareF(o,s)?0:(e.values[i]=s,1)},reconfigure:(e,r)=>r.config.address[this.id]!=null?(e.values[i]=r.field(this),0):(e.values[i]=this.create(e),1)}}init(t){return[this,iC.of({field:this,create:t})]}get extension(){return this}},_s={lowest:4,low:3,default:2,high:1,highest:0};function kc(n){return t=>new Su(t,n)}var tr={highest:kc(_s.highest),high:kc(_s.high),default:kc(_s.default),low:kc(_s.low),lowest:kc(_s.lowest)},Su=class{constructor(t,i){this.inner=t,this.prec=i}},Au=class n{of(t){return new Dc(this,t)}reconfigure(t){return n.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},Dc=class{constructor(t,i){this.compartment=t,this.inner=i}},Eu=class n{constructor(t,i,e,r,o,s){for(this.base=t,this.compartments=i,this.dynamicSlots=e,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<e.length;)this.statusTemplate.push(0)}staticFacet(t){let i=this.address[t.id];return i==null?t.default:this.staticValues[i>>1]}static resolve(t,i,e){let r=[],o=Object.create(null),s=new Map;for(let g of W4(t,i,s))g instanceof Fe?r.push(g):(o[g.facet.id]||(o[g.facet.id]=[])).push(g);let a=Object.create(null),d=[],h=[];for(let g of r)a[g.id]=h.length<<1,h.push(_=>g.slot(_));let m=e?.config.facets;for(let g in o){let _=o[g],y=_[0].facet,k=m&&m[g]||[];if(_.every(S=>S.type==0))if(a[y.id]=d.length<<1|1,qb(k,_))d.push(e.facet(y));else{let S=y.combine(_.map(M=>M.value));d.push(e&&y.compare(S,e.facet(y))?e.facet(y):S)}else{for(let S of _)S.type==0?(a[S.id]=d.length<<1|1,d.push(S.value)):(a[S.id]=h.length<<1,h.push(M=>S.dynamicSlot(M)));a[y.id]=h.length<<1,h.push(S=>U4(S,y,_))}}let f=h.map(g=>g(a));return new n(t,s,f,a,d,o)}};function W4(n,t,i){let e=[[],[],[],[],[]],r=new Map;function o(s,a){let d=r.get(s);if(d!=null){if(d<=a)return;let h=e[d].indexOf(s);h>-1&&e[d].splice(h,1),s instanceof Dc&&i.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let h of s)o(h,a);else if(s instanceof Dc){if(i.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=t.get(s.compartment)||s.inner;i.set(s.compartment,h),o(h,a)}else if(s instanceof Su)o(s.inner,s.prec);else if(s instanceof Fe)e[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Ta)e[a].push(s),s.facet.extensions&&o(s.facet.extensions,_s.default);else{let h=s.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(h,a)}}return o(n,_s.default),e.reduce((s,a)=>s.concat(a))}function Cc(n,t){if(t&1)return 2;let i=t>>1,e=n.status[i];if(e==4)throw new Error("Cyclic dependency between fields and/or facets");if(e&2)return e;n.status[i]=4;let r=n.computeSlot(n,n.config.dynamicSlots[i]);return n.status[i]=2|r}function Mu(n,t){return t&1?n.config.staticValues[t>>1]:n.values[t>>1]}var nC=Q.define(),Rb=Q.define({combine:n=>n.some(t=>t),static:!0}),mC=Q.define({combine:n=>n.length?n[0]:void 0,static:!0}),fC=Q.define(),pC=Q.define(),gC=Q.define(),rC=Q.define({combine:n=>n.length?n[0]:!1}),Hi=class{constructor(t,i){this.type=t,this.value=i}static define(){return new Bb}},Bb=class{of(t){return new Hi(this,t)}},zb=class{constructor(t){this.map=t}of(t){return new zt(this,t)}},zt=(()=>{class n{constructor(i,e){this.type=i,this.value=e}map(i){let e=this.type.map(this.value,i);return e===void 0?void 0:e==this.value?this:new n(this.type,e)}is(i){return this.type==i}static define(i={}){return new zb(i.map||(e=>e))}static mapEffects(i,e){if(!i.length)return i;let r=[];for(let o of i){let s=o.map(e);s&&r.push(s)}return r}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),ln=(()=>{class n{constructor(i,e,r,o,s,a){this.startState=i,this.changes=e,this.selection=r,this.effects=o,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&uC(r,e.newLength),s.some(d=>d.type==n.time)||(this.annotations=s.concat(n.time.of(Date.now())))}static create(i,e,r,o,s,a){return new n(i,e,r,o,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(i){for(let e of this.annotations)if(e.type==i)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(i){let e=this.annotation(n.userEvent);return!!(e&&(e==i||e.length>i.length&&e.slice(0,i.length)==i&&e[i.length]=="."))}}return n.time=Hi.define(),n.userEvent=Hi.define(),n.addToHistory=Hi.define(),n.remote=Hi.define(),n})();function $4(n,t){let i=[];for(let e=0,r=0;;){let o,s;if(e<n.length&&(r==t.length||t[r]>=n[e]))o=n[e++],s=n[e++];else if(r<t.length)o=t[r++],s=t[r++];else return i;!i.length||i[i.length-1]<o?i.push(o,s):i[i.length-1]<s&&(i[i.length-1]=s)}}function bC(n,t,i){var e;let r,o,s;return i?(r=t.changes,o=Ii.empty(t.changes.length),s=n.changes.compose(t.changes)):(r=t.changes.map(n.changes),o=n.changes.mapDesc(t.changes,!0),s=n.changes.compose(r)),{changes:s,selection:t.selection?t.selection.map(o):(e=n.selection)===null||e===void 0?void 0:e.map(r),effects:zt.mapEffects(n.effects,r).concat(zt.mapEffects(t.effects,o)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function jb(n,t,i){let e=t.selection,r=Ra(t.annotations);return t.userEvent&&(r=r.concat(ln.userEvent.of(t.userEvent))),{changes:t.changes instanceof Ii?t.changes:Ii.of(t.changes||[],i,n.facet(mC)),selection:e&&(e instanceof N?e:N.single(e.anchor,e.head)),effects:Ra(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function _C(n,t,i){let e=jb(n,t.length?t[0]:{},n.doc.length);t.length&&t[0].filter===!1&&(i=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(i=!1);let s=!!t[o].sequential;e=bC(e,jb(n,t[o],s?e.changes.newLength:n.doc.length),s)}let r=ln.create(n,e.changes,e.selection,e.effects,e.annotations,e.scrollIntoView);return q4(i?Y4(r):r)}function Y4(n){let t=n.startState,i=!0;for(let r of t.facet(fC)){let o=r(n);if(o===!1){i=!1;break}Array.isArray(o)&&(i=i===!0?o:$4(i,o))}if(i!==!0){let r,o;if(i===!1)o=n.changes.invertedDesc,r=Ii.empty(t.doc.length);else{let s=n.changes.filter(i);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=ln.create(t,r,n.selection&&n.selection.map(o),zt.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let e=t.facet(pC);for(let r=e.length-1;r>=0;r--){let o=e[r](n);o instanceof ln?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof ln?n=o[0]:n=_C(t,Ra(o),!1)}return n}function q4(n){let t=n.startState,i=t.facet(gC),e=n;for(let r=i.length-1;r>=0;r--){let o=i[r](n);o&&Object.keys(o).length&&(e=bC(e,jb(t,o,n.changes.newLength),!0))}return e==n?n:ln.create(t,n.changes,n.selection,e.effects,e.annotations,e.scrollIntoView)}var G4=[];function Ra(n){return n==null?G4:Array.isArray(n)?n:[n]}var ue=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ue||(ue={})),K4=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Hb;try{Hb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function X4(n){if(Hb)return Hb.test(n);for(let t=0;t<n.length;t++){let i=n[t];if(/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||K4.test(i)))return!0}return!1}function Z4(n){return t=>{if(!/\S/.test(t))return ue.Space;if(X4(t))return ue.Word;for(let i=0;i<n.length;i++)if(t.indexOf(n[i])>-1)return ue.Word;return ue.Other}}var oi=(()=>{class n{constructor(i,e,r,o,s,a){this.config=i,this.doc=e,this.selection=r,this.values=o,this.status=i.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let d=0;d<this.config.dynamicSlots.length;d++)Cc(this,d<<1);this.computeSlot=null}field(i,e=!0){let r=this.config.address[i.id];if(r==null){if(e)throw new RangeError("Field is not present in this state");return}return Cc(this,r),Mu(this,r)}update(...i){return _C(this,i,!0)}applyTransaction(i){let e=this.config,{base:r,compartments:o}=e;for(let d of i.effects)d.is(Au.reconfigure)?(e&&(o=new Map,e.compartments.forEach((h,m)=>o.set(m,h)),e=null),o.set(d.value.compartment,d.value.extension)):d.is(zt.reconfigure)?(e=null,r=d.value):d.is(zt.appendConfig)&&(e=null,r=Ra(r).concat(d.value));let s;e?s=i.startState.values.slice():(e=Eu.resolve(r,o,this),s=new n(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(h,m)=>m.reconfigure(h,this),null).values);let a=i.startState.facet(Rb)?i.newSelection:i.newSelection.asSingle();new n(e,i.newDoc,a,s,(d,h)=>h.update(d,i),i)}replaceSelection(i){return typeof i=="string"&&(i=this.toText(i)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:i},range:N.cursor(e.from+i.length)}))}changeByRange(i){let e=this.selection,r=i(e.ranges[0]),o=this.changes(r.changes),s=[r.range],a=Ra(r.effects);for(let d=1;d<e.ranges.length;d++){let h=i(e.ranges[d]),m=this.changes(h.changes),f=m.map(o);for(let _=0;_<d;_++)s[_]=s[_].map(f);let g=o.mapDesc(m,!0);s.push(h.range.map(g)),o=o.compose(f),a=zt.mapEffects(a,f).concat(zt.mapEffects(Ra(h.effects),g))}return{changes:o,selection:N.create(s,e.mainIndex),effects:a}}changes(i=[]){return i instanceof Ii?i:Ii.of(i,this.doc.length,this.facet(n.lineSeparator))}toText(i){return Xt.of(i.split(this.facet(n.lineSeparator)||Pb))}sliceDoc(i=0,e=this.doc.length){return this.doc.sliceString(i,e,this.lineBreak)}facet(i){let e=this.config.address[i.id];return e==null?i.default:(Cc(this,e),Mu(this,e))}toJSON(i){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(i)for(let r in i){let o=i[r];o instanceof Fe&&this.config.address[o.id]!=null&&(e[r]=o.spec.toJSON(this.field(i[r]),this))}return e}static fromJSON(i,e={},r){if(!i||typeof i.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(i,s)){let a=r[s],d=i[s];o.push(a.init(h=>a.spec.fromJSON(d,h)))}}return n.create({doc:i.doc,selection:N.fromJSON(i.selection),extensions:e.extensions?o.concat([e.extensions]):o})}static create(i={}){let e=Eu.resolve(i.extensions||[],new Map),r=i.doc instanceof Xt?i.doc:Xt.of((i.doc||"").split(e.staticFacet(n.lineSeparator)||Pb)),o=i.selection?i.selection instanceof N?i.selection:N.single(i.selection.anchor,i.selection.head):N.single(0);return uC(o,r.length),e.staticFacet(Rb)||(o=o.asSingle()),new n(e,r,o,e.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||`
`}get readOnly(){return this.facet(rC)}phrase(i,...e){for(let r of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(r,i)){i=r[i];break}return e.length&&(i=i.replace(/\$(\$|\d*)/g,(r,o)=>{if(o=="$")return"$";let s=+(o||1);return!s||s>e.length?r:e[s-1]})),i}languageDataAt(i,e,r=-1){let o=[];for(let s of this.facet(nC))for(let a of s(this,e,r))Object.prototype.hasOwnProperty.call(a,i)&&o.push(a[i]);return o}charCategorizer(i){return Z4(this.languageDataAt("wordChars",i).join(""))}wordAt(i){let{text:e,from:r,length:o}=this.doc.lineAt(i),s=this.charCategorizer(i),a=i-r,d=i-r;for(;a>0;){let h=Ye(e,a,!1);if(s(e.slice(h,a))!=ue.Word)break;a=h}for(;d<o;){let h=Ye(e,d);if(s(e.slice(d,h))!=ue.Word)break;d=h}return a==d?null:N.range(a+r,d+r)}}return n.allowMultipleSelections=Rb,n.tabSize=Q.define({combine:t=>t.length?t[0]:4}),n.lineSeparator=mC,n.readOnly=rC,n.phrases=Q.define({compare(t,i){let e=Object.keys(t),r=Object.keys(i);return e.length==r.length&&e.every(o=>t[o]==i[o])}}),n.languageData=nC,n.changeFilter=fC,n.transactionFilter=pC,n.transactionExtender=gC,n})();Au.reconfigure=zt.define();function yi(n,t,i={}){let e={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],a=e[o];if(a===void 0)e[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(i,o))e[o]=i[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}var Qn=class{eq(t){return this==t}range(t,i=t){return Sc.create(t,i,this)}};Qn.prototype.startSide=Qn.prototype.endSide=0;Qn.prototype.point=!1;Qn.prototype.mapMode=hi.TrackDel;var Sc=class n{constructor(t,i,e){this.from=t,this.to=i,this.value=e}static create(t,i,e){return new n(t,i,e)}};function Ub(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}var Wb=class n{constructor(t,i,e,r){this.from=t,this.to=i,this.value=e,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,i,e,r=0){let o=e?this.to:this.from;for(let s=r,a=o.length;;){if(s==a)return s;let d=s+a>>1,h=o[d]-t||(e?this.value[d].endSide:this.value[d].startSide)-i;if(d==s)return h>=0?s:a;h>=0?a=d:s=d+1}}between(t,i,e,r){for(let o=this.findIndex(i,-1e9,!0),s=this.findIndex(e,1e9,!1,o);o<s;o++)if(r(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,i){let e=[],r=[],o=[],s=-1,a=-1;for(let d=0;d<this.value.length;d++){let h=this.value[d],m=this.from[d]+t,f=this.to[d]+t,g,_;if(m==f){let y=i.mapPos(m,h.startSide,h.mapMode);if(y==null||(g=_=y,h.startSide!=h.endSide&&(_=i.mapPos(m,h.endSide),_<g)))continue}else if(g=i.mapPos(m,h.startSide),_=i.mapPos(f,h.endSide),g>_||g==_&&h.startSide>0&&h.endSide<=0)continue;(_-g||h.endSide-h.startSide)<0||(s<0&&(s=g),h.point&&(a=Math.max(a,_-g)),e.push(h),r.push(g-s),o.push(_-s))}return{mapped:e.length?new n(r,o,e,a):null,pos:s}}},we=(()=>{class n{constructor(i,e,r,o){this.chunkPos=i,this.chunk=e,this.nextLayer=r,this.maxPoint=o}static create(i,e,r,o){return new n(i,e,r,o)}get length(){let i=this.chunk.length-1;return i<0?0:Math.max(this.chunkEnd(i),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let i=this.nextLayer.size;for(let e of this.chunk)i+=e.value.length;return i}chunkEnd(i){return this.chunkPos[i]+this.chunk[i].length}update(i){let{add:e=[],sort:r=!1,filterFrom:o=0,filterTo:s=this.length}=i,a=i.filter;if(e.length==0&&!a)return this;if(r&&(e=e.slice().sort(Ub)),this.isEmpty)return e.length?n.of(e):this;let d=new Iu(this,null,-1).goto(0),h=0,m=[],f=new Jn;for(;d.value||h<e.length;)if(h<e.length&&(d.from-e[h].from||d.startSide-e[h].value.startSide)>=0){let g=e[h++];f.addInner(g.from,g.to,g.value)||m.push(g)}else d.rangeIndex==1&&d.chunkIndex<this.chunk.length&&(h==e.length||this.chunkEnd(d.chunkIndex)<e[h].from)&&(!a||o>this.chunkEnd(d.chunkIndex)||s<this.chunkPos[d.chunkIndex])&&f.addChunk(this.chunkPos[d.chunkIndex],this.chunk[d.chunkIndex])?d.nextChunk():((!a||o>d.to||s<d.from||a(d.from,d.to,d.value))&&(f.addInner(d.from,d.to,d.value)||m.push(Sc.create(d.from,d.to,d.value))),d.next());return f.finishInner(this.nextLayer.isEmpty&&!m.length?n.empty:this.nextLayer.update({add:m,filter:a,filterFrom:o,filterTo:s}))}map(i){if(i.empty||this.isEmpty)return this;let e=[],r=[],o=-1;for(let a=0;a<this.chunk.length;a++){let d=this.chunkPos[a],h=this.chunk[a],m=i.touchesRange(d,d+h.length);if(m===!1)o=Math.max(o,h.maxPoint),e.push(h),r.push(i.mapPos(d));else if(m===!0){let{mapped:f,pos:g}=h.map(d,i);f&&(o=Math.max(o,f.maxPoint),e.push(f),r.push(g))}}let s=this.nextLayer.map(i);return e.length==0?s:new n(r,e,s||n.empty,o)}between(i,e,r){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],a=this.chunk[o];if(e>=s&&i<=s+a.length&&a.between(s,i-s,e-s,r)===!1)return}this.nextLayer.between(i,e,r)}}iter(i=0){return Ac.from([this]).goto(i)}get isEmpty(){return this.nextLayer==this}static iter(i,e=0){return Ac.from(i).goto(e)}static compare(i,e,r,o,s=-1){let a=i.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=s),d=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=s),h=oC(a,d,r),m=new vs(a,h,s),f=new vs(d,h,s);r.iterGaps((g,_,y)=>sC(m,g,f,_,y,o)),r.empty&&r.length==0&&sC(m,0,f,0,0,o)}static eq(i,e,r=0,o){o==null&&(o=999999999);let s=i.filter(f=>!f.isEmpty&&e.indexOf(f)<0),a=e.filter(f=>!f.isEmpty&&i.indexOf(f)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let d=oC(s,a),h=new vs(s,d,0).goto(r),m=new vs(a,d,0).goto(r);for(;;){if(h.to!=m.to||!$b(h.active,m.active)||h.point&&(!m.point||!h.point.eq(m.point)))return!1;if(h.to>o)return!0;h.next(),m.next()}}static spans(i,e,r,o,s=-1){let a=new vs(i,null,s).goto(e),d=e,h=a.openStart;for(;;){let m=Math.min(a.to,r);if(a.point){let f=a.activeForPoint(a.to),g=a.pointFrom<e?f.length+1:a.point.startSide<0?f.length:Math.min(f.length,h);o.point(d,m,a.point,f,g,a.pointRank),h=Math.min(a.openEnd(m),f.length)}else m>d&&(o.span(d,m,a.active,h),h=a.openEnd(m));if(a.to>r)return h+(a.point&&a.to>r?1:0);d=a.to,a.next()}}static of(i,e=!1){let r=new Jn;for(let o of i instanceof Sc?[i]:e?Q4(i):i)r.add(o.from,o.to,o.value);return r.finish()}static join(i){if(!i.length)return n.empty;let e=i[i.length-1];for(let r=i.length-2;r>=0;r--)for(let o=i[r];o!=n.empty;o=o.nextLayer)e=new n(o.chunkPos,o.chunk,e,Math.max(o.maxPoint,e.maxPoint));return e}}return n.empty=new n([],[],null,-1),n})();function Q4(n){if(n.length>1)for(let t=n[0],i=1;i<n.length;i++){let e=n[i];if(Ub(t,e)>0)return n.slice().sort(Ub);t=e}return n}we.empty.nextLayer=we.empty;var Jn=class n{finishChunk(t){this.chunks.push(new Wb(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,i,e){this.addInner(t,i,e)||(this.nextLayer||(this.nextLayer=new n)).add(t,i,e)}addInner(t,i,e){let r=t-this.lastTo||e.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||e.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(i-this.chunkStart),this.last=e,this.lastFrom=t,this.lastTo=i,this.value.push(e),e.point&&(this.maxPoint=Math.max(this.maxPoint,i-t)),!0)}addChunk(t,i){if((t-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(t);let e=i.value.length-1;return this.last=i.value[e],this.lastFrom=i.from[e]+t,this.lastTo=i.to[e]+t,!0}finish(){return this.finishInner(we.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let i=we.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,i}};function oC(n,t,i){let e=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&e.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let a=e.get(o.chunk[s]);a!=null&&(i?i.mapPos(a):a)==o.chunkPos[s]&&!i?.touchesRange(a,a+o.chunk[s].length)&&r.add(o.chunk[s])}return r}var Iu=class{constructor(t,i,e,r=0){this.layer=t,this.skip=i,this.minPoint=e,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,i,!1),this}gotoInner(t,i,e){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,e=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],i,!0);(!e||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,i){(this.to-t||this.endSide-i)<0&&this.gotoInner(t,i,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex],e=t+i.from[this.rangeIndex];if(this.from=e,this.to=t+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},Ac=class n{constructor(t){this.heap=t}static from(t,i=null,e=-1){let r=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=e&&r.push(new Iu(s,i,e,o));return r.length==1?r[0]:new n(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,i=-1e9){for(let e of this.heap)e.goto(t,i);for(let e=this.heap.length>>1;e>=0;e--)Ob(this.heap,e);return this.next(),this}forward(t,i){for(let e of this.heap)e.forward(t,i);for(let e=this.heap.length>>1;e>=0;e--)Ob(this.heap,e);(this.to-t||this.value.endSide-i)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Ob(this.heap,0)}}};function Ob(n,t){for(let i=n[t];;){let e=(t<<1)+1;if(e>=n.length)break;let r=n[e];if(e+1<n.length&&r.compare(n[e+1])>=0&&(r=n[e+1],e++),i.compare(r)<0)break;n[e]=i,n[t]=r,t=e}}var vs=class{constructor(t,i,e){this.minPoint=e,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ac.from(t,i,e)}goto(t,i=-1e9){return this.cursor.goto(t,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=i,this.openStart=-1,this.next(),this}forward(t,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(t,i)}removeActive(t){xu(this.active,t),xu(this.activeTo,t),xu(this.activeRank,t),this.minActive=aC(this.active,this.activeTo)}addActive(t){let i=0,{value:e,to:r,rank:o}=this.cursor;for(;i<this.activeRank.length&&(o-this.activeRank[i]||r-this.activeTo[i])>0;)i++;wu(this.active,i,e),wu(this.activeTo,i,r),wu(this.activeRank,i,o),t&&wu(t,i,this.cursor.from),this.minActive=aC(this.active,this.activeTo)}next(){let t=this.to,i=this.point;this.point=null;let e=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),e&&xu(e,r)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(e),this.cursor.next();else if(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(e){this.openStart=0;for(let r=e.length-1;r>=0&&e[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let i=[];for(let e=this.active.length-1;e>=0&&!(this.activeRank[e]<this.pointRank);e--)(this.activeTo[e]>t||this.activeTo[e]==t&&this.active[e].endSide>=this.point.endSide)&&i.push(this.active[e]);return i.reverse()}openEnd(t){let i=0;for(let e=this.activeTo.length-1;e>=0&&this.activeTo[e]>t;e--)i++;return i}};function sC(n,t,i,e,r,o){n.goto(t),i.goto(e);let s=e+r,a=e,d=e-t;for(;;){let h=n.to+d-i.to||n.endSide-i.endSide,m=h<0?n.to+d:i.to,f=Math.min(m,s);if(n.point||i.point?n.point&&i.point&&(n.point==i.point||n.point.eq(i.point))&&$b(n.activeForPoint(n.to),i.activeForPoint(i.to))||o.comparePoint(a,f,n.point,i.point):f>a&&!$b(n.active,i.active)&&o.compareRange(a,f,n.active,i.active),m>s)break;a=m,h<=0&&n.next(),h>=0&&i.next()}}function $b(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!=t[i]&&!n[i].eq(t[i]))return!1;return!0}function xu(n,t){for(let i=t,e=n.length-1;i<e;i++)n[i]=n[i+1];n.pop()}function wu(n,t,i){for(let e=n.length-1;e>=t;e--)n[e+1]=n[e];n[t]=i}function aC(n,t){let i=-1,e=1e9;for(let r=0;r<t.length;r++)(t[r]-e||n[r].endSide-n[i].endSide)<0&&(i=r,e=t[r]);return i}function Xr(n,t,i=n.length){let e=0;for(let r=0;r<i;)n.charCodeAt(r)==9?(e+=t-e%t,r++):(e++,r=Ye(n,r));return e}function Tu(n,t,i,e){for(let r=0,o=0;;){if(o>=t)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?i-o%i:1,r=Ye(n,r)}return e===!0?-1:n.length}var Gb="\u037C",vC=typeof Symbol>"u"?"__"+Gb:Symbol.for(Gb),Kb=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),yC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},On=class{constructor(t,i){this.rules=[];let{finish:e}=i||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,d,h){let m=[],f=/^@(\w+)\b/.exec(s[0]),g=f&&f[1]=="keyframes";if(f&&a==null)return d.push(s[0]+";");for(let _ in a){let y=a[_];if(/&/.test(_))o(_.split(/,\s*/).map(k=>s.map(S=>k.replace(/&/,S))).reduce((k,S)=>k.concat(S)),y,d);else if(y&&typeof y=="object"){if(!f)throw new RangeError("The value of a property ("+_+") should be a primitive value.");o(r(_),y,m,g)}else y!=null&&m.push(_.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+y+";")}(m.length||g)&&d.push((e&&!f&&!h?s.map(e):s).join(", ")+" {"+m.join(" ")+"}")}for(let s in t)o(r(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=yC[vC]||1;return yC[vC]=t+1,Gb+t.toString(36)}static mount(t,i,e){let r=t[Kb],o=e&&e.nonce;r?o&&r.setNonce(o):r=new Xb(t,o),r.mount(Array.isArray(i)?i:[i],t)}},xC=new Map,Xb=class{constructor(t,i){let e=t.ownerDocument||t,r=e.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let o=xC.get(e);if(o)return t[Kb]=o;this.sheet=new r.CSSStyleSheet,xC.set(e,this)}else this.styleTag=e.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);this.modules=[],t[Kb]=this}mount(t,i){let e=this.sheet,r=0,o=0;for(let s=0;s<t.length;s++){let a=t[s],d=this.modules.indexOf(a);if(d<o&&d>-1&&(this.modules.splice(d,1),o--,d=-1),d==-1){if(this.modules.splice(o++,0,a),e)for(let h=0;h<a.rules.length;h++)e.insertRule(a.rules[h],r++)}else{for(;o<d;)r+=this.modules[o++].rules.length;r+=a.rules.length,o++}}if(e)i.adoptedStyleSheets.indexOf(this.sheet)<0&&(i.adoptedStyleSheets=[this.sheet,...i.adoptedStyleSheets]);else{let s="";for(let d=0;d<this.modules.length;d++)s+=this.modules[d].getRules()+`
`;this.styleTag.textContent=s;let a=i.head||i;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}};var Zr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},J4=typeof navigator<"u"&&/Mac/.test(navigator.platform),t3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(qe=0;qe<10;qe++)Zr[48+qe]=Zr[96+qe]=String(qe);var qe;for(qe=1;qe<=24;qe++)Zr[qe+111]="F"+qe;var qe;for(qe=65;qe<=90;qe++)Zr[qe]=String.fromCharCode(qe+32),Fa[qe]=String.fromCharCode(qe);var qe;for(Ru in Zr)Fa.hasOwnProperty(Ru)||(Fa[Ru]=Zr[Ru]);var Ru;function wC(n){var t=J4&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||t3&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",i=!t&&n.key||(n.shiftKey?Fa:Zr)[n.keyCode]||n.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}function Gu(n){let t;return n.nodeType==11?t=n.getSelection?n:n.ownerDocument:t=n,t.getSelection()}function s0(n,t){return t?n==t||n.contains(t.nodeType!=1?t.parentNode:t):!1}function e3(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Hu(n,t){if(!t.anchorNode)return!1;try{return s0(n,t.anchorNode)}catch{return!1}}function ja(n){return n.nodeType==3?ks(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Pc(n,t,i,e){return i?kC(n,t,i,e,-1)||kC(n,t,i,e,1):!1}function ws(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t}function Ku(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function kC(n,t,i,e,r){for(;;){if(n==i&&t==e)return!0;if(t==(r<0?0:Qr(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;t=ws(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[t+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;t=r<0?Qr(n):0}else return!1}}function Qr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function dm(n,t){let i=t?n.left:n.right;return{left:i,right:i,top:n.top,bottom:n.bottom}}function i3(n){let t=n.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function uD(n,t){let i=t.width/n.offsetWidth,e=t.height/n.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(t.width-n.offsetWidth)<1)&&(i=1),(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.height-n.offsetHeight)<1)&&(e=1),{scaleX:i,scaleY:e}}function n3(n,t,i,e,r,o,s,a){let d=n.ownerDocument,h=d.defaultView||window;for(let m=n,f=!1;m&&!f;)if(m.nodeType==1){let g,_=m==d.body,y=1,k=1;if(_)g=i3(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(f=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let B=m.getBoundingClientRect();({scaleX:y,scaleY:k}=uD(m,B)),g={left:B.left,right:B.left+m.clientWidth*y,top:B.top,bottom:B.top+m.clientHeight*k}}let S=0,M=0;if(r=="nearest")t.top<g.top?(M=-(g.top-t.top+s),i>0&&t.bottom>g.bottom+M&&(M=t.bottom-g.bottom+M+s)):t.bottom>g.bottom&&(M=t.bottom-g.bottom+s,i<0&&t.top-M<g.top&&(M=-(g.top+M-t.top+s)));else{let B=t.bottom-t.top,U=g.bottom-g.top;M=(r=="center"&&B<=U?t.top+B/2-U/2:r=="start"||r=="center"&&i<0?t.top-s:t.bottom-U+s)-g.top}if(e=="nearest"?t.left<g.left?(S=-(g.left-t.left+o),i>0&&t.right>g.right+S&&(S=t.right-g.right+S+o)):t.right>g.right&&(S=t.right-g.right+o,i<0&&t.left<g.left+S&&(S=-(g.left+S-t.left+o))):S=(e=="center"?t.left+(t.right-t.left)/2-(g.right-g.left)/2:e=="start"==a?t.left-o:t.right-(g.right-g.left)+o)-g.left,S||M)if(_)h.scrollBy(S,M);else{let B=0,U=0;if(M){let W=m.scrollTop;m.scrollTop+=M/k,U=(m.scrollTop-W)*k}if(S){let W=m.scrollLeft;m.scrollLeft+=S/y,B=(m.scrollLeft-W)*y}t={left:t.left-B,top:t.top-U,right:t.right-B,bottom:t.bottom-U},B&&Math.abs(B-S)<1&&(e="nearest"),U&&Math.abs(U-M)<1&&(r="nearest")}if(_)break;m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function r3(n){let t=n.ownerDocument;for(let i=n.parentNode;i&&i!=t.body;)if(i.nodeType==1){if(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)return i;i=i.assignedSlot||i.parentNode}else if(i.nodeType==11)i=i.host;else break;return null}var a0=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:i,focusNode:e}=t;this.set(i,Math.min(t.anchorOffset,i?Qr(i):0),e,Math.min(t.focusOffset,e?Qr(e):0))}set(t,i,e,r){this.anchorNode=t,this.anchorOffset=i,this.focusNode=e,this.focusOffset=r}},Pa=null;function mD(n){if(n.setActive)return n.setActive();if(Pa)return n.focus(Pa);let t=[];for(let i=n;i&&(t.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(n.focus(Pa==null?{get preventScroll(){return Pa={preventScroll:!0},!0}}:void 0),!Pa){Pa=!1;for(let i=0;i<t.length;){let e=t[i++],r=t[i++],o=t[i++];e.scrollTop!=r&&(e.scrollTop=r),e.scrollLeft!=o&&(e.scrollLeft=o)}}}var CC;function ks(n,t,i=t){let e=CC||(CC=document.createRange());return e.setEnd(n,i),e.setStart(n,t),e}function Ba(n,t,i,e){let r={key:t,code:t,keyCode:i,which:i,cancelable:!0};e&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=e);let o=new KeyboardEvent("keydown",r);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function o3(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function fD(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function s3(n,t){let i=t.focusNode,e=t.focusOffset;if(!i||t.anchorNode!=i||t.anchorOffset!=e)return!1;for(e=Math.min(e,Qr(i));;)if(e){if(i.nodeType!=1)return!1;let r=i.childNodes[e-1];r.contentEditable=="false"?e--:(i=r,e=Qr(i))}else{if(i==n)return!0;e=ws(i),i=i.parentNode}}function pD(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function gD(n,t){for(let i=n,e=t;;){if(i.nodeType==3&&e>0)return{node:i,offset:e};if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=Qr(i)}else if(i.parentNode&&!Ku(i))e=ws(i),i=i.parentNode;else return null}}function bD(n,t){for(let i=n,e=t;;){if(i.nodeType==3&&e<i.nodeValue.length)return{node:i,offset:e};if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!Ku(i))e=ws(i)+1,i=i.parentNode;else return null}}var Ti=class n{constructor(t,i,e=!0){this.node=t,this.offset=i,this.precise=e}static before(t,i){return new n(t.parentNode,ws(t),i)}static after(t,i){return new n(t.parentNode,ws(t)+1,i)}},q0=[],ke=class n{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let i=this.posAtStart;for(let e of this.children){if(e==t)return i;i+=e.length+e.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,i){if(this.flags&2){let e=this.dom,r=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=r?r.nextSibling:e.firstChild)){let a=n.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,i),s.flags&=-8}if(o=r?r.nextSibling:e.firstChild,i&&!i.written&&i.node==e&&o!=s.dom&&(i.written=!0),s.dom.parentNode==e)for(;o&&o!=s.dom;)o=DC(o);else e.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:e.firstChild,o&&i&&i.node==e&&(i.written=!0);o;)o=DC(o)}else if(this.flags&1)for(let e of this.children)e.flags&7&&(e.sync(t,i),e.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,i){let e;if(t==this.dom)e=this.dom.childNodes[i];else{let r=Qr(t)==0?0:i==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?r=-1:r=1),t=o}r<0?e=t:e=t.nextSibling}if(e==this.dom.firstChild)return 0;for(;e&&!n.get(e);)e=e.nextSibling;if(!e)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==e)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,i,e=0){let r=-1,o=-1,s=-1,a=-1;for(let d=0,h=e,m=e;d<this.children.length;d++){let f=this.children[d],g=h+f.length;if(h<t&&g>i)return f.domBoundsAround(t,i,h);if(g>=t&&r==-1&&(r=d,o=h),h>i&&f.dom.parentNode==this.dom){s=d,a=m;break}m=g,h=g+f.breakAfter}return{from:o,to:a<0?e+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let i=this.parent;i;i=i.parent){if(t&&(i.flags|=2),i.flags&1)return;i.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let i=t.parent;if(!i)return t;t=i}}replaceChildren(t,i,e=q0){this.markDirty();for(let r=t;r<i;r++){let o=this.children[r];o.parent==this&&e.indexOf(o)<0&&o.destroy()}this.children.splice(t,i-t,...e);for(let r=0;r<e.length;r++)e[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Xu(this.children,t,this.children.length)}childPos(t,i=1){return this.childCursor().findPos(t,i)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,i,e,r,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}};ke.prototype.breakAfter=0;function DC(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}var Xu=class{constructor(t,i,e){this.children=t,this.pos=i,this.i=e,this.off=0}findPos(t,i=1){for(;;){if(t>this.pos||t==this.pos&&(i>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let e=this.children[--this.i];this.pos-=e.length+e.breakAfter}}};function _D(n,t,i,e,r,o,s,a,d){let{children:h}=n,m=h.length?h[t]:null,f=o.length?o[o.length-1]:null,g=f?f.breakAfter:s;if(!(t==e&&m&&!s&&!g&&o.length<2&&m.merge(i,r,o.length?f:null,i==0,a,d))){if(e<h.length){let _=h[e];_&&(r<_.length||_.breakAfter&&f?.breakAfter)?(t==e&&(_=_.split(r),r=0),!g&&f&&_.merge(0,r,f,!0,0,d)?o[o.length-1]=_:((r||_.children.length&&!_.children[0].length)&&_.merge(0,r,null,!1,0,d),o.push(_))):_?.breakAfter&&(f?f.breakAfter=1:s=1),e++}for(m&&(m.breakAfter=s,i>0&&(!s&&o.length&&m.merge(i,m.length,o[0],!1,a,0)?m.breakAfter=o.shift().breakAfter:(i<m.length||m.children.length&&m.children[m.children.length-1].length==0)&&m.merge(i,m.length,null,!1,a,0),t++));t<e&&o.length;)if(h[e-1].become(o[o.length-1]))e--,o.pop(),d=o.length?0:a;else if(h[t].become(o[0]))t++,o.shift(),a=o.length?0:d;else break;!o.length&&t&&e<h.length&&!h[t-1].breakAfter&&h[e].merge(0,0,h[t-1],!1,a,d)&&t--,(t<e||o.length)&&n.replaceChildren(t,e,o)}}function vD(n,t,i,e,r,o){let s=n.childCursor(),{i:a,off:d}=s.findPos(i,1),{i:h,off:m}=s.findPos(t,-1),f=t-i;for(let g of e)f+=g.length;n.length+=f,_D(n,h,m,a,d,e,0,r,o)}var cn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},l0=typeof document<"u"?document:{documentElement:{style:{}}},c0=/Edge\/(\d+)/.exec(cn.userAgent),yD=/MSIE \d/.test(cn.userAgent),d0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cn.userAgent),hm=!!(yD||d0||c0),SC=!hm&&/gecko\/(\d+)/i.test(cn.userAgent),Zb=!hm&&/Chrome\/(\d+)/.exec(cn.userAgent),AC="webkitFontSmoothing"in l0.documentElement.style,xD=!hm&&/Apple Computer/.test(cn.vendor),EC=xD&&(/Mobile\/\w+/.test(cn.userAgent)||cn.maxTouchPoints>2),et={mac:EC||/Mac/.test(cn.platform),windows:/Win/.test(cn.platform),linux:/Linux|X11/.test(cn.platform),ie:hm,ie_version:yD?l0.documentMode||6:d0?+d0[1]:c0?+c0[1]:0,gecko:SC,gecko_version:SC?+(/Firefox\/(\d+)/.exec(cn.userAgent)||[0,0])[1]:0,chrome:!!Zb,chrome_version:Zb?+Zb[1]:0,ios:EC,android:/Android\b/.test(cn.userAgent),webkit:AC,safari:xD,webkit_version:AC?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:l0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},a3=256,Cr=class n extends ke{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,i,e){return this.flags&8||e&&(!(e instanceof n)||this.length-(i-t)+e.length>a3||e.flags&8)?!1:(this.text=this.text.slice(0,t)+(e?e.text:"")+this.text.slice(i),this.markDirty(),!0)}split(t){let i=new n(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),i.flags|=this.flags&8,i}localPosFromDOM(t,i){return t==this.dom?i:i?this.text.length:0}domAtPos(t){return new Ti(this.dom,t)}domBoundsAround(t,i,e){return{from:e,to:e+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,i){return l3(this.dom,t,i)}},To=class n extends ke{constructor(t,i=[],e=0){super(),this.mark=t,this.children=i,this.length=e;for(let r of i)r.setParent(this)}setAttrs(t){if(fD(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)t.setAttribute(i,this.mark.attrs[i]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,i){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,i)}merge(t,i,e,r,o,s){return e&&(!(e instanceof n&&e.mark.eq(this.mark))||t&&o<=0||i<this.length&&s<=0)?!1:(vD(this,t,i,e?e.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(t){let i=[],e=0,r=-1,o=0;for(let a of this.children){let d=e+a.length;d>t&&i.push(e<t?a.split(t-e):a),r<0&&e>=t&&(r=o),e=d,o++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new n(this.mark,i,s)}domAtPos(t){return wD(this,t)}coordsAt(t,i){return CD(this,t,i)}};function l3(n,t,i){let e=n.nodeValue.length;t>e&&(t=e);let r=t,o=t,s=0;t==0&&i<0||t==e&&i>=0?et.chrome||et.gecko||(t?(r--,s=1):o<e&&(o++,s=-1)):i<0?r--:o<e&&o++;let a=ks(n,r,o).getClientRects();if(!a.length)return null;let d=a[(s?s<0:i>=0)?0:a.length-1];return et.safari&&!s&&d.width==0&&(d=Array.prototype.find.call(a,h=>h.width)||d),s?dm(d,s<0):d||null}var Hc=class n extends ke{static create(t,i,e){return new n(t,i,e)}constructor(t,i,e){super(),this.widget=t,this.length=i,this.side=e,this.prevWidget=null}split(t){let i=n.create(this.widget,this.length-t,this.side);return this.length-=t,i}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,i,e,r,o,s){return e&&(!(e instanceof n)||!this.widget.compare(e.widget)||t>0&&o<=0||i<this.length&&s<=0)?!1:(this.length=t+(e?e.length:0)+(this.length-i),!0)}become(t){return t instanceof n&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Xt.empty;let t=this;for(;t.parent;)t=t.parent;let{view:i}=t,e=i&&i.state.doc,r=this.posAtStart;return e?e.slice(r,r+this.length):Xt.empty}domAtPos(t){return(this.length?t==0:this.side>0)?Ti.before(this.dom):Ti.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,i){let e=this.widget.coordsAt(this.dom,t,i);if(e)return e;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let a=s?r.length-1:0;o=r[a],!(t>0?a==0:a==r.length-1||o.top<o.bottom);a+=s?-1:1);return dm(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},Uc=class n extends ke{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof n&&t.side==this.side}split(){return new n(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Ti.before(this.dom):Ti.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Xt.empty}get isHidden(){return!0}};Cr.prototype.children=Hc.prototype.children=Uc.prototype.children=q0;function wD(n,t){let i=n.dom,{children:e}=n,r=0;for(let o=0;r<e.length;r++){let s=e[r],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==i)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(let o=r;o>0;o--){let s=e[o-1];if(s.dom.parentNode==i)return s.domAtPos(s.length)}for(let o=r;o<e.length;o++){let s=e[o];if(s.dom.parentNode==i)return s.domAtPos(0)}return new Ti(i,0)}function kD(n,t,i){let e,{children:r}=n;i>0&&t instanceof To&&r.length&&(e=r[r.length-1])instanceof To&&e.mark.eq(t.mark)?kD(e,t.children[0],i-1):(r.push(t),t.setParent(n)),n.length+=t.length}function CD(n,t,i){let e=null,r=-1,o=null,s=-1;function a(h,m){for(let f=0,g=0;f<h.children.length&&g<=m;f++){let _=h.children[f],y=g+_.length;y>=m&&(_.children.length?a(_,m-g):(!o||o.isHidden&&i>0)&&(y>m||g==y&&_.getSide()>0)?(o=_,s=m-g):(g<m||g==y&&_.getSide()<0&&!_.isHidden)&&(e=_,r=m-g)),g=y}}a(n,t);let d=(i<0?e:o)||e||o;return d?d.coordsAt(Math.max(0,d==e?r:s),i):c3(n)}function c3(n){let t=n.dom.lastChild;if(!t)return n.dom.getBoundingClientRect();let i=ja(t);return i[i.length-1]||null}function h0(n,t){for(let i in n)i=="class"&&t.class?t.class+=" "+n.class:i=="style"&&t.style?t.style+=";"+n.style:t[i]=n[i];return t}var MC=Object.create(null);function G0(n,t,i){if(n==t)return!0;n||(n=MC),t||(t=MC);let e=Object.keys(n),r=Object.keys(t);if(e.length-(i&&e.indexOf(i)>-1?1:0)!=r.length-(i&&r.indexOf(i)>-1?1:0))return!1;for(let o of e)if(o!=i&&(r.indexOf(o)==-1||n[o]!==t[o]))return!1;return!0}function u0(n,t,i){let e=!1;if(t)for(let r in t)i&&r in i||(e=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(i)for(let r in i)t&&t[r]==i[r]||(e=!0,r=="style"?n.style.cssText=i[r]:n.setAttribute(r,i[r]));return e}function d3(n){let t=Object.create(null);for(let i=0;i<n.attributes.length;i++){let e=n.attributes[i];t[e.name]=e.value}return t}var ui=class n extends ke{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,i,e,r,o,s){if(e){if(!(e instanceof n))return!1;this.dom||e.transferDOM(this)}return r&&this.setDeco(e?e.attrs:null),vD(this,t,i,e?e.children.slice():[],o,s),!0}split(t){let i=new n;if(i.breakAfter=this.breakAfter,this.length==0)return i;let{i:e,off:r}=this.childPos(t);r&&(i.append(this.children[e].split(r),0),this.children[e].merge(r,this.children[e].length,null,!1,0,0),e++);for(let o=e;o<this.children.length;o++)i.append(this.children[o],0);for(;e>0&&this.children[e-1].length==0;)this.children[--e].destroy();return this.children.length=e,this.markDirty(),this.length=t,i}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){G0(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,i){kD(this,t,i)}addLineDeco(t){let i=t.spec.attributes,e=t.spec.class;i&&(this.attrs=h0(i,this.attrs||{})),e&&(this.attrs=h0({class:e},this.attrs||{}))}domAtPos(t){return wD(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,i){var e;this.dom?this.flags&4&&(fD(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(u0(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,i);let r=this.dom.lastChild;for(;r&&ke.get(r)instanceof To;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((e=ke.get(r))===null||e===void 0?void 0:e.isEditable)==!1&&(!et.ios||!this.children.some(o=>o instanceof Cr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,i;for(let e of this.children){if(!(e instanceof Cr)||/[^ -~]/.test(e.text))return null;let r=ja(e.dom);if(r.length!=1)return null;t+=r[0].width,i=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:i}:null}coordsAt(t,i){let e=CD(this,t,i);if(!this.children.length&&e&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=e.bottom-e.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:e.top+s,bottom:e.bottom-s,left:e.left,right:e.left}}}return e}become(t){return!1}covers(){return!0}static find(t,i){for(let e=0,r=0;e<t.children.length;e++){let o=t.children[e],s=r+o.length;if(s>=i){if(o instanceof n)return o;if(s>i)break}r=s+o.breakAfter}return null}},za=class n extends ke{constructor(t,i,e){super(),this.widget=t,this.length=i,this.deco=e,this.breakAfter=0,this.prevWidget=null}merge(t,i,e,r,o,s){return e&&(!(e instanceof n)||!this.widget.compare(e.widget)||t>0&&o<=0||i<this.length&&s<=0)?!1:(this.length=t+(e?e.length:0)+(this.length-i),!0)}domAtPos(t){return t==0?Ti.before(this.dom):Ti.after(this.dom,t==this.length)}split(t){let i=this.length-t;this.length=t;let e=new n(this.widget,i,this.deco);return e.breakAfter=this.breakAfter,e}get children(){return q0}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Xt.empty}domBoundsAround(){return null}become(t){return t instanceof n&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,i){return this.widget.coordsAt(this.dom,t,i)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:i,endSide:e}=this.deco;return i==e?!1:t<0?i<0:e>0}},Ui=class{eq(t){return!1}updateDOM(t,i){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,i,e){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}},Ri=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Ri||(Ri={})),st=class extends Qn{constructor(t,i,e,r){super(),this.startSide=t,this.endSide=i,this.widget=e,this.spec=r}get heightRelevant(){return!1}static mark(t){return new Wc(t)}static widget(t){let i=Math.max(-1e4,Math.min(1e4,t.side||0)),e=!!t.block;return i+=e&&!t.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new Ro(t,i,i,e,t.widget||null,!1)}static replace(t){let i=!!t.block,e,r;if(t.isBlockGap)e=-5e8,r=4e8;else{let{start:o,end:s}=DD(t,i);e=(o?i?-3e8:-1:5e8)-1,r=(s?i?2e8:1:-6e8)+1}return new Ro(t,e,r,i,t.widget||null,!0)}static line(t){return new $c(t)}static set(t,i=!1){return we.of(t,i)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};st.none=we.empty;var Wc=class n extends st{constructor(t){let{start:i,end:e}=DD(t);super(i?-1:5e8,e?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var i,e;return this==t||t instanceof n&&this.tagName==t.tagName&&(this.class||((i=this.attrs)===null||i===void 0?void 0:i.class))==(t.class||((e=t.attrs)===null||e===void 0?void 0:e.class))&&G0(this.attrs,t.attrs,"class")}range(t,i=t){if(t>=i)throw new RangeError("Mark decorations may not be empty");return super.range(t,i)}};Wc.prototype.point=!1;var $c=class n extends st{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof n&&this.spec.class==t.spec.class&&G0(this.spec.attributes,t.spec.attributes)}range(t,i=t){if(i!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,i)}};$c.prototype.mapMode=hi.TrackBefore;$c.prototype.point=!0;var Ro=class n extends st{constructor(t,i,e,r,o,s){super(i,e,o,t),this.block=r,this.isReplace=s,this.mapMode=r?i<=0?hi.TrackBefore:hi.TrackAfter:hi.TrackDel}get type(){return this.startSide!=this.endSide?Ri.WidgetRange:this.startSide<=0?Ri.WidgetBefore:Ri.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof n&&h3(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,i=t){if(this.isReplace&&(t>i||t==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,i)}};Ro.prototype.point=!0;function DD(n,t=!1){let{inclusiveStart:i,inclusiveEnd:e}=n;return i==null&&(i=n.inclusive),e==null&&(e=n.inclusive),{start:i??t,end:e??t}}function h3(n,t){return n==t||!!(n&&t&&n.compare(t))}function m0(n,t,i,e=0){let r=i.length-1;r>=0&&i[r]+e>=n?i[r]=Math.max(i[r],t):i.push(n,t)}var Lc=class n{constructor(t,i,e,r){this.doc=t,this.pos=i,this.end=e,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=i}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof za&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ui),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ou(new Uc(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof za)&&this.getLine()}buildText(t,i,e){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(i.slice(i.length-e)),this.getLine().append(Ou(new Cr(this.text.slice(this.textOff,this.textOff+r)),i),e),this.atCursorPos=!0,this.textOff+=r,t-=r,e=0}}span(t,i,e,r){this.buildText(i-t,e,r),this.pos=i,this.openStart<0&&(this.openStart=r)}point(t,i,e,r,o,s){if(this.disallowBlockEffectsFor[s]&&e instanceof Ro){if(e.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=i-t;if(e instanceof Ro)if(e.block)e.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new za(e.widget||IC.block,a,e));else{let d=Hc.create(e.widget||IC.inline,a,a?0:e.startSide),h=this.atCursorPos&&!d.isEditable&&o<=r.length&&(t<i||e.startSide>0),m=!d.isEditable&&(t<i||o>r.length||e.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!h&&!d.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),h&&(f.append(Ou(new Uc(1),r),o),o=r.length+Math.max(0,o-r.length)),f.append(Ou(d,r),o),this.atCursorPos=m,this.pendingBuffer=m?t<i||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(e);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=o)}static build(t,i,e,r,o){let s=new n(t,i,e,o);return s.openEnd=we.spans(r,i,e,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function Ou(n,t){for(let i of t)n=new To(i,[n],n.length);return n}var IC=(()=>{class n extends Ui{constructor(i){super(),this.tag=i}eq(i){return i.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(i){return i.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return n.inline=new n("span"),n.block=new n("div"),n})(),me=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(me||(me={})),Cs=me.LTR,K0=me.RTL;function SD(n){let t=[];for(let i=0;i<n.length;i++)t.push(1<<+n[i]);return t}var u3=SD("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),m3=SD("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),f0=Object.create(null),yr=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),i=n.charCodeAt(1);f0[t]=i,f0[i]=-t}function AD(n){return n<=247?u3[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?m3[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}var f3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,wr=class{get dir(){return this.level%2?K0:Cs}constructor(t,i,e){this.from=t,this.to=i,this.level=e}side(t,i){return this.dir==i==t?this.to:this.from}forward(t,i){return t==(this.dir==i)}static find(t,i,e,r){let o=-1;for(let s=0;s<t.length;s++){let a=t[s];if(a.from<=i&&a.to>=i){if(a.level==e)return s;(o<0||(r!=0?r<0?a.from<i:a.to>i:t[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};function ED(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++){let e=n[i],r=t[i];if(e.from!=r.from||e.to!=r.to||e.direction!=r.direction||!ED(e.inner,r.inner))return!1}return!0}var _e=[];function p3(n,t,i,e,r){for(let o=0;o<=e.length;o++){let s=o?e[o-1].to:t,a=o<e.length?e[o].from:i,d=o?256:r;for(let h=s,m=d,f=d;h<a;h++){let g=AD(n.charCodeAt(h));g==512?g=m:g==8&&f==4&&(g=16),_e[h]=g==4?2:g,g&7&&(f=g),m=g}for(let h=s,m=d,f=d;h<a;h++){let g=_e[h];if(g==128)h<a-1&&m==_e[h+1]&&m&24?g=_e[h]=m:_e[h]=256;else if(g==64){let _=h+1;for(;_<a&&_e[_]==64;)_++;let y=h&&m==8||_<i&&_e[_]==8?f==1?1:8:256;for(let k=h;k<_;k++)_e[k]=y;h=_-1}else g==8&&f==1&&(_e[h]=1);m=g,g&7&&(f=g)}}}function g3(n,t,i,e,r){let o=r==1?2:1;for(let s=0,a=0,d=0;s<=e.length;s++){let h=s?e[s-1].to:t,m=s<e.length?e[s].from:i;for(let f=h,g,_,y;f<m;f++)if(_=f0[g=n.charCodeAt(f)])if(_<0){for(let k=a-3;k>=0;k-=3)if(yr[k+1]==-_){let S=yr[k+2],M=S&2?r:S&4?S&1?o:r:0;M&&(_e[f]=_e[yr[k]]=M),a=k;break}}else{if(yr.length==189)break;yr[a++]=f,yr[a++]=g,yr[a++]=d}else if((y=_e[f])==2||y==1){let k=y==r;d=k?0:1;for(let S=a-3;S>=0;S-=3){let M=yr[S+2];if(M&2)break;if(k)yr[S+2]|=2;else{if(M&4)break;yr[S+2]|=4}}}}}function b3(n,t,i,e){for(let r=0,o=e;r<=i.length;r++){let s=r?i[r-1].to:n,a=r<i.length?i[r].from:t;for(let d=s;d<a;){let h=_e[d];if(h==256){let m=d+1;for(;;)if(m==a){if(r==i.length)break;m=i[r++].to,a=r<i.length?i[r].from:t}else if(_e[m]==256)m++;else break;let f=o==1,g=(m<t?_e[m]:e)==1,_=f==g?f?1:2:e;for(let y=m,k=r,S=k?i[k-1].to:n;y>d;)y==S&&(y=i[--k].from,S=k?i[k-1].to:n),_e[--y]=_;d=m}else o=h,d++}}}function p0(n,t,i,e,r,o,s){let a=e%2?2:1;if(e%2==r%2)for(let d=t,h=0;d<i;){let m=!0,f=!1;if(h==o.length||d<o[h].from){let k=_e[d];k!=a&&(m=!1,f=k==16)}let g=!m&&a==1?[]:null,_=m?e:e+1,y=d;t:for(;;)if(h<o.length&&y==o[h].from){if(f)break t;let k=o[h];if(!m)for(let S=k.to,M=h+1;;){if(S==i)break t;if(M<o.length&&o[M].from==S)S=o[M++].to;else{if(_e[S]==a)break t;break}}if(h++,g)g.push(k);else{k.from>d&&s.push(new wr(d,k.from,_));let S=k.direction==Cs!=!(_%2);g0(n,S?e+1:e,r,k.inner,k.from,k.to,s),d=k.to}y=k.to}else{if(y==i||(m?_e[y]!=a:_e[y]==a))break;y++}g?p0(n,d,y,e+1,r,g,s):d<y&&s.push(new wr(d,y,_)),d=y}else for(let d=i,h=o.length;d>t;){let m=!0,f=!1;if(!h||d>o[h-1].to){let k=_e[d-1];k!=a&&(m=!1,f=k==16)}let g=!m&&a==1?[]:null,_=m?e:e+1,y=d;t:for(;;)if(h&&y==o[h-1].to){if(f)break t;let k=o[--h];if(!m)for(let S=k.from,M=h;;){if(S==t)break t;if(M&&o[M-1].to==S)S=o[--M].from;else{if(_e[S-1]==a)break t;break}}if(g)g.push(k);else{k.to<d&&s.push(new wr(k.to,d,_));let S=k.direction==Cs!=!(_%2);g0(n,S?e+1:e,r,k.inner,k.from,k.to,s),d=k.from}y=k.from}else{if(y==t||(m?_e[y-1]!=a:_e[y-1]==a))break;y--}g?p0(n,y,d,e+1,r,g,s):y<d&&s.push(new wr(y,d,_)),d=y}}function g0(n,t,i,e,r,o,s){let a=t%2?2:1;p3(n,r,o,e,a),g3(n,r,o,e,a),b3(r,o,e,a),p0(n,r,o,t,i,e,s)}function _3(n,t,i){if(!n)return[new wr(0,0,t==K0?1:0)];if(t==Cs&&!i.length&&!f3.test(n))return MD(n.length);if(i.length)for(;n.length>_e.length;)_e[_e.length]=256;let e=[],r=t==Cs?0:1;return g0(n,r,r,i,0,n.length,e),e}function MD(n){return[new wr(0,n,0)]}var ID="";function v3(n,t,i,e,r){var o;let s=e.head-n.from,a=wr.find(t,s,(o=e.bidiLevel)!==null&&o!==void 0?o:-1,e.assoc),d=t[a],h=d.side(r,i);if(s==h){let g=a+=r?1:-1;if(g<0||g>=t.length)return null;d=t[a=g],s=d.side(!r,i),h=d.side(r,i)}let m=Ye(n.text,s,d.forward(r,i));(m<d.from||m>d.to)&&(m=h),ID=n.text.slice(Math.min(s,m),Math.max(s,m));let f=a==(r?t.length-1:0)?null:t[a+(r?1:-1)];return f&&m==h&&f.level+(r?0:1)<d.level?N.cursor(f.side(!r,i)+n.from,f.forward(r,i)?1:-1,f.level):N.cursor(m+n.from,d.forward(r,i)?-1:1,d.level)}function y3(n,t,i){for(let e=t;e<i;e++){let r=AD(n.charCodeAt(e));if(r==1)return Cs;if(r==2||r==4)return K0}return Cs}var TD=Q.define(),RD=Q.define(),OD=Q.define(),FD=Q.define(),Qb=Q.define(),PD=Q.define(),LD=Q.define(),TC=Q.define({combine:n=>n.some(t=>t)}),ND=Q.define({combine:n=>n.some(t=>t)}),VD=Q.define(),Nc=class n{constructor(t,i="nearest",e="nearest",r=5,o=5,s=!1){this.range=t,this.y=i,this.x=e,this.yMargin=r,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new n(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new n(N.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},Fu=zt.define({map:(n,t)=>n.map(t)});function mi(n,t,i){let e=n.facet(FD);e.length?e[0](t):window.onerror?window.onerror(String(t),i,void 0,void 0,t):i?console.error(i+":",t):console.error(t)}var Zu=Q.define({combine:n=>n.length?n[0]:!0}),x3=0,Tc=Q.define(),Ae=class n{constructor(t,i,e,r,o){this.id=t,this.create=i,this.domEventHandlers=e,this.domEventObservers=r,this.extension=o(this)}static define(t,i){let{eventHandlers:e,eventObservers:r,provide:o,decorations:s}=i||{};return new n(x3++,t,e,r,a=>{let d=[Tc.of(a)];return s&&d.push(Yc.of(h=>{let m=h.plugin(a);return m?s(m):st.none})),o&&d.push(o(a)),d})}static fromClass(t,i){return n.define(e=>new t(e),i)}},Vc=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(e){if(mi(i.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(i){mi(t.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var i;if(!((i=this.value)===null||i===void 0)&&i.destroy)try{this.value.destroy()}catch(e){mi(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},RC=Q.define(),b0=Q.define(),Yc=Q.define(),BD=Q.define(),X0=Q.define(),zD=Q.define();function OC(n,t){let i=n.state.facet(zD);if(!i.length)return i;let e=i.map(o=>o instanceof Function?o(n):o),r=[];return we.spans(e,t.from,t.to,{point(){},span(o,s,a,d){let h=o-t.from,m=s-t.from,f=r;for(let g=a.length-1;g>=0;g--,d--){let _=a[g].spec.bidiIsolate,y;if(_==null&&(_=y3(t.text,h,m)),d>0&&f.length&&(y=f[f.length-1]).to==h&&y.direction==_)y.to=m,f=y.inner;else{let k={from:h,to:m,direction:_,inner:[]};f.push(k),f=k.inner}}}}),r}var jD=Q.define();function HD(n){let t=0,i=0,e=0,r=0;for(let o of n.state.facet(jD)){let s=o(n);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(i=Math.max(i,s.right)),s.top!=null&&(e=Math.max(e,s.top)),s.bottom!=null&&(r=Math.max(r,s.bottom)))}return{left:t,right:i,top:e,bottom:r}}var Mc=Q.define(),kr=class n{constructor(t,i,e,r){this.fromA=t,this.toA=i,this.fromB=e,this.toB=r}join(t){return new n(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let i=t.length,e=this;for(;i>0;i--){let r=t[i-1];if(!(r.fromA>e.toA)){if(r.toA<e.fromA)break;e=e.join(r),t.splice(i-1,1)}}return t.splice(i,0,e),t}static extendWithRanges(t,i){if(i.length==0)return t;let e=[];for(let r=0,o=0,s=0,a=0;;r++){let d=r==t.length?null:t[r],h=s-a,m=d?d.fromB:1e9;for(;o<i.length&&i[o]<m;){let f=i[o],g=i[o+1],_=Math.max(a,f),y=Math.min(m,g);if(_<=y&&new n(_+h,y+h,_,y).addToSet(e),g>m)break;o+=2}if(!d)return e;new n(d.fromA,d.toA,d.fromB,d.toB).addToSet(e),s=d.toA,a=d.toB}}},Qu=class n{constructor(t,i,e){this.view=t,this.state=i,this.transactions=e,this.flags=0,this.startState=t.state,this.changes=Ii.empty(this.startState.doc.length);for(let o of e)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,a,d)=>r.push(new kr(o,s,a,d))),this.changedRanges=r}static create(t,i,e){return new n(t,i,e)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},Ju=class extends ke{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new ui],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new kr(0,0,0,t.state.doc.length)],0,null)}update(t){var i;let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:h,toA:m})=>m<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((i=this.domChanged)===null||i===void 0)&&i.newSel?r=this.domChanged.newSel.head:!E3(t.changes,this.hasComposition)&&!t.selectionSet&&(r=t.state.selection.main.head));let o=r>-1?k3(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:m}=this.hasComposition;e=new kr(h,m,t.changes.mapPos(h,-1),t.changes.mapPos(m,1)).addToSet(e.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(et.ie||et.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),d=S3(s,a,t.changes);return e=kr.extendWithRanges(e,d),!(this.flags&7)&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,i,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,i,e);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=et.chrome||et.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof za&&s.widget instanceof tm&&o.push(s.dom);r.updateGaps(o)}updateChildren(t,i,e){let r=e?e.range.addToSet(t.slice()):t,o=this.childCursor(i);for(let s=r.length-1;;s--){let a=s>=0?r[s]:null;if(!a)break;let{fromA:d,toA:h,fromB:m,toB:f}=a,g,_,y,k;if(e&&e.range.fromB<f&&e.range.toB>m){let W=Lc.build(this.view.state.doc,m,e.range.fromB,this.decorations,this.dynamicDecorationMap),V=Lc.build(this.view.state.doc,e.range.toB,f,this.decorations,this.dynamicDecorationMap);_=W.breakAtStart,y=W.openStart,k=V.openEnd;let G=this.compositionView(e);V.breakAtStart?G.breakAfter=1:V.content.length&&G.merge(G.length,G.length,V.content[0],!1,V.openStart,0)&&(G.breakAfter=V.content[0].breakAfter,V.content.shift()),W.content.length&&G.merge(0,0,W.content[W.content.length-1],!0,0,W.openEnd)&&W.content.pop(),g=W.content.concat(G).concat(V.content)}else({content:g,breakAtStart:_,openStart:y,openEnd:k}=Lc.build(this.view.state.doc,m,f,this.decorations,this.dynamicDecorationMap));let{i:S,off:M}=o.findPos(h,1),{i:B,off:U}=o.findPos(d,-1);_D(this,B,U,S,M,g,_,y,k)}e&&this.fixCompositionDOM(e)}compositionView(t){let i=new Cr(t.text.nodeValue);i.flags|=8;for(let{deco:r}of t.marks)i=new To(r,[i],i.length);let e=new ui;return e.append(i,0),e}fixCompositionDOM(t){let i=(o,s)=>{s.flags|=8|(s.children.some(d=>d.flags&7)?1:0),this.markedForComposition.add(s);let a=ke.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},e=this.childPos(t.range.fromB,1),r=this.children[e.i];i(t.line,r);for(let o=t.marks.length-1;o>=-1;o--)e=r.childPos(e.off,1),r=r.children[e.i],i(o>=0?t.marks[o].node:t.text,r)}updateSelection(t=!1,i=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let e=this.view.root.activeElement,r=e==this.dom,o=!r&&Hu(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e));if(!(r||i||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,d=this.moveToLine(this.domAtPos(a.anchor)),h=a.empty?d:this.moveToLine(this.domAtPos(a.head));if(et.gecko&&a.empty&&!this.hasComposition&&w3(d)){let f=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(f,d.node.childNodes[d.offset]||null)),d=h=new Ti(f,0),s=!0}let m=this.view.observer.selectionRange;(s||!m.focusNode||(!Pc(d.node,d.offset,m.anchorNode,m.anchorOffset)||!Pc(h.node,h.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,a))&&(this.view.observer.ignore(()=>{et.android&&et.chrome&&this.dom.contains(m.focusNode)&&A3(m.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Gu(this.view.root);if(f)if(a.empty){if(et.gecko){let g=C3(d.node,d.offset);if(g&&g!=3){let _=(g==1?gD:bD)(d.node,d.offset);_&&(d=new Ti(_.node,_.offset))}}f.collapse(d.node,d.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(d.node,d.offset);try{f.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();a.anchor>a.head&&([d,h]=[h,d]),g.setEnd(h.node,h.offset),g.setStart(d.node,d.offset),f.removeAllRanges(),f.addRange(g)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),e&&e.focus())}),this.view.observer.setSelectionRange(d,h)),this.impreciseAnchor=d.precise?null:new Ti(m.anchorNode,m.anchorOffset),this.impreciseHead=h.precise?null:new Ti(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(t,i){return this.hasComposition&&i.empty&&Pc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,i=t.state.selection.main,e=Gu(t.root),{anchorNode:r,anchorOffset:o}=t.observer.selectionRange;if(!e||!i.empty||!i.assoc||!e.modify)return;let s=ui.find(this,i.head);if(!s)return;let a=s.posAtStart;if(i.head==a||i.head==a+s.length)return;let d=this.coordsAt(i.head,-1),h=this.coordsAt(i.head,1);if(!d||!h||d.bottom>h.top)return;let m=this.domAtPos(i.head+i.assoc);e.collapse(m.node,m.offset),e.modify("move",i.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=i.from&&e.collapse(r,o)}moveToLine(t){let i=this.dom,e;if(t.node!=i)return t;for(let r=t.offset;!e&&r<i.childNodes.length;r++){let o=ke.get(i.childNodes[r]);o instanceof ui&&(e=o.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let o=ke.get(i.childNodes[r]);o instanceof ui&&(e=o.domAtPos(o.length))}return e?new Ti(e.node,e.offset,!0):t}nearest(t){for(let i=t;i;){let e=ke.get(i);if(e&&e.rootView==this)return e;i=i.parentNode}return null}posFromDOM(t,i){let e=this.nearest(t);if(!e)throw new RangeError("Trying to find position for a DOM position outside of the document");return e.localPosFromDOM(t,i)+e.posAtStart}domAtPos(t){let{i,off:e}=this.childCursor().findPos(t,-1);for(;i<this.children.length-1;){let r=this.children[i];if(e<r.length||r instanceof ui)break;i++,e=0}return this.children[i].domAtPos(e)}coordsAt(t,i){let e=null,r=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],d=o-a.breakAfter,h=d-a.length;if(d<t)break;h<=t&&(h<t||a.covers(-1))&&(d>t||a.covers(1))&&(!e||a instanceof ui&&!(e instanceof ui&&i>=0))&&(e=a,r=h),o=h}return e?e.coordsAt(t-r,i):null}coordsForChar(t){let{i,off:e}=this.childPos(t,1),r=this.children[i];if(!(r instanceof ui))return null;for(;r.children.length;){let{i:a,off:d}=r.childPos(e,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}e=d}if(!(r instanceof Cr))return null;let o=Ye(r.text,e);if(o==e)return null;let s=ks(r.dom,e,o).getClientRects();for(let a=0;a<s.length;a++){let d=s[a];if(a==s.length-1||d.top<d.bottom&&d.left<d.right)return d}return null}measureVisibleLineHeights(t){let i=[],{from:e,to:r}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,d=this.view.textDirection==me.LTR;for(let h=0,m=0;m<this.children.length;m++){let f=this.children[m],g=h+f.length;if(g>r)break;if(h>=e){let _=f.dom.getBoundingClientRect();if(i.push(_.height),s){let y=f.dom.lastChild,k=y?ja(y):[];if(k.length){let S=k[k.length-1],M=d?S.right-_.left:_.right-S.left;M>a&&(a=M,this.minWidth=o,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+f.breakAfter}return i}textDirectionAt(t){let{i}=this.childPos(t,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?me.RTL:me.LTR}measureTextSize(){for(let o of this.children)if(o instanceof ui){let s=o.measureTextSize();if(s)return s}let t=document.createElement("div"),i,e,r;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=ja(t.firstChild)[0];i=t.getBoundingClientRect().height,e=o?o.width/27:7,r=o?o.height:i,t.remove()}),{lineHeight:i,charWidth:e,textHeight:r}}childCursor(t=this.length){let i=this.children.length;return i&&(t-=this.children[--i].length),new Xu(this.children,t,i)}computeBlockGapDeco(){let t=[],i=this.view.viewState;for(let e=0,r=0;;r++){let o=r==i.viewports.length?null:i.viewports[r],s=o?o.from-1:this.length;if(s>e){let a=(i.lineBlockAt(s).bottom-i.lineBlockAt(e).top)/this.view.scaleY;t.push(st.replace({widget:new tm(a),block:!0,inclusive:!0,isBlockGap:!0}).range(e,s))}if(!o)break;e=o.to+1}return st.set(t)}updateDeco(){let t=0,i=this.view.state.facet(Yc).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),e=!1,r=this.view.state.facet(BD).map((o,s)=>{let a=typeof o=="function";return a&&(e=!0),a?o(this.view):o});for(r.length&&(this.dynamicDecorationMap[t++]=e,i.push(we.join(r))),this.decorations=[...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let h=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=h.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let h of this.view.state.facet(VD))try{if(h(this.view,t.range,t))return!0}catch(m){mi(this.view.state,m,"scroll handler")}let{range:i}=t,e=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1),r;if(!e)return;!i.empty&&(r=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(e={left:Math.min(e.left,r.left),top:Math.min(e.top,r.top),right:Math.max(e.right,r.right),bottom:Math.max(e.bottom,r.bottom)});let o=HD(this.view),s={left:e.left-o.left,top:e.top-o.top,right:e.right+o.right,bottom:e.bottom+o.bottom},{offsetWidth:a,offsetHeight:d}=this.view.scrollDOM;n3(this.view.scrollDOM,s,i.head<i.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,a),-a),Math.max(Math.min(t.yMargin,d),-d),this.view.textDirection==me.LTR)}};function w3(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}var tm=class extends Ui{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}};function UD(n,t){let i=n.observer.selectionRange;if(!i.focusNode)return null;let e=gD(i.focusNode,i.focusOffset),r=bD(i.focusNode,i.focusOffset),o=e||r;if(r&&e&&r.node!=e.node){let a=ke.get(r.node);if(!a||a instanceof Cr&&a.text!=r.node.nodeValue)o=r;else if(n.docView.lastCompositionAfterCursor){let d=ke.get(e.node);!d||d instanceof Cr&&d.text!=e.node.nodeValue||(o=r)}}if(n.docView.lastCompositionAfterCursor=o!=e,!o)return null;let s=t-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function k3(n,t,i){let e=UD(n,i);if(!e)return null;let{node:r,from:o,to:s}=e,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(e.from,e.to)!=a)return null;let d=t.invertedDesc,h=new kr(d.mapPos(o),d.mapPos(s),o,s),m=[];for(let f=r.parentNode;;f=f.parentNode){let g=ke.get(f);if(g instanceof To)m.push({node:f,deco:g.mark});else{if(g instanceof ui||f.nodeName=="DIV"&&f.parentNode==n.contentDOM)return{range:h,text:r,marks:m,line:f};if(f!=n.contentDOM)m.push({node:f,deco:new Wc({inclusive:!0,attributes:d3(f),tagName:f.tagName.toLowerCase()})});else return null}}}function C3(n,t){return n.nodeType!=1?0:(t&&n.childNodes[t-1].contentEditable=="false"?1:0)|(t<n.childNodes.length&&n.childNodes[t].contentEditable=="false"?2:0)}var D3=class{constructor(){this.changes=[]}compareRange(t,i){m0(t,i,this.changes)}comparePoint(t,i){m0(t,i,this.changes)}};function S3(n,t,i){let e=new D3;return we.compare(n,t,i,e),e.changes}function A3(n,t){for(let i=n;i&&i!=t;i=i.assignedSlot||i.parentNode)if(i.nodeType==1&&i.contentEditable=="false")return!0;return!1}function E3(n,t){let i=!1;return t&&n.iterChangedRanges((e,r)=>{e<t.to&&r>t.from&&(i=!0)}),i}function M3(n,t,i=1){let e=n.charCategorizer(t),r=n.doc.lineAt(t),o=t-r.from;if(r.length==0)return N.cursor(t);o==0?i=1:o==r.length&&(i=-1);let s=o,a=o;i<0?s=Ye(r.text,o,!1):a=Ye(r.text,o);let d=e(r.text.slice(s,a));for(;s>0;){let h=Ye(r.text,s,!1);if(e(r.text.slice(h,s))!=d)break;s=h}for(;a<r.length;){let h=Ye(r.text,a);if(e(r.text.slice(a,h))!=d)break;a=h}return N.range(s+r.from,a+r.from)}function I3(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function T3(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function Jb(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function FC(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function PC(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function _0(n,t,i){let e,r,o,s,a=!1,d,h,m,f;for(let y=n.firstChild;y;y=y.nextSibling){let k=ja(y);for(let S=0;S<k.length;S++){let M=k[S];r&&Jb(r,M)&&(M=FC(PC(M,r.bottom),r.top));let B=I3(t,M),U=T3(i,M);if(B==0&&U==0)return y.nodeType==3?LC(y,t,i):_0(y,t,i);if(!e||s>U||s==U&&o>B){e=y,r=M,o=B,s=U;let W=U?i<M.top?-1:1:B?t<M.left?-1:1:0;a=!W||(W>0?S<k.length-1:S>0)}B==0?i>M.bottom&&(!m||m.bottom<M.bottom)?(d=y,m=M):i<M.top&&(!f||f.top>M.top)&&(h=y,f=M):m&&Jb(m,M)?m=PC(m,M.bottom):f&&Jb(f,M)&&(f=FC(f,M.top))}}if(m&&m.bottom>=i?(e=d,r=m):f&&f.top<=i&&(e=h,r=f),!e)return{node:n,offset:0};let g=Math.max(r.left,Math.min(r.right,t));if(e.nodeType==3)return LC(e,g,i);if(a&&e.contentEditable!="false")return _0(e,g,i);let _=Array.prototype.indexOf.call(n.childNodes,e)+(t>=(r.left+r.right)/2?1:0);return{node:n,offset:_}}function LC(n,t,i){let e=n.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<e;a++){let d=ks(n,a,a+1).getClientRects();for(let h=0;h<d.length;h++){let m=d[h];if(m.top==m.bottom)continue;s||(s=t-m.left);let f=(m.top>i?m.top-i:i-m.bottom)-1;if(m.left-1<=t&&m.right+1>=t&&f<o){let g=t>=(m.left+m.right)/2,_=g;if((et.chrome||et.gecko)&&ks(n,a).getBoundingClientRect().left==m.right&&(_=!g),f<=0)return{node:n,offset:a+(_?1:0)};r=a+(_?1:0),o=f}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function WD(n,t,i,e=-1){var r,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,d,{docHeight:h}=n.viewState,{x:m,y:f}=t,g=f-a;if(g<0)return 0;if(g>h)return n.state.doc.length;for(let W=n.viewState.heightOracle.textHeight/2,V=!1;d=n.elementAtHeight(g),d.type!=Ri.Text;)for(;g=e>0?d.bottom+W:d.top-W,!(g>=0&&g<=h);){if(V)return i?null:0;V=!0,e=-e}f=a+g;let _=d.from;if(_<n.viewport.from)return n.viewport.from==0?0:i?null:NC(n,s,d,m,f);if(_>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:NC(n,s,d,m,f);let y=n.dom.ownerDocument,k=n.root.elementFromPoint?n.root:y,S=k.elementFromPoint(m,f);S&&!n.contentDOM.contains(S)&&(S=null),S||(m=Math.max(s.left+1,Math.min(s.right-1,m)),S=k.elementFromPoint(m,f),S&&!n.contentDOM.contains(S)&&(S=null));let M,B=-1;if(S&&((r=n.docView.nearest(S))===null||r===void 0?void 0:r.isEditable)!=!1){if(y.caretPositionFromPoint){let W=y.caretPositionFromPoint(m,f);W&&({offsetNode:M,offset:B}=W)}else if(y.caretRangeFromPoint){let W=y.caretRangeFromPoint(m,f);W&&({startContainer:M,startOffset:B}=W,(!n.contentDOM.contains(M)||et.safari&&R3(M,B,m)||et.chrome&&O3(M,B,m))&&(M=void 0))}}if(!M||!n.docView.dom.contains(M)){let W=ui.find(n.docView,_);if(!W)return g>d.top+d.height/2?d.to:d.from;({node:M,offset:B}=_0(W.dom,m,f))}let U=n.docView.nearest(M);if(!U)return null;if(U.isWidget&&((o=U.dom)===null||o===void 0?void 0:o.nodeType)==1){let W=U.dom.getBoundingClientRect();return t.y<W.top||t.y<=W.bottom&&t.x<=(W.left+W.right)/2?U.posAtStart:U.posAtEnd}else return U.localPosFromDOM(M,B)+U.posAtStart}function NC(n,t,i,e,r){let o=Math.round((e-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&i.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,d=Math.floor((r-i.top-(n.defaultLineHeight-a)*.5)/a);o+=d*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(i.from,i.to);return i.from+Tu(s,o,n.state.tabSize)}function R3(n,t,i){let e;if(n.nodeType!=3||t!=(e=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return ks(n,e-1,e).getBoundingClientRect().left>i}function O3(n,t,i){if(t!=0)return!1;for(let r=n;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let e=n.nodeType==1?n.getBoundingClientRect():ks(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return i-e.left>5}function v0(n,t){let i=n.lineBlockAt(t);if(Array.isArray(i.type)){for(let e of i.type)if(e.to>t||e.to==t&&(e.to==i.to||e.type==Ri.Text))return e}return i}function F3(n,t,i,e){let r=v0(n,t.head),o=!e||r.type!=Ri.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),d=n.posAtCoords({x:i==(a==me.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(d!=null)return N.cursor(d,i?-1:1)}return N.cursor(i?r.to:r.from,i?-1:1)}function VC(n,t,i,e){let r=n.state.doc.lineAt(t.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let a=t,d=null;;){let h=v3(r,o,s,a,i),m=ID;if(!h){if(r.number==(i?n.state.doc.lines:1))return a;m=`
`,r=n.state.doc.line(r.number+(i?1:-1)),o=n.bidiSpans(r),h=n.visualLineSide(r,!i)}if(d){if(!d(m))return a}else{if(!e)return h;d=e(m)}a=h}}function P3(n,t,i){let e=n.state.charCategorizer(t),r=e(i);return o=>{let s=e(o);return r==ue.Space&&(r=s),r==s}}function L3(n,t,i,e){let r=t.head,o=i?1:-1;if(r==(i?n.state.doc.length:0))return N.cursor(r,t.assoc);let s=t.goalColumn,a,d=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(r,t.assoc||-1),m=n.documentTop;if(h)s==null&&(s=h.left-d.left),a=o<0?h.top:h.bottom;else{let _=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(d.right-d.left,n.defaultCharacterWidth*(r-_.from))),a=(o<0?_.top:_.bottom)+m}let f=d.left+s,g=e??n.viewState.heightOracle.textHeight>>1;for(let _=0;;_+=10){let y=a+(g+_)*o,k=WD(n,{x:f,y},!1,o);if(y<d.top||y>d.bottom||(o<0?k<r:k>r)){let S=n.docView.coordsForChar(k),M=!S||y<S.top?-1:1;return N.cursor(k,M,void 0,s)}}}function Uu(n,t,i){for(;;){let e=0;for(let r of n)r.between(t-1,t+1,(o,s,a)=>{if(t>o&&t<s){let d=e||i||(t-o<s-t?-1:1);t=d<0?o:s,e=d}});if(!e)return t}}function t0(n,t,i){let e=Uu(n.state.facet(X0).map(r=>r(n)),i.from,t.head>i.from?-1:1);return e==i.from?i:N.cursor(e,e<i.from?1:-1)}var y0=class{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,et.safari&&t.contentDOM.addEventListener("input",()=>null),et.gecko&&Z3(t.contentDOM.ownerDocument)}handleEvent(t){!U3(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,i){let e=this.handlers[t];if(e){for(let r of e.observers)r(this.view,i);for(let r of e.handlers){if(i.defaultPrevented)break;if(r(this.view,i)){i.preventDefault();break}}}}ensureHandlers(t){let i=N3(t),e=this.handlers,r=this.view.contentDOM;for(let o in i)if(o!="scroll"){let s=!i[o].handlers.length,a=e[o];a&&s!=!a.handlers.length&&(r.removeEventListener(o,this.handleEvent),a=null),a||r.addEventListener(o,this.handleEvent,{passive:s})}for(let o in e)o!="scroll"&&!i[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=i}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&YD.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),et.android&&et.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return et.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=$D.find(e=>e.keyCode==t.keyCode))&&!t.ctrlKey||V3.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let i=this.pendingIOSKey;return!i||i.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,Ba(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:et.safari&&!et.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function BC(n,t){return(i,e)=>{try{return t.call(n,e,i)}catch(r){mi(i.state,r)}}}function N3(n){let t=Object.create(null);function i(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let e of n){let r=e.spec;if(r&&r.domEventHandlers)for(let o in r.domEventHandlers){let s=r.domEventHandlers[o];s&&i(o).handlers.push(BC(e.value,s))}if(r&&r.domEventObservers)for(let o in r.domEventObservers){let s=r.domEventObservers[o];s&&i(o).observers.push(BC(e.value,s))}}for(let e in er)i(e).handlers.push(er[e]);for(let e in Pn)i(e).observers.push(Pn[e]);return t}var $D=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],V3="dthko",YD=[16,17,18,20,91,92,224,225],Pu=6;function Lu(n){return Math.max(0,n)*.7+8}function B3(n,t){return Math.max(Math.abs(n.clientX-t.clientX),Math.abs(n.clientY-t.clientY))}var x0=class{constructor(t,i,e,r){this.view=t,this.startEvent=i,this.style=e,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParent=r3(t.contentDOM),this.atoms=t.state.facet(X0).map(s=>s(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=t.state.facet(oi.allowMultipleSelections)&&z3(t,i),this.dragging=H3(t,i)&&XD(i)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){var i;if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&B3(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,r=0,o=((i=this.scrollParent)===null||i===void 0?void 0:i.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=HD(this.view);t.clientX-s.left<=o.left+Pu?e=-Lu(o.left-t.clientX):t.clientX+s.right>=o.right-Pu&&(e=Lu(t.clientX-o.right)),t.clientY-s.top<=o.top+Pu?r=-Lu(o.top-t.clientY):t.clientY+s.bottom>=o.bottom-Pu&&(r=Lu(t.clientY-o.bottom)),this.setScrollSpeed(e,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,i){this.scrollSpeed={x:t,y:i},t||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let i=null;for(let e=0;e<t.ranges.length;e++){let r=t.ranges[e],o=null;if(r.empty){let s=Uu(this.atoms,r.from,0);s!=r.from&&(o=N.cursor(s,-1))}else{let s=Uu(this.atoms,r.from,-1),a=Uu(this.atoms,r.to,1);(s!=r.from||a!=r.to)&&(o=N.range(r.from==r.anchor?s:a,r.from==r.head?s:a))}o&&(i||(i=t.ranges.slice()),i[e]=o)}return i?N.create(i,t.mainIndex):t}select(t){let{view:i}=this,e=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!e.eq(i.state.selection,this.dragging===!1))&&this.view.dispatch({selection:e,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};function z3(n,t){let i=n.state.facet(TD);return i.length?i[0](t):et.mac?t.metaKey:t.ctrlKey}function j3(n,t){let i=n.state.facet(RD);return i.length?i[0](t):et.mac?!t.altKey:!t.ctrlKey}function H3(n,t){let{main:i}=n.state.selection;if(i.empty)return!1;let e=Gu(n.root);if(!e||e.rangeCount==0)return!0;let r=e.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}function U3(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let i=t.target,e;i!=n.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(e=ke.get(i))&&e.ignoreEvent(t))return!1;return!0}var er=Object.create(null),Pn=Object.create(null),qD=et.ie&&et.ie_version<15||et.ios&&et.webkit_version<604;function W3(n){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{n.focus(),i.remove(),GD(n,i.value)},50)}function GD(n,t){let{state:i}=n,e,r=1,o=i.toText(t),s=o.lines==i.selection.ranges.length;if(w0!=null&&i.selection.ranges.every(d=>d.empty)&&w0==o.toString()){let d=-1;e=i.changeByRange(h=>{let m=i.doc.lineAt(h.from);if(m.from==d)return{range:h};d=m.from;let f=i.toText((s?o.line(r++).text:t)+i.lineBreak);return{changes:{from:m.from,insert:f},range:N.cursor(h.from+f.length)}})}else s?e=i.changeByRange(d=>{let h=o.line(r++);return{changes:{from:d.from,to:d.to,insert:h.text},range:N.cursor(d.from+h.length)}}):e=i.replaceSelection(o);n.dispatch(e,{userEvent:"input.paste",scrollIntoView:!0})}Pn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};er.keydown=(n,t)=>(n.inputState.setSelectionOrigin("select"),t.keyCode==27&&(n.inputState.lastEscPress=Date.now()),!1);Pn.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Pn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};er.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let e of n.state.facet(OD))if(i=e(n,t),i)break;if(!i&&t.button==0&&(i=q3(n,t)),i){let e=!n.hasFocus;n.inputState.startMouseSelection(new x0(n,t,i,e)),e&&n.observer.ignore(()=>mD(n.contentDOM));let r=n.inputState.mouseSelection;if(r)return r.start(t),r.dragging===!1}return!1};function zC(n,t,i,e){if(e==1)return N.cursor(t,i);if(e==2)return M3(n.state,t,i);{let r=ui.find(n.docView,t),o=n.state.doc.lineAt(r?r.posAtEnd:t),s=r?r.posAtStart:o.from,a=r?r.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,N.range(s,a)}}var KD=(n,t)=>n>=t.top&&n<=t.bottom,jC=(n,t,i)=>KD(t,i)&&n>=i.left&&n<=i.right;function $3(n,t,i,e){let r=ui.find(n.docView,t);if(!r)return 1;let o=t-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&jC(i,e,s))return-1;let a=r.coordsAt(o,1);return a&&jC(i,e,a)?1:s&&KD(e,s)?-1:1}function HC(n,t){let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:i,bias:$3(n,i,t.clientX,t.clientY)}}var Y3=et.ie&&et.ie_version<=11,UC=null,WC=0,$C=0;function XD(n){if(!Y3)return n.detail;let t=UC,i=$C;return UC=n,$C=Date.now(),WC=!t||i>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(WC+1)%3:1}function q3(n,t){let i=HC(n,t),e=XD(t),r=n.state.selection;return{update(o){o.docChanged&&(i.pos=o.changes.mapPos(i.pos),r=r.map(o.changes))},get(o,s,a){let d=HC(n,o),h,m=zC(n,d.pos,d.bias,e);if(i.pos!=d.pos&&!s){let f=zC(n,i.pos,i.bias,e),g=Math.min(f.from,m.from),_=Math.max(f.to,m.to);m=g<m.from?N.range(g,_):N.range(_,g)}return s?r.replaceRange(r.main.extend(m.from,m.to)):a&&e==1&&r.ranges.length>1&&(h=G3(r,d.pos))?h:a?r.addRange(m):N.create([m])}}}function G3(n,t){for(let i=0;i<n.ranges.length;i++){let{from:e,to:r}=n.ranges[i];if(e<=t&&r>=t)return N.create(n.ranges.slice(0,i).concat(n.ranges.slice(i+1)),n.mainIndex==i?0:n.mainIndex-(n.mainIndex>i?1:0))}return null}er.dragstart=(n,t)=>{let{selection:{main:i}}=n.state;if(t.target.draggable){let r=n.docView.nearest(t.target);if(r&&r.isWidget){let o=r.posAtStart,s=o+r.length;(o>=i.to||s<=i.from)&&(i=N.range(o,s))}}let{inputState:e}=n;return e.mouseSelection&&(e.mouseSelection.dragging=!0),e.draggedContent=i,t.dataTransfer&&(t.dataTransfer.setData("Text",n.state.sliceDoc(i.from,i.to)),t.dataTransfer.effectAllowed="copyMove"),!1};er.dragend=n=>(n.inputState.draggedContent=null,!1);function YC(n,t,i,e){if(!i)return;let r=n.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=n.inputState,s=e&&o&&j3(n,t)?{from:o.from,to:o.to}:null,a={from:r,insert:i},d=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:d,selection:{anchor:d.mapPos(r,-1),head:d.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}er.drop=(n,t)=>{if(!t.dataTransfer)return!1;if(n.state.readOnly)return!0;let i=t.dataTransfer.files;if(i&&i.length){let e=Array(i.length),r=0,o=()=>{++r==i.length&&YC(n,t,e.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<i.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(e[s]=a.result),o()},a.readAsText(i[s])}return!0}else{let e=t.dataTransfer.getData("Text");if(e)return YC(n,t,e,!0),!0}return!1};er.paste=(n,t)=>{if(n.state.readOnly)return!0;n.observer.flush();let i=qD?null:t.clipboardData;return i?(GD(n,i.getData("text/plain")||i.getData("text/uri-list")),!0):(W3(n),!1)};function K3(n,t){let i=n.dom.parentNode;if(!i)return;let e=i.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.value=t,e.focus(),e.selectionEnd=t.length,e.selectionStart=0,setTimeout(()=>{e.remove(),n.focus()},50)}function X3(n){let t=[],i=[],e=!1;for(let r of n.selection.ranges)r.empty||(t.push(n.sliceDoc(r.from,r.to)),i.push(r));if(!t.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(t.push(s.text),i.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}e=!0}return{text:t.join(n.lineBreak),ranges:i,linewise:e}}var w0=null;er.copy=er.cut=(n,t)=>{let{text:i,ranges:e,linewise:r}=X3(n.state);if(!i&&!r)return!1;w0=r?i:null,t.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:e,scrollIntoView:!0,userEvent:"delete.cut"});let o=qD?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",i),!0):(K3(n,i),!1)};var ZD=Hi.define();function QD(n,t){let i=[];for(let e of n.facet(LD)){let r=e(n,t);r&&i.push(r)}return i?n.update({effects:i,annotations:ZD.of(!0)}):null}function JD(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let i=QD(n.state,t);i?n.dispatch(i):n.update([])}},10)}Pn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),JD(n)};Pn.blur=n=>{n.observer.clearSelectionRange(),JD(n)};Pn.compositionstart=Pn.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};Pn.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,et.chrome&&et.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};Pn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};er.beforeinput=(n,t)=>{var i;let e;if(et.chrome&&et.android&&(e=$D.find(r=>r.inputType==t.inputType))&&(n.observer.delayAndroidKey(e.key,e.keyCode),e.key=="Backspace"||e.key=="Delete")){let r=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return et.ios&&t.inputType=="deleteContentForward"&&n.observer.flushSoon(),et.safari&&t.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Pn.compositionend(n,t),20),!1};var qC=new Set;function Z3(n){qC.has(n)||(qC.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}var GC=["pre-wrap","normal","pre-line","break-spaces"],k0=class{constructor(t){this.lineWrapping=t,this.doc=Xt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,i){let e=this.doc.lineAt(i).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(e+=Math.max(0,Math.ceil((i-t-e*this.lineLength*.5)/this.lineLength))),this.lineHeight*e}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return GC.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let i=!1;for(let e=0;e<t.length;e++){let r=t[e];r<0?e++:this.heightSamples[Math.floor(r*10)]||(i=!0,this.heightSamples[Math.floor(r*10)]=!0)}return i}refresh(t,i,e,r,o,s){let a=GC.indexOf(t)>-1,d=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=i,this.charWidth=e,this.textHeight=r,this.lineLength=o,d){this.heightSamples={};for(let h=0;h<s.length;h++){let m=s[h];m<0?h++:this.heightSamples[Math.floor(m*10)]=!0}}return d}},C0=class{constructor(t,i){this.from=t,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}},xr=class n{constructor(t,i,e,r,o){this.from=t,this.length=i,this.top=e,this.height=r,this._content=o}get type(){return typeof this._content=="number"?Ri.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ro?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new n(this.from,this.length+t.length,this.top,this.height+t.height,i)}},De=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(De||(De={})),Wu=.001,dn=class n{constructor(t,i,e=2){this.length=t,this.height=i,this.flags=e}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,i){this.height!=i&&(Math.abs(this.height-i)>Wu&&(t.heightChanged=!0),this.height=i)}replace(t,i,e){return n.of(e)}decomposeLeft(t,i){i.push(this)}decomposeRight(t,i){i.push(this)}applyChanges(t,i,e,r){let o=this,s=e.doc;for(let a=r.length-1;a>=0;a--){let{fromA:d,toA:h,fromB:m,toB:f}=r[a],g=o.lineAt(d,De.ByPosNoHeight,e.setDoc(i),0,0),_=g.to>=h?g:o.lineAt(h,De.ByPosNoHeight,e,0,0);for(f+=_.to-h,h=_.to;a>0&&g.from<=r[a-1].toA;)d=r[a-1].fromA,m=r[a-1].fromB,a--,d<g.from&&(g=o.lineAt(d,De.ByPosNoHeight,e,0,0));m+=g.from-d,d=g.from;let y=S0.build(e.setDoc(s),t,m,f);o=o.replace(d,h,y)}return o.updateHeight(e,0)}static empty(){return new Fn(0,0)}static of(t){if(t.length==1)return t[0];let i=0,e=t.length,r=0,o=0;for(;;)if(i==e)if(r>o*2){let a=t[i-1];a.break?t.splice(--i,1,a.left,null,a.right):t.splice(--i,1,a.left,a.right),e+=1+a.break,r-=a.size}else if(o>r*2){let a=t[e];a.break?t.splice(e,1,a.left,null,a.right):t.splice(e,1,a.left,a.right),e+=2+a.break,o-=a.size}else break;else if(r<o){let a=t[i++];a&&(r+=a.size)}else{let a=t[--e];a&&(o+=a.size)}let s=0;return t[i-1]==null?(s=1,i--):t[i]==null&&(s=1,e++),new D0(n.of(t.slice(0,i)),s,n.of(t.slice(e)))}};dn.prototype.size=1;var em=class extends dn{constructor(t,i,e){super(t,i),this.deco=e}blockAt(t,i,e,r){return new xr(r,this.length,e,this.height,this.deco||0)}lineAt(t,i,e,r,o){return this.blockAt(0,e,r,o)}forEachLine(t,i,e,r,o,s){t<=o+this.length&&i>=o&&s(this.blockAt(0,e,r,o))}updateHeight(t,i=0,e=!1,r){return r&&r.from<=i&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},Fn=class n extends em{constructor(t,i){super(t,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,i,e,r){return new xr(r,this.length,e,this.height,this.breaks)}replace(t,i,e){let r=e[0];return e.length==1&&(r instanceof n||r instanceof Io&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Io?r=new n(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):dn.of(e)}updateHeight(t,i=0,e=!1,r){return r&&r.from<=i&&r.more?this.setHeight(t,r.heights[r.index++]):(e||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Io=class n extends dn{constructor(t){super(t,0)}heightMetrics(t,i){let e=t.doc.lineAt(i).number,r=t.doc.lineAt(i+this.length).number,o=r-e+1,s,a=0;if(t.lineWrapping){let d=Math.min(this.height,t.lineHeight*o);s=d/o,this.length>o+1&&(a=(this.height-d)/(this.length-o-1))}else s=this.height/o;return{firstLine:e,lastLine:r,perLine:s,perChar:a}}blockAt(t,i,e,r){let{firstLine:o,lastLine:s,perLine:a,perChar:d}=this.heightMetrics(i,r);if(i.lineWrapping){let h=r+(t<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-e)/this.height))*this.length)),m=i.doc.lineAt(h),f=a+m.length*d,g=Math.max(e,t-f/2);return new xr(m.from,m.length,g,f,0)}else{let h=Math.max(0,Math.min(s-o,Math.floor((t-e)/a))),{from:m,length:f}=i.doc.line(o+h);return new xr(m,f,e+a*h,a,0)}}lineAt(t,i,e,r,o){if(i==De.ByHeight)return this.blockAt(t,e,r,o);if(i==De.ByPosNoHeight){let{from:_,to:y}=e.doc.lineAt(t);return new xr(_,y-_,0,0,0)}let{firstLine:s,perLine:a,perChar:d}=this.heightMetrics(e,o),h=e.doc.lineAt(t),m=a+h.length*d,f=h.number-s,g=r+a*f+d*(h.from-o-f);return new xr(h.from,h.length,Math.max(r,Math.min(g,r+this.height-m)),m,0)}forEachLine(t,i,e,r,o,s){t=Math.max(t,o),i=Math.min(i,o+this.length);let{firstLine:a,perLine:d,perChar:h}=this.heightMetrics(e,o);for(let m=t,f=r;m<=i;){let g=e.doc.lineAt(m);if(m==t){let y=g.number-a;f+=d*y+h*(t-o-y)}let _=d+h*g.length;s(new xr(g.from,g.length,f,_,0)),f+=_,m=g.to+1}}replace(t,i,e){let r=this.length-i;if(r>0){let o=e[e.length-1];o instanceof n?e[e.length-1]=new n(o.length+r):e.push(null,new n(r-1))}if(t>0){let o=e[0];o instanceof n?e[0]=new n(t+o.length):e.unshift(new n(t-1),null)}return dn.of(e)}decomposeLeft(t,i){i.push(new n(t-1),null)}decomposeRight(t,i){i.push(null,new n(this.length-t-1))}updateHeight(t,i=0,e=!1,r){let o=i+this.length;if(r&&r.from<=i+this.length&&r.more){let s=[],a=Math.max(i,r.from),d=-1;for(r.from>i&&s.push(new n(r.from-i-1).updateHeight(t,i));a<=o&&r.more;){let m=t.doc.lineAt(a).length;s.length&&s.push(null);let f=r.heights[r.index++];d==-1?d=f:Math.abs(f-d)>=Wu&&(d=-2);let g=new Fn(m,f);g.outdated=!1,s.push(g),a+=m+1}a<=o&&s.push(null,new n(o-a).updateHeight(t,a));let h=dn.of(s);return(d<0||Math.abs(h.height-this.height)>=Wu||Math.abs(d-this.heightMetrics(t,i).perLine)>=Wu)&&(t.heightChanged=!0),h}else(e||this.outdated)&&(this.setHeight(t,t.heightForGap(i,i+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},D0=class extends dn{constructor(t,i,e){super(t.length+i+e.length,t.height+e.height,i|(t.outdated||e.outdated?2:0)),this.left=t,this.right=e,this.size=t.size+e.size}get break(){return this.flags&1}blockAt(t,i,e,r){let o=e+this.left.height;return t<o?this.left.blockAt(t,i,e,r):this.right.blockAt(t,i,o,r+this.left.length+this.break)}lineAt(t,i,e,r,o){let s=r+this.left.height,a=o+this.left.length+this.break,d=i==De.ByHeight?t<s:t<a,h=d?this.left.lineAt(t,i,e,r,o):this.right.lineAt(t,i,e,s,a);if(this.break||(d?h.to<a:h.from>a))return h;let m=i==De.ByPosNoHeight?De.ByPosNoHeight:De.ByPos;return d?h.join(this.right.lineAt(a,m,e,s,a)):this.left.lineAt(a,m,e,r,o).join(h)}forEachLine(t,i,e,r,o,s){let a=r+this.left.height,d=o+this.left.length+this.break;if(this.break)t<d&&this.left.forEachLine(t,i,e,r,o,s),i>=d&&this.right.forEachLine(t,i,e,a,d,s);else{let h=this.lineAt(d,De.ByPos,e,r,o);t<h.from&&this.left.forEachLine(t,h.from-1,e,r,o,s),h.to>=t&&h.from<=i&&s(h),i>h.to&&this.right.forEachLine(h.to+1,i,e,a,d,s)}}replace(t,i,e){let r=this.left.length+this.break;if(i<r)return this.balanced(this.left.replace(t,i,e),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,i-r,e));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let a of e)o.push(a);if(t>0&&KC(o,s-1),i<this.length){let a=o.length;this.decomposeRight(i,o),KC(o,a)}return dn.of(o)}decomposeLeft(t,i){let e=this.left.length;if(t<=e)return this.left.decomposeLeft(t,i);i.push(this.left),this.break&&(e++,t>=e&&i.push(null)),t>e&&this.right.decomposeLeft(t-e,i)}decomposeRight(t,i){let e=this.left.length,r=e+this.break;if(t>=r)return this.right.decomposeRight(t-r,i);t<e&&this.left.decomposeRight(t,i),this.break&&t<r&&i.push(null),i.push(this.right)}balanced(t,i){return t.size>2*i.size||i.size>2*t.size?dn.of(this.break?[t,null,i]:[t,i]):(this.left=t,this.right=i,this.height=t.height+i.height,this.outdated=t.outdated||i.outdated,this.size=t.size+i.size,this.length=t.length+this.break+i.length,this)}updateHeight(t,i=0,e=!1,r){let{left:o,right:s}=this,a=i+o.length+this.break,d=null;return r&&r.from<=i+o.length&&r.more?d=o=o.updateHeight(t,i,e,r):o.updateHeight(t,i,e),r&&r.from<=a+s.length&&r.more?d=s=s.updateHeight(t,a,e,r):s.updateHeight(t,a,e),d?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function KC(n,t){let i,e;n[t]==null&&(i=n[t-1])instanceof Io&&(e=n[t+1])instanceof Io&&n.splice(t-1,3,new Io(i.length+1+e.length))}var Q3=5,S0=class n{constructor(t,i){this.pos=t,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,i){if(this.lineStart>-1){let e=Math.min(i,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Fn?r.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Fn(e-this.pos,-1)),this.writtenTo=e,i>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(t,i,e){if(t<i||e.heightRelevant){let r=e.widget?e.widget.estimatedHeight:0,o=e.widget?e.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=i-t;e.block?this.addBlock(new em(s,r,e)):(s||o||r>=Q3)&&this.addLineDeco(r,o,s)}else i>t&&this.span(t,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=i,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Fn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,i){let e=new Io(i-t);return this.oracle.doc.lineAt(t).to==i&&(e.flags|=4),e}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Fn)return t;let i=new Fn(0,-1);return this.nodes.push(i),i}addBlock(t){this.enterLine();let i=t.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,i&&i.endSide>0&&(this.covering=t)}addLineDeco(t,i,e){let r=this.ensureLine();r.length+=e,r.collapsed+=e,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=i,this.writtenTo=this.pos=this.pos+e}finish(t){let i=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(i instanceof Fn)&&!this.isCovered?this.nodes.push(new Fn(0,-1)):(this.writtenTo<this.pos||i==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let e=t;for(let r of this.nodes)r instanceof Fn&&r.updateHeight(this.oracle,e),e+=r?r.length:1;return this.nodes}static build(t,i,e,r){let o=new n(e,t);return we.spans(i,e,r,o,0),o.finish(e)}};function J3(n,t,i){let e=new A0;return we.compare(n,t,i,e,0),e.changes}var A0=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,i,e,r){(t<i||e&&e.heightRelevant||r&&r.heightRelevant)&&m0(t,i,this.changes,5)}};function tz(n,t){let i=n.getBoundingClientRect(),e=n.ownerDocument,r=e.defaultView||window,o=Math.max(0,i.left),s=Math.min(r.innerWidth,i.right),a=Math.max(0,i.top),d=Math.min(r.innerHeight,i.bottom);for(let h=n.parentNode;h&&h!=e.body;)if(h.nodeType==1){let m=h,f=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&f.overflow!="visible"){let g=m.getBoundingClientRect();o=Math.max(o,g.left),s=Math.min(s,g.right),a=Math.max(a,g.top),d=h==n.parentNode?g.bottom:Math.min(d,g.bottom)}h=f.position=="absolute"||f.position=="fixed"?m.offsetParent:m.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:o-i.left,right:Math.max(o,s)-i.left,top:a-(i.top+t),bottom:Math.max(a,d)-(i.top+t)}}function ez(n,t){let i=n.getBoundingClientRect();return{left:0,right:i.right-i.left,top:t,bottom:i.bottom-(i.top+t)}}var Bc=class{constructor(t,i,e){this.from=t,this.to=i,this.size=e}static same(t,i){if(t.length!=i.length)return!1;for(let e=0;e<t.length;e++){let r=t[e],o=i[e];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(t,i){return st.replace({widget:new E0(this.size*(i?t.scaleY:t.scaleX),i)}).range(this.from,this.to)}},E0=class extends Ui{constructor(t,i){super(),this.size=t,this.vertical=i}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},im=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=XC,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=me.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=t.facet(b0).some(e=>typeof e!="function"&&e.class=="cm-lineWrapping");this.heightOracle=new k0(i),this.stateDeco=t.facet(Yc).filter(e=>typeof e!="function"),this.heightMap=dn.empty().applyChanges(this.stateDeco,Xt.empty,this.heightOracle.setDoc(t.doc),[new kr(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=st.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:i}=this.state.selection;for(let e=0;e<=1;e++){let r=e?i.head:i.anchor;if(!t.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);t.push(new La(o,s))}}this.viewports=t.sort((e,r)=>e.from-r.from),this.scaler=this.heightMap.height<=7e6?XC:new M0(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:Rc(t,this.scaler))})}update(t,i=null){this.state=t.state;let e=this.stateDeco;this.stateDeco=this.state.facet(Yc).filter(m=>typeof m!="function");let r=t.changedRanges,o=kr.extendWithRanges(r,J3(e,this.stateDeco,t?t.changes:Ii.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let d=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(i&&(i.range.head<d.from||i.range.head>d.to)||!this.viewportIsAppropriate(d))&&(d=this.getViewport(0,i));let h=!t.changes.empty||t.flags&2||d.from!=this.viewport.from||d.to!=this.viewport.to;this.viewport=d,this.updateForViewport(),h&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(ND)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let i=t.contentDOM,e=window.getComputedStyle(i),r=this.heightOracle,o=e.whiteSpace;this.defaultTextDirection=e.direction=="rtl"?me.RTL:me.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=i.getBoundingClientRect(),d=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let h=0,m=0;if(a.width&&a.height){let{scaleX:W,scaleY:V}=uD(i,a);(W>.005&&Math.abs(this.scaleX-W)>.005||V>.005&&Math.abs(this.scaleY-V)>.005)&&(this.scaleX=W,this.scaleY=V,h|=8,s=d=!0)}let f=(parseInt(e.paddingTop)||0)*this.scaleY,g=(parseInt(e.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=g)&&(this.paddingTop=f,this.paddingBottom=g,h|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(d=!0),this.editorWidth=t.scrollDOM.clientWidth,h|=8);let _=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=_&&(this.scrollAnchorHeight=-1,this.scrollTop=_),this.scrolledToBottom=pD(t.scrollDOM);let y=(this.printing?ez:tz)(i,this.paddingTop),k=y.top-this.pixelViewport.top,S=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let M=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(M!=this.inView&&(this.inView=M,M&&(d=!0)),!this.inView&&!this.scrollTarget)return 0;let B=a.width;if((this.contentDOMWidth!=B||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,h|=8),d){let W=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(W)&&(s=!0),s||r.lineWrapping&&Math.abs(B-this.contentDOMWidth)>r.charWidth){let{lineHeight:V,charWidth:G,textHeight:X}=t.docView.measureTextSize();s=V>0&&r.refresh(o,V,G,X,B/G,W),s&&(t.docView.minWidth=0,h|=8)}k>0&&S>0?m=Math.max(k,S):k<0&&S<0&&(m=Math.min(k,S)),r.heightChanged=!1;for(let V of this.viewports){let G=V.from==this.viewport.from?W:t.docView.measureVisibleLineHeights(V);this.heightMap=(s?dn.empty().applyChanges(this.stateDeco,Xt.empty,this.heightOracle,[new kr(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new C0(V.from,G))}r.heightChanged&&(h|=2)}let U=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return U&&(this.viewport=this.getViewport(m,this.scrollTarget)),this.updateForViewport(),(h&2||U)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,i){let e=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,d=new La(r.lineAt(s-e*1e3,De.ByHeight,o,0,0).from,r.lineAt(a+(1-e)*1e3,De.ByHeight,o,0,0).to);if(i){let{head:h}=i.range;if(h<d.from||h>d.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(h,De.ByPos,o,0,0),g;i.y=="center"?g=(f.top+f.bottom)/2-m/2:i.y=="start"||i.y=="nearest"&&h<d.from?g=f.top:g=f.bottom-m,d=new La(r.lineAt(g-1e3/2,De.ByHeight,o,0,0).from,r.lineAt(g+m+1e3/2,De.ByHeight,o,0,0).to)}}return d}mapViewport(t,i){let e=i.mapPos(t.from,-1),r=i.mapPos(t.to,1);return new La(this.heightMap.lineAt(e,De.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,De.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:i},e=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,De.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(i,De.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(t==0||r<=s-Math.max(10,Math.min(-e,250)))&&(i==this.state.doc.length||o>=a+Math.max(10,Math.min(e,250)))&&r>s-2*1e3&&o<a+2*1e3}mapLineGaps(t,i){if(!t.length||i.empty)return t;let e=[];for(let r of t)i.touchesRange(r.from,r.to)||e.push(new Bc(i.mapPos(r.from),i.mapPos(r.to),r.size));return e}ensureLineGaps(t,i){let e=this.heightOracle.lineWrapping,r=e?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=me.LTR&&!e)return[];let a=[],d=(h,m,f,g)=>{if(m-h<o)return;let _=this.state.selection.main,y=[_.from];_.empty||y.push(_.to);for(let S of y)if(S>h&&S<m){d(h,S-10,f,g),d(S+10,m,f,g);return}let k=nz(t,S=>S.from>=f.from&&S.to<=f.to&&Math.abs(S.from-h)<o&&Math.abs(S.to-m)<o&&!y.some(M=>S.from<M&&S.to>M));if(!k){if(m<f.to&&i&&e&&i.visibleRanges.some(S=>S.from<=m&&S.to>=m)){let S=i.moveToLineBoundary(N.cursor(m),!1,!0).head;S>h&&(m=S)}k=new Bc(h,m,this.gapSize(f,h,m,g))}a.push(k)};for(let h of this.viewportLines){if(h.length<s)continue;let m=iz(h.from,h.to,this.stateDeco);if(m.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,g,_;if(e){let y=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,S;if(f!=null){let M=Vu(m,f),B=((this.visibleBottom-this.visibleTop)/2+y)/h.height;k=M-B,S=M+B}else k=(this.visibleTop-h.top-y)/h.height,S=(this.visibleBottom-h.top+y)/h.height;g=Nu(m,k),_=Nu(m,S)}else{let y=m.total*this.heightOracle.charWidth,k=r*this.heightOracle.charWidth,S,M;if(f!=null){let B=Vu(m,f),U=((this.pixelViewport.right-this.pixelViewport.left)/2+k)/y;S=B-U,M=B+U}else S=(this.pixelViewport.left-k)/y,M=(this.pixelViewport.right+k)/y;g=Nu(m,S),_=Nu(m,M)}g>h.from&&d(h.from,g,h,m),_<h.to&&d(_,h.to,h,m)}return a}gapSize(t,i,e,r){let o=Vu(r,e)-Vu(r,i);return this.heightOracle.lineWrapping?t.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(t){Bc.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=st.set(t.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];we.spans(t,this.viewport.from,this.viewport.to,{span(r,o){i.push({from:r,to:o})},point(){}},20);let e=i.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=i[o].from||r.to!=i[o].to);return this.visibleRanges=i,e?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(i=>i.from<=t&&i.to>=t)||Rc(this.heightMap.lineAt(t,De.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return Rc(this.heightMap.lineAt(this.scaler.fromDOM(t),De.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let i=this.lineBlockAtHeight(t+8);return i.from>=this.viewport.from||this.viewportLines[0].top-t>200?i:this.viewportLines[0]}elementAtHeight(t){return Rc(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},La=class{constructor(t,i){this.from=t,this.to=i}};function iz(n,t,i){let e=[],r=n,o=0;return we.spans(i,n,t,{span(){},point(s,a){s>r&&(e.push({from:r,to:s}),o+=s-r),r=a}},20),r<t&&(e.push({from:r,to:t}),o+=t-r),{total:o,ranges:e}}function Nu({total:n,ranges:t},i){if(i<=0)return t[0].from;if(i>=1)return t[t.length-1].to;let e=Math.floor(n*i);for(let r=0;;r++){let{from:o,to:s}=t[r],a=s-o;if(e<=a)return o+e;e-=a}}function Vu(n,t){let i=0;for(let{from:e,to:r}of n.ranges){if(t<=r){i+=t-e;break}i+=r-e}return i/n.total}function nz(n,t){for(let i of n)if(t(i))return i}var XC={toDOM(n){return n},fromDOM(n){return n},scale:1},M0=class{constructor(t,i,e){let r=0,o=0,s=0;this.viewports=e.map(({from:a,to:d})=>{let h=i.lineAt(a,De.ByPos,t,0,0).top,m=i.lineAt(d,De.ByPos,t,0,0).bottom;return r+=m-h,{from:a,to:d,top:h,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(i.height-r);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(t){for(let i=0,e=0,r=0;;i++){let o=i<this.viewports.length?this.viewports[i]:null;if(!o||t<o.top)return r+(t-e)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);e=o.bottom,r=o.domBottom}}fromDOM(t){for(let i=0,e=0,r=0;;i++){let o=i<this.viewports.length?this.viewports[i]:null;if(!o||t<o.domTop)return e+(t-r)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);e=o.bottom,r=o.domBottom}}};function Rc(n,t){if(t.scale==1)return n;let i=t.toDOM(n.top),e=t.toDOM(n.bottom);return new xr(n.from,n.length,i,e-i,Array.isArray(n._content)?n._content.map(r=>Rc(r,t)):n._content)}var Bu=Q.define({combine:n=>n.join(" ")}),e0=Q.define({combine:n=>n.indexOf(!0)>-1}),I0=On.newName(),tS=On.newName(),eS=On.newName(),iS={"&light":"."+tS,"&dark":"."+eS};function T0(n,t,i){return new On(t,{finish(e){return/&/.test(e)?e.replace(/&\w*/,r=>{if(r=="&")return n;if(!i||!i[r])throw new RangeError(`Unsupported selector: ${r}`);return i[r]}):n+" "+e}})}var rz=T0("."+I0,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},iS),Oc="\uFFFF",R0=class{constructor(t,i){this.points=t,this.text="",this.lineSeparator=i.facet(oi.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Oc}readRange(t,i){if(!t)return this;let e=t.parentNode;for(let r=t;;){this.findPointBefore(e,r);let o=this.text.length;this.readNode(r);let s=r.nextSibling;if(s==i)break;let a=ke.get(r),d=ke.get(s);(a&&d?a.breakAfter:(a?a.breakAfter:Ku(r))||Ku(s)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=s}return this.findPointBefore(e,i),this}readTextNode(t){let i=t.nodeValue;for(let e of this.points)e.node==t&&(e.pos=this.text.length+Math.min(e.offset,i.length));for(let e=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=i.indexOf(this.lineSeparator,e),s=this.lineSeparator.length):(a=r.exec(i))&&(o=a.index,s=a[0].length),this.append(i.slice(e,o<0?i.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let d of this.points)d.node==t&&d.pos>this.text.length&&(d.pos-=s-1);e=o+s}}readNode(t){if(t.cmIgnore)return;let i=ke.get(t),e=i&&i.overrideDOMText;if(e!=null){this.findPointInside(t,e.length);for(let r=e.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,i){for(let e of this.points)e.node==t&&t.childNodes[e.offset]==i&&(e.pos=this.text.length)}findPointInside(t,i){for(let e of this.points)(t.nodeType==3?e.node==t:t.contains(e.node))&&(e.pos=this.text.length+(oz(t,e.node,e.offset)?i:0))}};function oz(n,t,i){for(;;){if(!t||i<Qr(t))return!1;if(t==n)return!0;i=ws(t)+1,t=t.parentNode}}var nm=class{constructor(t,i){this.node=t,this.offset=i,this.pos=-1}},O0=class{constructor(t,i,e,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=t.docView.domBoundsAround(i,e,0))){let a=o||s?[]:lz(t),d=new R0(a,t.state);d.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=d.text,this.newSel=cz(a,this.bounds.from)}else{let a=t.observer.selectionRange,d=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!s0(t.contentDOM,a.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(a.focusNode,a.focusOffset),h=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!s0(t.contentDOM,a.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(a.anchorNode,a.anchorOffset),m=t.viewport;if((et.ios||et.chrome)&&t.state.selection.main.empty&&d!=h&&(m.from>0||m.to<t.state.doc.length)){let f=Math.min(d,h),g=Math.max(d,h),_=m.from-f,y=m.to-g;(_==0||_==1||f==0)&&(y==0||y==-1||g==t.state.doc.length)&&(d=0,h=t.state.doc.length)}this.newSel=N.single(h,d)}}};function nS(n,t){let i,{newSel:e}=t,r=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:a}=t.bounds,d=r.from,h=null;(o===8||et.android&&t.text.length<a-s)&&(d=r.to,h="end");let m=az(n.state.doc.sliceString(s,a,Oc),t.text,d-s,h);m&&(et.chrome&&o==13&&m.toB==m.from+2&&t.text.slice(m.from,m.toB)==Oc+Oc&&m.toB--,i={from:s+m.from,to:s+m.toA,insert:Xt.of(t.text.slice(m.from,m.toB).split(Oc))})}else e&&(!n.hasFocus&&n.state.facet(Zu)||e.main.eq(r))&&(e=null);if(!i&&!e)return!1;if(!i&&t.typeOver&&!r.empty&&e&&e.main.empty?i={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:i&&i.from>=r.from&&i.to<=r.to&&(i.from!=r.from||i.to!=r.to)&&r.to-r.from-(i.to-i.from)<=4?i={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,i.from).append(i.insert).append(n.state.doc.slice(i.to,r.to))}:(et.mac||et.android)&&i&&i.from==i.to&&i.from==r.head-1&&/^\. ?$/.test(i.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(e&&i.insert.length==2&&(e=N.single(e.main.anchor-1,e.main.head-1)),i={from:r.from,to:r.to,insert:Xt.of([" "])}):et.chrome&&i&&i.from==i.to&&i.from==r.head&&i.insert.toString()==`
 `&&n.lineWrapping&&(e&&(e=N.single(e.main.anchor-1,e.main.head-1)),i={from:r.from,to:r.to,insert:Xt.of([" "])}),i){if(et.ios&&n.inputState.flushIOSKey(i)||et.android&&(i.to==r.to&&(i.from==r.from||i.from==r.from-1&&n.state.sliceDoc(i.from,r.from)==" ")&&i.insert.length==1&&i.insert.lines==2&&Ba(n.contentDOM,"Enter",13)||(i.from==r.from-1&&i.to==r.to&&i.insert.length==0||o==8&&i.insert.length<i.to-i.from&&i.to>r.head)&&Ba(n.contentDOM,"Backspace",8)||i.from==r.from&&i.to==r.to+1&&i.insert.length==0&&Ba(n.contentDOM,"Delete",46)))return!0;let s=i.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,d=()=>a||(a=sz(n,i,e));return n.state.facet(PD).some(h=>h(n,i.from,i.to,s,d))||n.dispatch(d()),!0}else if(e&&!e.main.eq(r)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:e,scrollIntoView:s,userEvent:a}),!0}else return!1}function sz(n,t,i){let e,r=n.state,o=r.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let a=o.from<t.from?r.sliceDoc(o.from,t.from):"",d=o.to>t.to?r.sliceDoc(t.to,o.to):"";e=r.replaceSelection(n.state.toText(a+t.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let a=r.changes(t),d=i&&i.main.to<=a.newLength?i.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let h=n.state.sliceDoc(t.from,t.to),m,f=i&&UD(n,i.main.head);if(f){let y=t.insert.length-(t.to-t.from);m={from:f.from,to:f.to-y}}else m=n.state.doc.lineAt(o.head);let g=o.to-t.to,_=o.to-o.from;e=r.changeByRange(y=>{if(y.from==o.from&&y.to==o.to)return{changes:a,range:d||y.map(a)};let k=y.to-g,S=k-h.length;if(y.to-y.from!=_||n.state.sliceDoc(S,k)!=h||y.to>=m.from&&y.from<=m.to)return{range:y};let M=r.changes({from:S,to:k,insert:t.insert}),B=y.to-o.to;return{changes:M,range:d?N.range(Math.max(0,d.anchor+B),Math.max(0,d.head+B)):y.map(M)}})}else e={changes:a,selection:d&&r.selection.replaceRange(d)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),r.update(e,{userEvent:s,scrollIntoView:!0})}function az(n,t,i,e){let r=Math.min(n.length,t.length),o=0;for(;o<r&&n.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&n.length==t.length)return null;let s=n.length,a=t.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if(e=="end"){let d=Math.max(0,o-Math.min(s,a));i-=s+d-o}if(s<o&&n.length<t.length){let d=i<=o&&i>=s?o-i:0;o-=d,a=o+(a-s),s=o}else if(a<o){let d=i<=o&&i>=a?o-i:0;o-=d,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function lz(n){let t=[];if(n.root.activeElement!=n.contentDOM)return t;let{anchorNode:i,anchorOffset:e,focusNode:r,focusOffset:o}=n.observer.selectionRange;return i&&(t.push(new nm(i,e)),(r!=i||o!=e)&&t.push(new nm(r,o))),t}function cz(n,t){if(n.length==0)return null;let i=n[0].pos,e=n.length==2?n[1].pos:i;return i>-1&&e>-1?N.single(i+t,e+t):null}var dz={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},i0=et.ie&&et.ie_version<=11,F0=class{constructor(t){this.view=t,this.active=!1,this.selectionRange=new a0,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(i=>{for(let e of i)this.queue.push(e);(et.ie&&et.ie_version<=11||et.ios&&t.composing)&&i.some(e=>e.type=="childList"&&e.removedNodes.length||e.type=="characterData"&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),i0&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var i;((i=this.view.docView)===null||i===void 0?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){t.type=="change"&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((i,e)=>i!=t[e]))){this.gapIntersection.disconnect();for(let i of t)this.gapIntersection.observe(i);this.gaps=t}}onSelectionChange(t){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:e}=this,r=this.selectionRange;if(e.state.facet(Zu)?e.root.activeElement!=this.dom:!Hu(e.dom,r))return;let o=r.anchorNode&&e.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(t)){i||(this.selectionChanged=!1);return}(et.ie&&et.ie_version<=11||et.android&&et.chrome)&&!e.state.selection.main.empty&&r.focusNode&&Pc(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,i=Gu(t.root);if(!i)return!1;let e=et.safari&&t.root.nodeType==11&&e3(this.dom.ownerDocument)==this.dom&&hz(this.view,i)||i;if(!e||this.selectionRange.eq(e))return!1;let r=Hu(this.dom,e);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&s3(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,i){this.selectionRange.set(t.node,t.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,i=null;for(let e=this.dom;e;)if(e.nodeType==1)!i&&t<this.scrollTargets.length&&this.scrollTargets[t]==e?t++:i||(i=this.scrollTargets.slice(0,t)),i&&i.push(e),e=e.assignedSlot||e.parentNode;else if(e.nodeType==11)e=e.host;else break;if(t<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,t)),i){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=i)e.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dz),i0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),i0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,i){var e;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ba(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:i,force:this.lastChange<Date.now()-50||!!(!((e=this.delayedAndroidKey)===null||e===void 0)&&e.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let i=-1,e=-1,r=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),i==-1?{from:i,to:e}=s:(i=Math.min(s.from,i),e=Math.max(s.to,e)))}return{from:i,to:e,typeOver:r}}readChange(){let{from:t,to:i,typeOver:e}=this.processRecords(),r=this.selectionChanged&&Hu(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new O0(this.view,t,i,e);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let e=this.view.state,r=nS(this.view,i);return this.view.state==e&&this.view.update([]),r}readMutation(t){let i=this.view.docView.nearest(t.target);if(!i||i.ignoreMutation(t))return null;if(i.markDirty(t.type=="attributes"),t.type=="attributes"&&(i.flags|=4),t.type=="childList"){let e=ZC(i,t.previousSibling||t.target.previousSibling,-1),r=ZC(i,t.nextSibling||t.target.nextSibling,1);return{from:e?i.posAfter(e):i.posAtStart,to:r?i.posBefore(r):i.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,i,e;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(i=this.gapIntersection)===null||i===void 0||i.disconnect(),(e=this.resizeScroll)===null||e===void 0||e.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}};function ZC(n,t,i){for(;t;){let e=ke.get(t);if(e&&e.parent==n)return e;let r=t.parentNode;t=r!=n.dom?r:i>0?t.nextSibling:t.previousSibling}return null}function QC(n,t){let i=t.startContainer,e=t.startOffset,r=t.endContainer,o=t.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Pc(s.node,s.offset,r,o)&&([i,e,r,o]=[r,o,i,e]),{anchorNode:i,anchorOffset:e,focusNode:r,focusOffset:o}}function hz(n,t){if(t.getComposedRanges){let r=t.getComposedRanges(n.root)[0];if(r)return QC(n,r)}let i=null;function e(r){r.preventDefault(),r.stopImmediatePropagation(),i=r.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",e,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",e,!0),i?QC(n,i):null}var vt=(()=>{class n{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(i={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),i.parent&&i.parent.appendChild(this.dom);let{dispatch:e}=i;this.dispatchTransactions=i.dispatchTransactions||e&&(r=>r.forEach(o=>e(o,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=i.root||o3(i.parent)||document,this.viewState=new im(i.state||oi.create(i)),i.scrollTo&&i.scrollTo.is(Fu)&&(this.viewState.scrollTarget=i.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Tc).map(r=>new Vc(r));for(let r of this.plugins)r.update(this);this.observer=new F0(this),this.inputState=new y0(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ju(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...i){let e=i.length==1&&i[0]instanceof ln?i:i.length==1&&Array.isArray(i[0])?i[0]:[this.state.update(...i)];this.dispatchTransactions(e,this)}update(i){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,r=!1,o,s=this.state;for(let _ of i){if(_.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=_.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,d=0,h=null;i.some(_=>_.annotation(ZD))?(this.inputState.notifiedFocused=a,d=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,h=QD(s,a),h||(d=1));let m=this.observer.delayedAndroidKey,f=null;if(m?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(oi.phrases)!=this.state.facet(oi.phrases))return this.setState(s);o=Qu.create(this,s,i),o.flags|=d;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let _ of i){if(g&&(g=g.map(_.changes)),_.scrollIntoView){let{main:y}=_.state.selection;g=new Nc(y.empty?y:N.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of _.effects)y.is(Fu)&&(g=y.value.clip(this.state))}this.viewState.update(o,g),this.bidiCache=rm.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),e=this.docView.update(o),this.state.facet(Mc)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(i),this.docView.updateSelection(e,i.some(_=>_.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(Bu)!=o.state.facet(Bu)&&(this.viewState.mustMeasureContent=!0),(e||r||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!o.empty)for(let _ of this.state.facet(Qb))try{_(o)}catch(y){mi(this.state,y,"update listener")}(h||f)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),f&&!nS(this,f)&&m.force&&Ba(this.contentDOM,m.key,m.keyCode)})}setState(i){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=i;return}this.updateState=2;let e=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new im(i),this.plugins=i.facet(Tc).map(r=>new Vc(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Ju(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(i){let e=i.startState.facet(Tc),r=i.state.facet(Tc);if(e!=r){let o=[];for(let s of r){let a=e.indexOf(s);if(a<0)o.push(new Vc(s));else{let d=this.plugins[a];d.mustUpdate=i,o.push(d)}}for(let s of this.plugins)s.mustUpdate!=i&&s.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=i;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);e!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let i of this.plugins){let e=i.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(r){mi(this.state,r,"doc view update listener")}}}measure(i=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,i&&this.observer.forceFlush();let e=null,r=this.scrollDOM,o=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let d=0;;d++){if(a<0)if(pD(r))s=-1,a=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(o);s=y.from,a=y.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(d>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let m=[];h&4||([this.measureRequests,m]=[m,this.measureRequests]);let f=m.map(y=>{try{return y.read(this)}catch(k){return mi(this.state,k),JC}}),g=Qu.create(this,this.state,[]),_=!1;g.flags|=h,e?e.flags|=h:e=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),_=this.docView.update(g),_&&this.docViewUpdate());for(let y=0;y<m.length;y++)if(f[y]!=JC)try{let k=m[y];k.write&&k.write(f[y],this)}catch(k){mi(this.state,k)}if(_&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let k=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(k>1||k<-1){o=o+k,r.scrollTop=o/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let d of this.state.facet(Qb))d(e)}get themeClasses(){return I0+" "+(this.state.facet(e0)?eS:tS)+" "+this.state.facet(Bu)}updateAttrs(){let i=tD(this,RC,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Zu)?"true":"false",class:"cm-content",style:`${et.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),tD(this,b0,e);let r=this.observer.ignore(()=>{let o=u0(this.contentDOM,this.contentAttrs,e),s=u0(this.dom,this.editorAttrs,i);return o||s});return this.editorAttrs=i,this.contentAttrs=e,r}showAnnouncements(i){let e=!0;for(let r of i)for(let o of r.effects)if(o.is(n.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(Mc);let i=this.state.facet(n.cspNonce);On.mount(this.root,this.styleModules.concat(rz).reverse(),i?{nonce:i}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(i){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),i){if(this.measureRequests.indexOf(i)>-1)return;if(i.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===i.key){this.measureRequests[e]=i;return}}this.measureRequests.push(i)}}plugin(i){let e=this.pluginMap.get(i);return(e===void 0||e&&e.spec!=i)&&this.pluginMap.set(i,e=this.plugins.find(r=>r.spec==i)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(i){return this.readMeasured(),this.viewState.elementAtHeight(i)}lineBlockAtHeight(i){return this.readMeasured(),this.viewState.lineBlockAtHeight(i)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(i){return this.viewState.lineBlockAt(i)}get contentHeight(){return this.viewState.contentHeight}moveByChar(i,e,r){return t0(this,i,VC(this,i,e,r))}moveByGroup(i,e){return t0(this,i,VC(this,i,e,r=>P3(this,i.head,r)))}visualLineSide(i,e){let r=this.bidiSpans(i),o=this.textDirectionAt(i.from),s=r[e?r.length-1:0];return N.cursor(s.side(e,o)+i.from,s.forward(!e,o)?1:-1)}moveToLineBoundary(i,e,r=!0){return F3(this,i,e,r)}moveVertically(i,e,r){return t0(this,i,L3(this,i,e,r))}domAtPos(i){return this.docView.domAtPos(i)}posAtDOM(i,e=0){return this.docView.posFromDOM(i,e)}posAtCoords(i,e=!0){return this.readMeasured(),WD(this,i,e)}coordsAtPos(i,e=1){this.readMeasured();let r=this.docView.coordsAt(i,e);if(!r||r.left==r.right)return r;let o=this.state.doc.lineAt(i),s=this.bidiSpans(o),a=s[wr.find(s,i-o.from,-1,e)];return dm(r,a.dir==me.LTR==e>0)}coordsForChar(i){return this.readMeasured(),this.docView.coordsForChar(i)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(i){return!this.state.facet(TC)||i<this.viewport.from||i>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(i))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(i){if(i.length>uz)return MD(i.length);let e=this.textDirectionAt(i.from),r;for(let s of this.bidiCache)if(s.from==i.from&&s.dir==e&&(s.fresh||ED(s.isolates,r=OC(this,i))))return s.order;r||(r=OC(this,i));let o=_3(i.text,e,r);return this.bidiCache.push(new rm(i.from,i.to,e,r,!0,o)),o}get hasFocus(){var i;return(this.dom.ownerDocument.hasFocus()||et.safari&&((i=this.inputState)===null||i===void 0?void 0:i.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{mD(this.contentDOM),this.docView.updateSelection()})}setRoot(i){this._root!=i&&(this._root=i,this.observer.setWindow((i.nodeType==9?i:i.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let i of this.plugins)i.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(i,e={}){return Fu.of(new Nc(typeof i=="number"?N.cursor(i):i,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:i,scrollLeft:e}=this.scrollDOM,r=this.viewState.scrollAnchorAt(i);return Fu.of(new Nc(N.cursor(r.from),"start","start",r.top-i,e,!0))}static domEventHandlers(i){return Ae.define(()=>({}),{eventHandlers:i})}static domEventObservers(i){return Ae.define(()=>({}),{eventObservers:i})}static theme(i,e){let r=On.newName(),o=[Bu.of(r),Mc.of(T0(`.${r}`,i))];return e&&e.dark&&o.push(e0.of(!0)),o}static baseTheme(i){return tr.lowest(Mc.of(T0("."+I0,i,iS)))}static findFromDOM(i){var e;let r=i.querySelector(".cm-content"),o=r&&ke.get(r)||ke.get(i);return((e=o?.rootView)===null||e===void 0?void 0:e.view)||null}}return n.styleModule=Mc,n.inputHandler=PD,n.scrollHandler=VD,n.focusChangeEffect=LD,n.perLineTextDirection=TC,n.exceptionSink=FD,n.updateListener=Qb,n.editable=Zu,n.mouseSelectionStyle=OD,n.dragMovesSelection=RD,n.clickAddsSelectionRange=TD,n.decorations=Yc,n.outerDecorations=BD,n.atomicRanges=X0,n.bidiIsolatedRanges=zD,n.scrollMargins=jD,n.darkTheme=e0,n.cspNonce=Q.define({combine:t=>t.length?t[0]:""}),n.contentAttributes=b0,n.editorAttributes=RC,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=zt.define(),n})(),uz=4096,JC={},rm=class n{constructor(t,i,e,r,o,s){this.from=t,this.to=i,this.dir=e,this.isolates=r,this.fresh=o,this.order=s}static update(t,i){if(i.empty&&!t.some(o=>o.fresh))return t;let e=[],r=t.length?t[t.length-1].dir:me.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==r&&!i.touchesRange(s.from,s.to)&&e.push(new n(i.mapPos(s.from,1),i.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return e}};function tD(n,t,i){for(let e=n.state.facet(t),r=e.length-1;r>=0;r--){let o=e[r],s=typeof o=="function"?o(n):o;s&&h0(s,i)}return i}var mz=et.mac?"mac":et.windows?"win":et.linux?"linux":"key";function fz(n,t){let i=n.split(/-(?!$)/),e=i[i.length-1];e=="Space"&&(e=" ");let r,o,s,a;for(let d=0;d<i.length-1;++d){let h=i[d];if(/^(cmd|meta|m)$/i.test(h))a=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))o=!0;else if(/^s(hift)?$/i.test(h))s=!0;else if(/^mod$/i.test(h))t=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+h)}return r&&(e="Alt-"+e),o&&(e="Ctrl-"+e),a&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function zu(n,t,i){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),i!==!1&&t.shiftKey&&(n="Shift-"+n),n}var pz=tr.default(vt.domEventHandlers({keydown(n,t){return sS(rS(t.state),n,t,"editor")}})),Jr=Q.define({enables:pz}),eD=new WeakMap;function rS(n){let t=n.facet(Jr),i=eD.get(t);return i||eD.set(t,i=bz(t.reduce((e,r)=>e.concat(r),[]))),i}function oS(n,t,i){return sS(rS(n.state),t,n,i)}var Mo=null,gz=4e3;function bz(n,t=mz){let i=Object.create(null),e=Object.create(null),r=(s,a)=>{let d=e[s];if(d==null)e[s]=a;else if(d!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,d,h,m)=>{var f,g;let _=i[s]||(i[s]=Object.create(null)),y=a.split(/ (?!$)/).map(M=>fz(M,t));for(let M=1;M<y.length;M++){let B=y.slice(0,M).join(" ");r(B,!0),_[B]||(_[B]={preventDefault:!0,stopPropagation:!1,run:[U=>{let W=Mo={view:U,prefix:B,scope:s};return setTimeout(()=>{Mo==W&&(Mo=null)},gz),!0}]})}let k=y.join(" ");r(k,!1);let S=_[k]||(_[k]={preventDefault:!1,stopPropagation:!1,run:((g=(f=_._any)===null||f===void 0?void 0:f.run)===null||g===void 0?void 0:g.slice())||[]});d&&S.run.push(d),h&&(S.preventDefault=!0),m&&(S.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let h of a){let m=i[h]||(i[h]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in m)m[f].run.push(s.any)}let d=s[t]||s.key;if(d)for(let h of a)o(h,d,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(h,"Shift-"+d,s.shift,s.preventDefault,s.stopPropagation)}return i}function sS(n,t,i,e){let r=wC(t),o=$e(r,0),s=Mi(o)==r.length&&r!=" ",a="",d=!1,h=!1,m=!1;Mo&&Mo.view==i&&Mo.scope==e&&(a=Mo.prefix+" ",YD.indexOf(t.keyCode)<0&&(h=!0,Mo=null));let f=new Set,g=S=>{if(S){for(let M of S.run)if(!f.has(M)&&(f.add(M),M(i,t)))return S.stopPropagation&&(m=!0),!0;S.preventDefault&&(S.stopPropagation&&(m=!0),h=!0)}return!1},_=n[e],y,k;return _&&(g(_[a+zu(r,t,!s)])?d=!0:s&&(t.altKey||t.metaKey||t.ctrlKey)&&!(et.windows&&t.ctrlKey&&t.altKey)&&(y=Zr[t.keyCode])&&y!=r?(g(_[a+zu(y,t,!0)])||t.shiftKey&&(k=Fa[t.keyCode])!=r&&k!=y&&g(_[a+zu(k,t,!1)]))&&(d=!0):s&&t.shiftKey&&g(_[a+zu(r,t,!0)])&&(d=!0),!d&&g(_._any)&&(d=!0)),h&&(d=!0),d&&m&&t.stopPropagation(),d}var qc=class n{constructor(t,i,e,r,o){this.className=t,this.left=i,this.top=e,this.width=r,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,i){return i.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,i,e){if(e.empty){let r=t.coordsAtPos(e.head,e.assoc||1);if(!r)return[];let o=aS(t);return[new n(i,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return _z(t,i,e)}};function aS(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==me.LTR?t.left:t.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:t.top-n.scrollDOM.scrollTop*n.scaleY}}function iD(n,t,i){let e=N.cursor(t);return{from:Math.max(i.from,n.moveToLineBoundary(e,!1,!0).from),to:Math.min(i.to,n.moveToLineBoundary(e,!0,!0).from),type:Ri.Text}}function _z(n,t,i){if(i.to<=n.viewport.from||i.from>=n.viewport.to)return[];let e=Math.max(i.from,n.viewport.from),r=Math.min(i.to,n.viewport.to),o=n.textDirection==me.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),d=aS(n),h=s.querySelector(".cm-line"),m=h&&window.getComputedStyle(h),f=a.left+(m?parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)):0),g=a.right-(m?parseInt(m.paddingRight):0),_=v0(n,e),y=v0(n,r),k=_.type==Ri.Text?_:null,S=y.type==Ri.Text?y:null;if(k&&(n.lineWrapping||_.widgetLineBreaks)&&(k=iD(n,e,k)),S&&(n.lineWrapping||y.widgetLineBreaks)&&(S=iD(n,r,S)),k&&S&&k.from==S.from)return B(U(i.from,i.to,k));{let V=k?U(i.from,null,k):W(_,!1),G=S?U(null,i.to,S):W(y,!0),X=[];return(k||_).to<(S||y).from-(k&&S?1:0)||_.widgetLineBreaks>1&&V.bottom+n.defaultLineHeight/2<G.top?X.push(M(f,V.bottom,g,G.top)):V.bottom<G.top&&n.elementAtHeight((V.bottom+G.top)/2).type==Ri.Text&&(V.bottom=G.top=(V.bottom+G.top)/2),B(V).concat(X).concat(B(G))}function M(V,G,X,Mt){return new qc(t,V-d.left,G-d.top-.01,X-V,Mt-G+.01)}function B({top:V,bottom:G,horizontal:X}){let Mt=[];for(let Ht=0;Ht<X.length;Ht+=2)Mt.push(M(X[Ht],V,X[Ht+1],G));return Mt}function U(V,G,X){let Mt=1e9,Ht=-1e9,Wt=[];function Nt(Zt,Jt,Me,pi,ei){let Ie=n.coordsAtPos(Zt,Zt==X.to?-2:2),Ve=n.coordsAtPos(Me,Me==X.from?2:-2);!Ie||!Ve||(Mt=Math.min(Ie.top,Ve.top,Mt),Ht=Math.max(Ie.bottom,Ve.bottom,Ht),ei==me.LTR?Wt.push(o&&Jt?f:Ie.left,o&&pi?g:Ve.right):Wt.push(!o&&pi?f:Ve.left,!o&&Jt?g:Ie.right))}let It=V??X.from,re=G??X.to;for(let Zt of n.visibleRanges)if(Zt.to>It&&Zt.from<re)for(let Jt=Math.max(Zt.from,It),Me=Math.min(Zt.to,re);;){let pi=n.state.doc.lineAt(Jt);for(let ei of n.bidiSpans(pi)){let Ie=ei.from+pi.from,Ve=ei.to+pi.from;if(Ie>=Me)break;Ve>Jt&&Nt(Math.max(Ie,Jt),V==null&&Ie<=It,Math.min(Ve,Me),G==null&&Ve>=re,ei.dir)}if(Jt=pi.to+1,Jt>=Me)break}return Wt.length==0&&Nt(It,V==null,re,G==null,n.textDirection),{top:Mt,bottom:Ht,horizontal:Wt}}function W(V,G){let X=a.top+(G?V.top:V.bottom);return{top:X,bottom:X,horizontal:[]}}}function vz(n,t){return n.constructor==t.constructor&&n.eq(t)}var P0=class{constructor(t,i){this.view=t,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,t)}update(t){t.startState.facet($u)!=t.state.facet($u)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let i=0,e=t.facet($u);for(;i<e.length&&e[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:i}=this.view;(t!=this.scaleX||i!=this.scaleY)&&(this.scaleX=t,this.scaleY=i,this.dom.style.transform=`scale(${1/t}, ${1/i})`)}draw(t){if(t.length!=this.drawn.length||t.some((i,e)=>!vz(i,this.drawn[e]))){let i=this.dom.firstChild,e=0;for(let r of t)r.update&&i&&r.constructor&&this.drawn[e].constructor&&r.update(i,this.drawn[e])?(i=i.nextSibling,e++):this.dom.insertBefore(r.draw(),i);for(;i;){let r=i.nextSibling;i.remove(),i=r}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}},$u=Q.define();function lS(n){return[Ae.define(t=>new P0(t,n)),$u.of(n)]}var cS=!et.ios,Gc=Q.define({combine(n){return yi(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,i)=>Math.min(t,i),drawRangeCursor:(t,i)=>t||i})}});function dS(n={}){return[Gc.of(n),yz,xz,wz,ND.of(!0)]}function hS(n){return n.startState.facet(Gc)!=n.state.facet(Gc)}var yz=lS({above:!0,markers(n){let{state:t}=n,i=t.facet(Gc),e=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty?!o||cS:i.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:N.cursor(r.head,r.head>r.anchor?-1:1);for(let d of qc.forRange(n,s,a))e.push(d)}}return e},update(n,t){n.transactions.some(e=>e.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let i=hS(n);return i&&nD(n.state,t),n.docChanged||n.selectionSet||i},mount(n,t){nD(t.state,n)},class:"cm-cursorLayer"});function nD(n,t){t.style.animationDuration=n.facet(Gc).cursorBlinkRate+"ms"}var xz=lS({above:!1,markers(n){return n.state.selection.ranges.map(t=>t.empty?[]:qc.forRange(n,"cm-selectionBackground",t)).reduce((t,i)=>t.concat(i))},update(n,t){return n.docChanged||n.selectionSet||n.viewportChanged||hS(n)},class:"cm-selectionLayer"}),L0={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};cS&&(L0[".cm-line"].caretColor="transparent !important",L0[".cm-content"]={caretColor:"transparent !important"});var wz=tr.highest(vt.theme(L0)),uS=zt.define({map(n,t){return n==null?null:t.mapPos(n)}}),Fc=Fe.define({create(){return null},update(n,t){return n!=null&&(n=t.changes.mapPos(n)),t.effects.reduce((i,e)=>e.is(uS)?e.value:i,n)}}),kz=Ae.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let i=n.state.field(Fc);i==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Fc)!=i||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,t=n.state.field(Fc),i=t!=null&&n.coordsAtPos(t);if(!i)return null;let e=n.scrollDOM.getBoundingClientRect();return{left:i.left-e.left+n.scrollDOM.scrollLeft*n.scaleX,top:i.top-e.top+n.scrollDOM.scrollTop*n.scaleY,height:i.bottom-i.top}}drawCursor(n){if(this.cursor){let{scaleX:t,scaleY:i}=this.view;n?(this.cursor.style.left=n.left/t+"px",this.cursor.style.top=n.top/i+"px",this.cursor.style.height=n.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Fc)!=n&&this.view.dispatch({effects:uS.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function mS(){return[Fc,kz]}function rD(n,t,i,e,r){t.lastIndex=0;for(let o=n.iterRange(i,e),s=i,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)r(s+a.index,a)}function Cz(n,t){let i=n.visibleRanges;if(i.length==1&&i[0].from==n.viewport.from&&i[0].to==n.viewport.to)return i;let e=[];for(let{from:r,to:o}of i)r=Math.max(n.state.doc.lineAt(r).from,r-t),o=Math.min(n.state.doc.lineAt(o).to,o+t),e.length&&e[e.length-1].to>=r?e[e.length-1].to=o:e.push({from:r,to:o});return e}var N0=class{constructor(t){let{regexp:i,decoration:e,decorate:r,boundary:o,maxLength:s=1e3}=t;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,r)this.addMatch=(a,d,h,m)=>r(m,h,h+a[0].length,a,d);else if(typeof e=="function")this.addMatch=(a,d,h,m)=>{let f=e(a,d,h);f&&m(h,h+a[0].length,f)};else if(e)this.addMatch=(a,d,h,m)=>m(h,h+a[0].length,e);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(t){let i=new Jn,e=i.add.bind(i);for(let{from:r,to:o}of Cz(t,this.maxLength))rD(t.state.doc,this.regexp,r,o,(s,a)=>this.addMatch(a,t,s,e));return i.finish()}updateDeco(t,i){let e=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((o,s,a,d)=>{d>t.view.viewport.from&&a<t.view.viewport.to&&(e=Math.min(a,e),r=Math.max(d,r))}),t.viewportChanged||r-e>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,i.map(t.changes),e,r):i}updateRange(t,i,e,r){for(let o of t.visibleRanges){let s=Math.max(o.from,e),a=Math.min(o.to,r);if(a>s){let d=t.state.doc.lineAt(s),h=d.to<a?t.state.doc.lineAt(a):d,m=Math.max(o.from,d.from),f=Math.min(o.to,h.to);if(this.boundary){for(;s>d.from;s--)if(this.boundary.test(d.text[s-1-d.from])){m=s;break}for(;a<h.to;a++)if(this.boundary.test(h.text[a-h.from])){f=a;break}}let g=[],_,y=(k,S,M)=>g.push(M.range(k,S));if(d==h)for(this.regexp.lastIndex=m-d.from;(_=this.regexp.exec(d.text))&&_.index<f-d.from;)this.addMatch(_,t,_.index+d.from,y);else rD(t.state.doc,this.regexp,m,f,(k,S)=>this.addMatch(S,t,k,y));i=i.update({filterFrom:m,filterTo:f,filter:(k,S)=>k<m||S>f,add:g})}}return i}},V0=/x/.unicode!=null?"gu":"g",Dz=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,V0),Sz={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},n0=null;function Az(){var n;if(n0==null&&typeof document<"u"&&document.body){let t=document.body.style;n0=((n=t.tabSize)!==null&&n!==void 0?n:t.MozTabSize)!=null}return n0||!1}var Yu=Q.define({combine(n){let t=yi(n,{render:null,specialChars:Dz,addSpecialChars:null});return(t.replaceTabs=!Az())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,V0)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,V0)),t}});function fS(n={}){return[Yu.of(n),Ez()]}var oD=null;function Ez(){return oD||(oD=Ae.fromClass(class{constructor(n){this.view=n,this.decorations=st.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Yu)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new N0({regexp:n.specialChars,decoration:(t,i,e)=>{let{doc:r}=i.state,o=$e(t[0],0);if(o==9){let s=r.lineAt(e),a=i.state.tabSize,d=Xr(s.text,a,e-s.from);return st.replace({widget:new z0((a-d%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=st.replace({widget:new B0(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let t=n.state.facet(Yu);n.startState.facet(Yu)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}var Mz="\u2022";function Iz(n){return n>=32?Mz:n==10?"\u2424":String.fromCharCode(9216+n)}var B0=class extends Ui{constructor(t,i){super(),this.options=t,this.code=i}eq(t){return t.code==this.code}toDOM(t){let i=Iz(this.code),e=t.state.phrase("Control character")+" "+(Sz[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,e,i);if(r)return r;let o=document.createElement("span");return o.textContent=i,o.title=e,o.setAttribute("aria-label",e),o.className="cm-specialChar",o}ignoreEvent(){return!1}},z0=class extends Ui{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}};function pS(){return Rz}var Tz=st.line({class:"cm-activeLine"}),Rz=Ae.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,i=[];for(let e of n.state.selection.ranges){let r=n.lineBlockAt(e.head);r.from>t&&(i.push(Tz.range(r.from)),t=r.from)}return st.set(i)}},{decorations:n=>n.decorations}),j0=class extends Ui{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let i=t.firstChild?ja(t.firstChild):[];if(!i.length)return null;let e=window.getComputedStyle(t.parentNode),r=dm(i[0],e.direction!="rtl"),o=parseInt(e.lineHeight);return r.bottom-r.top>o*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}};function gS(n){return Ae.fromClass(class{constructor(t){this.view=t,this.placeholder=n?st.set([st.widget({widget:new j0(n),side:1}).range(0)]):st.none}get decorations(){return this.view.state.doc.length?st.none:this.placeholder}},{decorations:t=>t.decorations})}var H0=2e3;function Oz(n,t,i){let e=Math.min(t.line,i.line),r=Math.max(t.line,i.line),o=[];if(t.off>H0||i.off>H0||t.col<0||i.col<0){let s=Math.min(t.off,i.off),a=Math.max(t.off,i.off);for(let d=e;d<=r;d++){let h=n.doc.line(d);h.length<=a&&o.push(N.range(h.from+s,h.to+a))}}else{let s=Math.min(t.col,i.col),a=Math.max(t.col,i.col);for(let d=e;d<=r;d++){let h=n.doc.line(d),m=Tu(h.text,s,n.tabSize,!0);if(m<0)o.push(N.cursor(h.to));else{let f=Tu(h.text,a,n.tabSize);o.push(N.range(h.from+m,h.from+f))}}}return o}function Fz(n,t){let i=n.coordsAtPos(n.viewport.from);return i?Math.round(Math.abs((i.left-t)/n.defaultCharacterWidth)):-1}function sD(n,t){let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1),e=n.state.doc.lineAt(i),r=i-e.from,o=r>H0?-1:r==e.length?Fz(n,t.clientX):Xr(e.text,n.state.tabSize,i-e.from);return{line:e.number,col:o,off:r}}function Pz(n,t){let i=sD(n,t),e=n.state.selection;return i?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(i.line).from),s=r.state.doc.lineAt(o);i={line:s.number,col:i.col,off:Math.min(i.off,s.length)},e=e.map(r.changes)}},get(r,o,s){let a=sD(n,r);if(!a)return e;let d=Oz(n.state,i,a);return d.length?s?N.create(d.concat(e.ranges)):N.create(d):e}}:null}function bS(n){let t=n?.eventFilter||(i=>i.altKey&&i.button==0);return vt.mouseSelectionStyle.of((i,e)=>t(e)?Pz(i,e):null)}var Lz={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Nz={style:"cursor: crosshair"};function _S(n={}){let[t,i]=Lz[n.key||"Alt"],e=Ae.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==t||i(r))},keyup(r){(r.keyCode==t||!i(r))&&this.set(!1)},mousemove(r){this.set(i(r))}}});return[e,vt.contentAttributes.of(r=>{var o;return!((o=r.plugin(e))===null||o===void 0)&&o.isDown?Nz:null})]}var Ic="-10000px",om=class{constructor(t,i,e,r){this.facet=i,this.createTooltipView=e,this.removeTooltipView=r,this.input=t.state.facet(i),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=e(s,o))}update(t,i){var e;let r=t.state.facet(this.facet),o=r.filter(d=>d);if(r===this.input){for(let d of this.tooltipViews)d.update&&d.update(t);return!1}let s=[],a=i?[]:null;for(let d=0;d<o.length;d++){let h=o[d],m=-1;if(h){for(let f=0;f<this.tooltips.length;f++){let g=this.tooltips[f];g&&g.create==h.create&&(m=f)}if(m<0)s[d]=this.createTooltipView(h,d?s[d-1]:null),a&&(a[d]=!!h.above);else{let f=s[d]=this.tooltipViews[m];a&&(a[d]=i[m]),f.update&&f.update(t)}}}for(let d of this.tooltipViews)s.indexOf(d)<0&&(this.removeTooltipView(d),(e=d.destroy)===null||e===void 0||e.call(d));return i&&(a.forEach((d,h)=>i[h]=d),i.length=a.length),this.input=r,this.tooltips=o,this.tooltipViews=s,!0}};function Vz(n){let{win:t}=n;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}var r0=Q.define({combine:n=>{var t,i,e;return{position:et.ios?"absolute":((t=n.find(r=>r.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((i=n.find(r=>r.parent))===null||i===void 0?void 0:i.parent)||null,tooltipSpace:((e=n.find(r=>r.tooltipSpace))===null||e===void 0?void 0:e.tooltipSpace)||Vz}}}),aD=new WeakMap,Z0=Ae.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(r0);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new om(n,Kc,(i,e)=>this.createTooltip(i,e),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n,this.above);t&&this.observeIntersection();let i=t||n.geometryChanged,e=n.state.facet(r0);if(e.position!=this.position&&!this.madeAbsolute){this.position=e.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;i=!0}if(e.parent!=this.parent){this.parent&&this.container.remove(),this.parent=e.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(n,t){let i=n.create(this.view),e=t?t.dom:null;if(i.dom.classList.add("cm-tooltip"),n.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",i.dom.appendChild(r)}return i.dom.style.position=this.position,i.dom.style.top=Ic,i.dom.style.left="0px",this.container.insertBefore(i.dom,e),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var n,t,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),(n=e.destroy)===null||n===void 0||n.call(e);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(i=this.intersectionObserver)===null||i===void 0||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),t=1,i=1,e=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(et.gecko)e=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==Ic&&r.style.left=="0px"){let o=r.getBoundingClientRect();e=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(e||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(t=r.width/this.parent.offsetWidth,i=r.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:i}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((r,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(r0).tooltipSpace(this.view),scaleX:t,scaleY:i,makeAbsolute:e}}writeMeasure(n){var t;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:i,space:e,scaleX:r,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let d=this.manager.tooltips[a],h=this.manager.tooltipViews[a],{dom:m}=h,f=n.pos[a],g=n.size[a];if(!f||f.bottom<=Math.max(i.top,e.top)||f.top>=Math.min(i.bottom,e.bottom)||f.right<Math.max(i.left,e.left)-.1||f.left>Math.min(i.right,e.right)+.1){m.style.top=Ic;continue}let _=d.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,y=_?7:0,k=g.right-g.left,S=(t=aD.get(h))!==null&&t!==void 0?t:g.bottom-g.top,M=h.offset||zz,B=this.view.textDirection==me.LTR,U=g.width>e.right-e.left?B?e.left:e.right-g.width:B?Math.min(f.left-(_?14:0)+M.x,e.right-k):Math.max(e.left,f.left-k+(_?14:0)-M.x),W=this.above[a];!d.strictSide&&(W?f.top-(g.bottom-g.top)-M.y<e.top:f.bottom+(g.bottom-g.top)+M.y>e.bottom)&&W==e.bottom-f.bottom>f.top-e.top&&(W=this.above[a]=!W);let V=(W?f.top-e.top:e.bottom-f.bottom)-y;if(V<S&&h.resize!==!1){if(V<this.view.defaultLineHeight){m.style.top=Ic;continue}aD.set(h,S),m.style.height=(S=V)/o+"px"}else m.style.height&&(m.style.height="");let G=W?f.top-S-y-M.y:f.bottom+y+M.y,X=U+k;if(h.overlap!==!0)for(let Mt of s)Mt.left<X&&Mt.right>U&&Mt.top<G+S&&Mt.bottom>G&&(G=W?Mt.top-S-2-y:Mt.bottom+y+2);if(this.position=="absolute"?(m.style.top=(G-n.parent.top)/o+"px",m.style.left=(U-n.parent.left)/r+"px"):(m.style.top=G/o+"px",m.style.left=U/r+"px"),_){let Mt=f.left+(B?M.x:-M.x)-(U+14-7);_.style.left=Mt/r+"px"}h.overlap!==!0&&s.push({left:U,top:G,right:X,bottom:G+S}),m.classList.toggle("cm-tooltip-above",W),m.classList.toggle("cm-tooltip-below",!W),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Ic}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Bz=vt.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),zz={x:0,y:0},Kc=Q.define({enables:[Z0,Bz]}),sm=Q.define({combine:n=>n.reduce((t,i)=>t.concat(i),[])}),am=class n{static create(t){return new n(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new om(t,sm,(i,e)=>this.createHostedView(i,e),i=>i.dom.remove())}createHostedView(t,i){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(e.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let i of this.manager.tooltipViews)i.mount&&i.mount(t);this.mounted=!0}positioned(t){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let i of this.manager.tooltipViews)(t=i.destroy)===null||t===void 0||t.call(i)}passProp(t){let i;for(let e of this.manager.tooltipViews){let r=e[t];if(r!==void 0){if(i===void 0)i=r;else if(i!==r)return}}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}},jz=Kc.compute([sm],n=>{let t=n.facet(sm);return t.length===0?null:{pos:Math.min(...t.map(i=>i.pos)),end:Math.max(...t.map(i=>{var e;return(e=i.end)!==null&&e!==void 0?e:i.pos})),create:am.create,above:t[0].above,arrow:t.some(i=>i.arrow)}}),U0=class{constructor(t,i,e,r,o){this.view=t,this.source=i,this.field=e,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:i}=this,e=t.docView.nearest(i.target);if(!e)return;let r,o=1;if(e instanceof Hc)r=e.posAtStart;else{if(r=t.posAtCoords(i),r==null)return;let a=t.coordsAtPos(r);if(!a||i.y<a.top||i.y>a.bottom||i.x<a.left-t.defaultCharacterWidth||i.x>a.right+t.defaultCharacterWidth)return;let d=t.bidiSpans(t.state.doc.lineAt(r)).find(m=>m.from<=r&&m.to>=r),h=d&&d.dir==me.RTL?-1:1;o=i.x<a.left?-h:h}let s=this.source(t,r,o);if(s?.then){let a=this.pending={pos:r};s.then(d=>{this.pending==a&&(this.pending=null,d&&!(Array.isArray(d)&&!d.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(d)?d:[d])}))},d=>mi(t.state,d,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(Z0),i=t?t.manager.tooltips.findIndex(e=>e.create==am.create):-1;return i>-1?t.manager.tooltipViews[i]:null}mousemove(t){var i,e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:o}=this;if(r.length&&o&&!Hz(o.dom,t)||this.pending){let{pos:s}=r[0]||this.pending,a=(e=(i=r[0])===null||i===void 0?void 0:i.end)!==null&&e!==void 0?e:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!Uz(this.view,s,a,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let i=e=>{t.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}},ju=4;function Hz(n,t){let i=n.getBoundingClientRect();return t.clientX>=i.left-ju&&t.clientX<=i.right+ju&&t.clientY>=i.top-ju&&t.clientY<=i.bottom+ju}function Uz(n,t,i,e,r,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>e||s.right<e||s.top>r||Math.min(s.bottom,a)<r)return!1;let d=n.posAtCoords({x:e,y:r},!1);return d>=t&&d<=i}function vS(n,t={}){let i=zt.define(),e=Fe.define({create(){return[]},update(r,o){if(r.length&&(t.hideOnChange&&(o.docChanged||o.selection)?r=[]:t.hideOn&&(r=r.filter(s=>!t.hideOn(o,s))),o.docChanged)){let s=[];for(let a of r){let d=o.changes.mapPos(a.pos,-1,hi.TrackDel);if(d!=null){let h=Object.assign(Object.create(null),a);h.pos=d,h.end!=null&&(h.end=o.changes.mapPos(h.end)),s.push(h)}}r=s}for(let s of o.effects)s.is(i)&&(r=s.value),s.is(Wz)&&(r=[]);return r},provide:r=>sm.from(r)});return[e,Ae.define(r=>new U0(r,n,e,i,t.hoverTime||300)),jz]}function Q0(n,t){let i=n.plugin(Z0);if(!i)return null;let e=i.manager.tooltips.indexOf(t);return e<0?null:i.manager.tooltipViews[e]}var Wz=zt.define();var lD=Q.define({combine(n){let t,i;for(let e of n)t=t||e.topContainer,i=i||e.bottomContainer;return{topContainer:t,bottomContainer:i}}});function Ss(n,t){let i=n.plugin(yS),e=i?i.specs.indexOf(t):-1;return e>-1?i.panels[e]:null}var yS=Ae.fromClass(class{constructor(n){this.input=n.state.facet(Ds),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(n));let t=n.state.facet(lD);this.top=new Na(n,!0,t.topContainer),this.bottom=new Na(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(n){let t=n.state.facet(lD);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Na(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Na(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=n.state.facet(Ds);if(i!=this.input){let e=i.filter(d=>d),r=[],o=[],s=[],a=[];for(let d of e){let h=this.specs.indexOf(d),m;h<0?(m=d(n.view),a.push(m)):(m=this.panels[h],m.update&&m.update(n)),r.push(m),(m.top?o:s).push(m)}this.specs=e,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let d of a)d.dom.classList.add("cm-panel"),d.mount&&d.mount()}else for(let e of this.panels)e.update&&e.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>vt.scrollMargins.of(t=>{let i=t.plugin(n);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})}),Na=class{constructor(t,i,e){this.view=t,this.top=i,this.container=e,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let i of this.panels)i.destroy&&t.indexOf(i)<0&&i.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let t=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;t!=i.dom;)t=cD(t);t=t.nextSibling}else this.dom.insertBefore(i.dom,t);for(;t;)t=cD(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}};function cD(n){let t=n.nextSibling;return n.remove(),t}var Ds=Q.define({enables:yS}),hn=class extends Qn{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};hn.prototype.elementClass="";hn.prototype.toDOM=void 0;hn.prototype.mapMode=hi.TrackBefore;hn.prototype.startSide=hn.prototype.endSide=-1;hn.prototype.point=!0;var qu=Q.define(),$z={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>we.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},zc=Q.define();function J0(n){return[xS(),zc.of(Object.assign(Object.assign({},$z),n))]}var W0=Q.define({combine:n=>n.some(t=>t)});function xS(n){let t=[Yz];return n&&n.fixed===!1&&t.push(W0.of(!0)),t}var Yz=Ae.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(zc).map(t=>new lm(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(W0),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,i=n.view.viewport,e=Math.min(t.to,i.to)-Math.max(t.from,i.from);this.syncGutters(e<(i.to-i.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(W0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let i=we.iter(this.view.state.facet(qu),this.view.viewport.from),e=[],r=this.gutters.map(o=>new Y0(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(e.length&&(e=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Ri.Text&&s){$0(i,e,a.from);for(let d of r)d.line(this.view,a,e);s=!1}else if(a.widget)for(let d of r)d.widget(this.view,a)}else if(o.type==Ri.Text){$0(i,e,o.from);for(let s of r)s.line(this.view,o,e)}else if(o.widget)for(let s of r)s.widget(this.view,o);for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(zc),i=n.state.facet(zc),e=n.docChanged||n.heightChanged||n.viewportChanged||!we.eq(n.startState.facet(qu),n.state.facet(qu),n.view.viewport.from,n.view.viewport.to);if(t==i)for(let r of this.gutters)r.update(n)&&(e=!0);else{e=!0;let r=[];for(let o of i){let s=t.indexOf(o);s<0?r.push(new lm(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return e}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>vt.scrollMargins.of(t=>{let i=t.plugin(n);return!i||i.gutters.length==0||!i.fixed?null:t.textDirection==me.LTR?{left:i.dom.offsetWidth*t.scaleX}:{right:i.dom.offsetWidth*t.scaleX}})});function dD(n){return Array.isArray(n)?n:[n]}function $0(n,t,i){for(;n.value&&n.from<=i;)n.from==i&&t.push(n.value),n.next()}var Y0=class{constructor(t,i,e){this.gutter=t,this.height=e,this.i=0,this.cursor=we.iter(t.markers,i.from)}addElement(t,i,e){let{gutter:r}=this,o=(i.top-this.height)/t.scaleY,s=i.height/t.scaleY;if(this.i==r.elements.length){let a=new cm(t,s,o,e);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(t,s,o,e);this.height=i.bottom,this.i++}line(t,i,e){let r=[];$0(this.cursor,r,i.from),e.length&&(r=r.concat(e));let o=this.gutter.config.lineMarker(t,i,r);o&&r.unshift(o);let s=this.gutter;r.length==0&&!s.config.renderEmptyElements||this.addElement(t,i,r)}widget(t,i){let e=this.gutter.config.widgetMarker(t,i.widget,i);e&&this.addElement(t,i,[e])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let i=t.elements.pop();t.dom.removeChild(i.dom),i.destroy()}}},lm=class{constructor(t,i){this.view=t,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let e in i.domEventHandlers)this.dom.addEventListener(e,r=>{let o=r.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let d=o.getBoundingClientRect();s=(d.top+d.bottom)/2}else s=r.clientY;let a=t.lineBlockAtHeight(s-t.documentTop);i.domEventHandlers[e](t,a,r)&&r.preventDefault()});this.markers=dD(i.markers(t)),i.initialSpacer&&(this.spacer=new cm(t,0,0,[i.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let i=this.markers;if(this.markers=dD(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let e=t.view.viewport;return!we.eq(this.markers,i,e.from,e.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}},cm=class{constructor(t,i,e,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,i,e,r)}update(t,i,e,r){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=e&&(this.dom.style.marginTop=(this.above=e)?e+"px":""),qz(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,i){let e="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let a=s,d=o<i.length?i[o++]:null,h=!1;if(d){let m=d.elementClass;m&&(e+=" "+m);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(d)){a=f,h=!0;break}}else a=this.markers.length;for(;s<a;){let m=this.markers[s++];if(m.toDOM){m.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!d)break;d.toDOM&&(h?r=r.nextSibling:this.dom.insertBefore(d.toDOM(t),r)),h&&s++}this.dom.className=e,this.markers=i}destroy(){this.setMarkers(null,[])}};function qz(n,t){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!n[i].compare(t[i]))return!1;return!0}var Gz=Q.define(),Va=Q.define({combine(n){return yi(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,i){let e=Object.assign({},t);for(let r in i){let o=e[r],s=i[r];e[r]=o?(a,d,h)=>o(a,d,h)||s(a,d,h):s}return e}})}}),jc=class extends hn{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}};function o0(n,t){return n.state.facet(Va).formatNumber(t,n.state)}var Kz=zc.compute([Va],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(Gz)},lineMarker(t,i,e){return e.some(r=>r.toDOM)?null:new jc(o0(t,t.state.doc.lineAt(i.from).number))},widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Va)!=t.state.facet(Va),initialSpacer(t){return new jc(o0(t,hD(t.state.doc.lines)))},updateSpacer(t,i){let e=o0(i.view,hD(i.view.state.doc.lines));return e==t.number?t:new jc(e)},domEventHandlers:n.facet(Va).domEventHandlers}));function wS(n={}){return[Va.of(n),xS(),Kz]}function hD(n){let t=9;for(;t<n;)t=t*10+9;return t}var Xz=new class extends hn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Zz=qu.compute(["selection"],n=>{let t=[],i=-1;for(let e of n.selection.ranges){let r=n.doc.lineAt(e.head).from;r>i&&(i=r,t.push(Xz.range(r)))}return we.of(t)});function kS(){return Zz}var eo=Ih(Zc());var Qz=0,Qc=class{constructor(t,i){this.from=t,this.to=i}},At=class{constructor(t={}){this.id=Qz++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=xi.match(t)),i=>{let e=t(i);return e===void 0?null:[this,e]}}};At.closedBy=new At({deserialize:n=>n.split(" ")});At.openedBy=new At({deserialize:n=>n.split(" ")});At.group=new At({deserialize:n=>n.split(" ")});At.isolate=new At({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});At.contextHash=new At({perNode:!0});At.lookAhead=new At({perNode:!0});At.mounted=new At({perNode:!0});var Ua=class{constructor(t,i,e){this.tree=t,this.overlay=i,this.parser=e}static get(t){return t&&t.props&&t.props[At.mounted.id]}},Jz=Object.create(null),xi=class n{constructor(t,i,e,r=0){this.name=t,this.props=i,this.id=e,this.flags=r}static define(t){let i=t.props&&t.props.length?Object.create(null):Jz,e=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new n(t.name||"",i,t.id,e);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[o[0].id]=o[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let i=this.prop(At.group);return i?i.indexOf(t)>-1:!1}return this.id==t}static match(t){let i=Object.create(null);for(let e in t)for(let r of e.split(" "))i[r]=t[e];return e=>{for(let r=e.prop(At.group),o=-1;o<(r?r.length:0);o++){let s=i[o<0?e.name:r[o]];if(s)return s}}}};xi.none=new xi("",Object.create(null),0,8);var Jc=class n{constructor(t){this.types=t;for(let i=0;i<t.length;i++)if(t[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let i=[];for(let e of this.types){let r=null;for(let o of t){let s=o(e);s&&(r||(r=Object.assign({},e.props)),r[s[0].id]=s[1])}i.push(r?new xi(e.name,r,e.id,e.flags):e)}return new n(i)}},um=new WeakMap,CS=new WeakMap,Je=function(n){return n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays",n}(Je||{}),He=class n{constructor(t,i,e,r,o){if(this.type=t,this.children=i,this.positions=e,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let t=Ua.get(this);if(t&&!t.overlay)return t.tree.toString();let i="";for(let e of this.children){let r=e.toString();r&&(i&&(i+=","),i+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(t=0){return new id(this.topNode,t)}cursorAt(t,i=0,e=0){let r=um.get(this)||this.topNode,o=new id(r);return o.moveTo(t,i),um.set(this,o._tree),o}get topNode(){return new Dr(this,0,0,null)}resolve(t,i=0){let e=td(um.get(this)||this.topNode,t,i,!1);return um.set(this,e),e}resolveInner(t,i=0){let e=td(CS.get(this)||this.topNode,t,i,!0);return CS.set(this,e),e}resolveStack(t,i=0){return tj(this,t,i)}iterate(t){let{enter:i,leave:e,from:r=0,to:o=this.length}=t,s=t.mode||0,a=(s&Je.IncludeAnonymous)>0;for(let d=this.cursor(s|Je.IncludeAnonymous);;){let h=!1;if(d.from<=o&&d.to>=r&&(!a&&d.type.isAnonymous||i(d)!==!1)){if(d.firstChild())continue;h=!0}for(;h&&e&&(a||!d.type.isAnonymous)&&e(d),!d.nextSibling();){if(!d.parent())return;h=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let i in this.props)t.push([+i,this.props[i]]);return t}balance(t={}){return this.children.length<=8?this:s_(xi.none,this.children,this.positions,0,this.children.length,0,this.length,(i,e,r)=>new n(this.type,i,e,r,this.propValues),t.makeTree||((i,e,r)=>new n(xi.none,i,e,r)))}static build(t){return ej(t)}};He.empty=new He(xi.none,[],[],0);var t_=class n{constructor(t,i){this.buffer=t,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new n(this.buffer,this.index)}},Oo=class n{constructor(t,i,e){this.buffer=t,this.length=i,this.set=e}get type(){return xi.none}toString(){let t=[];for(let i=0;i<this.buffer.length;)t.push(this.childString(i)),i=this.buffer[i+3];return t.join(",")}childString(t){let i=this.buffer[t],e=this.buffer[t+3],r=this.set.types[i],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),t+=4,e==t)return o;let s=[];for(;t<e;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,i,e,r,o){let{buffer:s}=this,a=-1;for(let d=t;d!=i&&!(AS(o,r,s[d+1],s[d+2])&&(a=d,e>0));d=s[d+3]);return a}slice(t,i,e){let r=this.buffer,o=new Uint16Array(i-t),s=0;for(let a=t,d=0;a<i;){o[d++]=r[a++],o[d++]=r[a++]-e;let h=o[d++]=r[a++]-e;o[d++]=r[a++]-t,s=Math.max(s,h)}return new n(o,s,this.set)}};function AS(n,t,i,e){switch(n){case-2:return i<t;case-1:return e>=t&&i<t;case 0:return i<t&&e>t;case 1:return i<=t&&e>t;case 2:return e>t;case 4:return!0}}function td(n,t,i,e){for(var r;n.from==n.to||(i<1?n.from>=t:n.from>t)||(i>-1?n.to<=t:n.to<t);){let s=!e&&n instanceof Dr&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=e?0:Je.IgnoreOverlays;if(e)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof Dr&&s.index<0&&((r=a.enter(t,i,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=a);for(;;){let s=n.enter(t,i,o);if(!s)return n;n=s}}var fm=class{cursor(t=0){return new id(this,t)}getChild(t,i=null,e=null){let r=DS(this,t,i,e);return r.length?r[0]:null}getChildren(t,i=null,e=null){return DS(this,t,i,e)}resolve(t,i=0){return td(this,t,i,!1)}resolveInner(t,i=0){return td(this,t,i,!0)}matchContext(t){return e_(this,t)}enterUnfinishedNodesBefore(t){let i=this.childBefore(t),e=this;for(;i;){let r=i.lastChild;if(!r||r.to!=i.to)break;r.type.isError&&r.from==r.to?(e=i,i=r.prevSibling):i=r}return e}get node(){return this}get next(){return this.parent}},Dr=class n extends fm{constructor(t,i,e,r){super(),this._tree=t,this.from=i,this.index=e,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,i,e,r,o=0){for(let s=this;;){for(let{children:a,positions:d}=s._tree,h=i>0?a.length:-1;t!=h;t+=i){let m=a[t],f=d[t]+s.from;if(AS(r,e,f,f+m.length)){if(m instanceof Oo){if(o&Je.ExcludeBuffers)continue;let g=m.findChild(0,m.buffer.length,i,e-f,r);if(g>-1)return new ed(new i_(s,m,t,f),null,g)}else if(o&Je.IncludeAnonymous||!m.type.isAnonymous||o_(m)){let g;if(!(o&Je.IgnoreMounts)&&(g=Ua.get(m))&&!g.overlay)return new n(g.tree,f,t,s);let _=new n(m,f,t,s);return o&Je.IncludeAnonymous||!_.type.isAnonymous?_:_.nextChild(i<0?m.children.length-1:0,i,e,r)}}}if(o&Je.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+i:t=i<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,i,e=0){let r;if(!(e&Je.IgnoreOverlays)&&(r=Ua.get(this._tree))&&r.overlay){let o=t-this.from;for(let{from:s,to:a}of r.overlay)if((i>0?s<=o:s<o)&&(i<0?a>=o:a>o))return new n(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,i,e)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function DS(n,t,i,e){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(i!=null){for(let s=!1;!s;)if(s=r.type.is(i),!r.nextSibling())return o}for(;;){if(e!=null&&r.type.is(e))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return e==null?o:[]}}function e_(n,t,i=t.length-1){for(let e=n.parent;i>=0;e=e.parent){if(!e)return!1;if(!e.type.isAnonymous){if(t[i]&&t[i]!=e.name)return!1;i--}}return!0}var i_=class{constructor(t,i,e,r){this.parent=t,this.buffer=i,this.index=e,this.start=r}},ed=class n extends fm{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,i,e){super(),this.context=t,this._parent=i,this.index=e,this.type=t.buffer.set.types[t.buffer.buffer[e]]}child(t,i,e){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t,i-this.context.start,e);return o<0?null:new n(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,i,e=0){if(e&Je.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],i>0?1:-1,t-this.context.start,i);return o<0?null:new n(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,i=t.buffer[this.index+3];return i<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new n(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new n(this.context,this._parent,t.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],i=[],{buffer:e}=this.context,r=this.index+4,o=e.buffer[this.index+3];if(o>r){let s=e.buffer[this.index+1];t.push(e.slice(r,o,s)),i.push(0)}return new He(this.type,t,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function ES(n){if(!n.length)return null;let t=0,i=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>i.from||s.to<i.to)&&(i=s,t=o)}let e=i instanceof Dr&&i.index<0?null:i.parent,r=n.slice();return e?r[t]=e:r.splice(t,1),new n_(r,i)}var n_=class{constructor(t,i){this.heads=t,this.node=i}get next(){return ES(this.heads)}};function tj(n,t,i){let e=n.resolveInner(t,i),r=null;for(let o=e instanceof Dr?e:e.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(r||(r=[e])).push(s.resolve(t,i)),o=s}else{let s=Ua.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let a=new Dr(s.tree,s.overlay[0].from+o.from,-1,o);(r||(r=[e])).push(td(a,t,i,!1))}}return r?ES(r):e}var id=class{get name(){return this.type.name}constructor(t,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Dr)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,i){this.index=t;let{start:e,buffer:r}=this.buffer;return this.type=i||r.set.types[r.buffer[t]],this.from=e+r.buffer[t+1],this.to=e+r.buffer[t+2],!0}yield(t){return t?t instanceof Dr?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,i,e){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,i,e,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],t,i-this.buffer.start,e);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,i,e=this.mode){return this.buffer?e&Je.ExcludeBuffers?!1:this.enterChild(1,t,i):this.yield(this._tree.enter(t,i,e))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Je.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Je.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:i}=this.buffer,e=this.stack.length-1;if(t<0){let r=e<0?0:this.stack[e]+4;if(this.index!=r)return this.yieldBuf(i.findChild(r,this.index,-1,0,4))}else{let r=i.buffer[this.index+3];if(r<(e<0?i.buffer.length:i.buffer[this.stack[e]+3]))return this.yieldBuf(r)}return e<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let i,e,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:i,parent:e}=r)}else({index:i,_parent:e}=this._tree);for(;e;{index:i,_parent:e}=e)if(i>-1)for(let o=i+t,s=t<0?-1:e._tree.children.length;o!=s;o+=t){let a=e._tree.children[o];if(this.mode&Je.IncludeAnonymous||a instanceof Oo||!a.type.isAnonymous||o_(a))return!1}return!0}move(t,i){if(i&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,i=0){for(;(this.from==this.to||(i<1?this.from>=t:this.from>t)||(i>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,i););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,i=null,e=0;if(t&&t.context==this.buffer)t:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;i=s,e=o+1;break t}r=this.stack[--o]}for(let r=e;r<this.stack.length;r++)i=new ed(this.buffer,i,this.stack[r]);return this.bufferNode=new ed(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,i){for(let e=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){e++;continue}this.type.isAnonymous||(r=!0)}for(;r&&i&&i(this),r=this.type.isAnonymous,!this.nextSibling();){if(!e)return;this.parent(),e--,r=!0}}}matchContext(t){if(!this.buffer)return e_(this.node,t);let{buffer:i}=this.buffer,{types:e}=i.set;for(let r=t.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return e_(this.node,t,r);let s=e[i.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}};function o_(n){return n.children.some(t=>t instanceof Oo||!t.type.isAnonymous||o_(t))}function ej(n){var t;let{buffer:i,nodeSet:e,maxBufferLength:r=1024,reused:o=[],minRepeatType:s=e.types.length}=n,a=Array.isArray(i)?new t_(i,i.length):i,d=e.types,h=0,m=0;function f(V,G,X,Mt,Ht,Wt){let{id:Nt,start:It,end:re,size:Zt}=a,Jt=m;for(;Zt<0;)if(a.next(),Zt==-1){let Ve=o[Nt];X.push(Ve),Mt.push(It-V);return}else if(Zt==-3){h=Nt;return}else if(Zt==-4){m=Nt;return}else throw new RangeError(`Unrecognized record size: ${Zt}`);let Me=d[Nt],pi,ei,Ie=It-V;if(re-It<=r&&(ei=S(a.pos-G,Ht))){let Ve=new Uint16Array(ei.size-ei.skip),Fi=a.pos-ei.size,vn=Ve.length;for(;a.pos>Fi;)vn=M(ei.start,Ve,vn);pi=new Oo(Ve,re-ei.start,e),Ie=ei.start-V}else{let Ve=a.pos-Zt;a.next();let Fi=[],vn=[],Pi=Nt>=s?Nt:-1,zn=0,Hs=re;for(;a.pos>Ve;)Pi>=0&&a.id==Pi&&a.size>=0?(a.end<=Hs-r&&(y(Fi,vn,It,zn,a.end,Hs,Pi,Jt),zn=Fi.length,Hs=a.end),a.next()):Wt>2500?g(It,Ve,Fi,vn):f(It,Ve,Fi,vn,Pi,Wt+1);if(Pi>=0&&zn>0&&zn<Fi.length&&y(Fi,vn,It,zn,It,Hs,Pi,Jt),Fi.reverse(),vn.reverse(),Pi>-1&&zn>0){let ro=_(Me);pi=s_(Me,Fi,vn,0,Fi.length,0,re-It,ro,ro)}else pi=k(Me,Fi,vn,re-It,Jt-re)}X.push(pi),Mt.push(Ie)}function g(V,G,X,Mt){let Ht=[],Wt=0,Nt=-1;for(;a.pos>G;){let{id:It,start:re,end:Zt,size:Jt}=a;if(Jt>4)a.next();else{if(Nt>-1&&re<Nt)break;Nt<0&&(Nt=Zt-r),Ht.push(It,re,Zt),Wt++,a.next()}}if(Wt){let It=new Uint16Array(Wt*4),re=Ht[Ht.length-2];for(let Zt=Ht.length-3,Jt=0;Zt>=0;Zt-=3)It[Jt++]=Ht[Zt],It[Jt++]=Ht[Zt+1]-re,It[Jt++]=Ht[Zt+2]-re,It[Jt++]=Jt;X.push(new Oo(It,Ht[2]-re,e)),Mt.push(re-V)}}function _(V){return(G,X,Mt)=>{let Ht=0,Wt=G.length-1,Nt,It;if(Wt>=0&&(Nt=G[Wt])instanceof He){if(!Wt&&Nt.type==V&&Nt.length==Mt)return Nt;(It=Nt.prop(At.lookAhead))&&(Ht=X[Wt]+Nt.length+It)}return k(V,G,X,Mt,Ht)}}function y(V,G,X,Mt,Ht,Wt,Nt,It){let re=[],Zt=[];for(;V.length>Mt;)re.push(V.pop()),Zt.push(G.pop()+X-Ht);V.push(k(e.types[Nt],re,Zt,Wt-Ht,It-Wt)),G.push(Ht-X)}function k(V,G,X,Mt,Ht=0,Wt){if(h){let Nt=[At.contextHash,h];Wt=Wt?[Nt].concat(Wt):[Nt]}if(Ht>25){let Nt=[At.lookAhead,Ht];Wt=Wt?[Nt].concat(Wt):[Nt]}return new He(V,G,X,Mt,Wt)}function S(V,G){let X=a.fork(),Mt=0,Ht=0,Wt=0,Nt=X.end-r,It={size:0,start:0,skip:0};t:for(let re=X.pos-V;X.pos>re;){let Zt=X.size;if(X.id==G&&Zt>=0){It.size=Mt,It.start=Ht,It.skip=Wt,Wt+=4,Mt+=4,X.next();continue}let Jt=X.pos-Zt;if(Zt<0||Jt<re||X.start<Nt)break;let Me=X.id>=s?4:0,pi=X.start;for(X.next();X.pos>Jt;){if(X.size<0)if(X.size==-3)Me+=4;else break t;else X.id>=s&&(Me+=4);X.next()}Ht=pi,Mt+=Zt,Wt+=Me}return(G<0||Mt==V)&&(It.size=Mt,It.start=Ht,It.skip=Wt),It.size>4?It:void 0}function M(V,G,X){let{id:Mt,start:Ht,end:Wt,size:Nt}=a;if(a.next(),Nt>=0&&Mt<s){let It=X;if(Nt>4){let re=a.pos-(Nt-4);for(;a.pos>re;)X=M(V,G,X)}G[--X]=It,G[--X]=Wt-V,G[--X]=Ht-V,G[--X]=Mt}else Nt==-3?h=Mt:Nt==-4&&(m=Mt);return X}let B=[],U=[];for(;a.pos>0;)f(n.start||0,n.bufferStart||0,B,U,-1,0);let W=(t=n.length)!==null&&t!==void 0?t:B.length?U[0]+B[0].length:0;return new He(d[n.topID],B.reverse(),U.reverse(),W)}var SS=new WeakMap;function mm(n,t){if(!n.isAnonymous||t instanceof Oo||t.type!=n)return 1;let i=SS.get(t);if(i==null){i=1;for(let e of t.children){if(e.type!=n||!(e instanceof He)){i=1;break}i+=mm(n,e)}SS.set(t,i)}return i}function s_(n,t,i,e,r,o,s,a,d){let h=0;for(let y=e;y<r;y++)h+=mm(n,t[y]);let m=Math.ceil(h*1.5/8),f=[],g=[];function _(y,k,S,M,B){for(let U=S;U<M;){let W=U,V=k[U],G=mm(n,y[U]);for(U++;U<M;U++){let X=mm(n,y[U]);if(G+X>=m)break;G+=X}if(U==W+1){if(G>m){let X=y[W];_(X.children,X.positions,0,X.children.length,k[W]+B);continue}f.push(y[W])}else{let X=k[U-1]+y[U-1].length-V;f.push(s_(n,y,k,W,U,V,X,null,d))}g.push(V+B-o)}}return _(t,i,e,r,0),(a||d)(f,g,s)}var As=class n{constructor(t,i,e,r,o=!1,s=!1){this.from=t,this.to=i,this.tree=e,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,i=[],e=!1){let r=[new n(0,t.length,t,0,!1,e)];for(let o of i)o.to>t.length&&r.push(o);return r}static applyChanges(t,i,e=128){if(!i.length)return t;let r=[],o=1,s=t.length?t[0]:null;for(let a=0,d=0,h=0;;a++){let m=a<i.length?i[a]:null,f=m?m.fromA:1e9;if(f-d>=e)for(;s&&s.from<f;){let g=s;if(d>=g.from||f<=g.to||h){let _=Math.max(g.from,d)-h,y=Math.min(g.to,f)-h;g=_>=y?null:new n(_,y,g.tree,g.offset+h,a>0,!!m)}if(g&&r.push(g),s.to>f)break;s=o<t.length?t[o++]:null}if(!m)break;d=m.toA,h=m.toA-m.toB}return r}},Wa=class{startParse(t,i,e){return typeof t=="string"&&(t=new r_(t)),e=e?e.length?e.map(r=>new Qc(r.from,r.to)):[new Qc(0,0)]:[new Qc(0,t.length)],this.createParse(t,i||[],e)}parse(t,i,e){let r=this.startParse(t,i,e);for(;;){let o=r.advance();if(o)return o}}},r_=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,i){return this.string.slice(t,i)}};var ZY=new At({perNode:!0});var ij=0,Mr=class n{constructor(t,i,e){this.set=t,this.base=i,this.modified=e,this.id=ij++}static define(t){if(t?.base)throw new Error("Can not derive from a modified tag");let i=new n([],null,[]);if(i.set.push(i),t)for(let e of t.set)i.set.push(e);return i}static defineModifier(){let t=new _m;return i=>i.modified.indexOf(t)>-1?i:_m.get(i.base||i,i.modified.concat(t).sort((e,r)=>e.id-r.id))}},nj=0,_m=class n{constructor(){this.instances=[],this.id=nj++}static get(t,i){if(!i.length)return t;let e=i[0].instances.find(a=>a.base==t&&rj(i,a.modified));if(e)return e;let r=[],o=new Mr(r,t,i);for(let a of i)a.instances.push(o);let s=oj(i);for(let a of t.set)if(!a.modified.length)for(let d of s)r.push(n.get(a,d));return o}};function rj(n,t){return n.length==t.length&&n.every((i,e)=>i==t[e])}function oj(n){let t=[[]];for(let i=0;i<n.length;i++)for(let e=0,r=t.length;e<r;e++)t.push(t[e].concat(n[i]));return t.sort((i,e)=>e.length-i.length)}function vm(n){let t=Object.create(null);for(let i in n){let e=n[i];Array.isArray(e)||(e=[e]);for(let r of i.split(" "))if(r){let o=[],s=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){s=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!g)throw new RangeError("Invalid path: "+r);if(o.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),f+=g[0].length,f==r.length)break;let _=r[f++];if(f==r.length&&_=="!"){s=0;break}if(_!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let d=o.length-1,h=o[d];if(!h)throw new RangeError("Invalid path: "+r);let m=new $a(e,s,d>0?o.slice(0,d):null);t[h]=m.sort(t[h])}}return TS.add(t)}var TS=new At,$a=class{constructor(t,i,e,r){this.tags=t,this.mode=i,this.context=e,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};$a.empty=new $a([],2,null);function d_(n,t){let i=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))i[o.tag.id]=o.class;else for(let s of o.tag)i[s.id]=o.class;let{scope:e,all:r=null}=t||{};return{style:o=>{let s=r;for(let a of o)for(let d of a.set){let h=i[d.id];if(h){s=s?s+" "+h:h;break}}return s},scope:e}}function sj(n,t){let i=null;for(let e of n){let r=e.style(t);r&&(i=i?i+" "+r:r)}return i}function RS(n,t,i,e=0,r=n.length){let o=new l_(e,Array.isArray(t)?t:[t],i);o.highlightRange(n.cursor(),e,r,"",o.highlighters),o.flush(r)}var l_=class{constructor(t,i,e){this.at=t,this.highlighters=i,this.span=e,this.class=""}startSpan(t,i){i!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=i)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,i,e,r,o){let{type:s,from:a,to:d}=t;if(a>=e||d<=i)return;s.isTop&&(o=this.highlighters.filter(_=>!_.scope||_.scope(s)));let h=r,m=aj(t)||$a.empty,f=sj(o,m.tags);if(f&&(h&&(h+=" "),h+=f,m.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(i,a),h),m.opaque)return;let g=t.tree&&t.tree.prop(At.mounted);if(g&&g.overlay){let _=t.node.enter(g.overlay[0].from+a,1),y=this.highlighters.filter(S=>!S.scope||S.scope(g.tree.type)),k=t.firstChild();for(let S=0,M=a;;S++){let B=S<g.overlay.length?g.overlay[S]:null,U=B?B.from+a:d,W=Math.max(i,M),V=Math.min(e,U);if(W<V&&k)for(;t.from<V&&(this.highlightRange(t,W,V,r,o),this.startSpan(Math.min(V,t.to),h),!(t.to>=U||!t.nextSibling())););if(!B||U>e)break;M=B.to+a,M>i&&(this.highlightRange(_.cursor(),Math.max(i,B.from+a),Math.min(e,M),"",y),this.startSpan(Math.min(e,M),h))}k&&t.parent()}else if(t.firstChild()){g&&(r="");do if(!(t.to<=i)){if(t.from>=e)break;this.highlightRange(t,i,e,r,o),this.startSpan(Math.min(e,t.to),h)}while(t.nextSibling());t.parent()}}};function aj(n){let t=n.type.prop(TS);for(;t&&t.context&&!n.matchContext(t.context);)t=t.next;return t||null}var K=Mr.define,pm=K(),Fo=K(),MS=K(Fo),IS=K(Fo),Po=K(),gm=K(Po),a_=K(Po),Er=K(),Es=K(Er),Sr=K(),Ar=K(),c_=K(),nd=K(c_),bm=K(),$={comment:pm,lineComment:K(pm),blockComment:K(pm),docComment:K(pm),name:Fo,variableName:K(Fo),typeName:MS,tagName:K(MS),propertyName:IS,attributeName:K(IS),className:K(Fo),labelName:K(Fo),namespace:K(Fo),macroName:K(Fo),literal:Po,string:gm,docString:K(gm),character:K(gm),attributeValue:K(gm),number:a_,integer:K(a_),float:K(a_),bool:K(Po),regexp:K(Po),escape:K(Po),color:K(Po),url:K(Po),keyword:Sr,self:K(Sr),null:K(Sr),atom:K(Sr),unit:K(Sr),modifier:K(Sr),operatorKeyword:K(Sr),controlKeyword:K(Sr),definitionKeyword:K(Sr),moduleKeyword:K(Sr),operator:Ar,derefOperator:K(Ar),arithmeticOperator:K(Ar),logicOperator:K(Ar),bitwiseOperator:K(Ar),compareOperator:K(Ar),updateOperator:K(Ar),definitionOperator:K(Ar),typeOperator:K(Ar),controlOperator:K(Ar),punctuation:c_,separator:K(c_),bracket:nd,angleBracket:K(nd),squareBracket:K(nd),paren:K(nd),brace:K(nd),content:Er,heading:Es,heading1:K(Es),heading2:K(Es),heading3:K(Es),heading4:K(Es),heading5:K(Es),heading6:K(Es),contentSeparator:K(Er),list:K(Er),quote:K(Er),emphasis:K(Er),strong:K(Er),link:K(Er),monospace:K(Er),strikethrough:K(Er),inserted:K(),deleted:K(),changed:K(),invalid:K(),meta:bm,documentMeta:K(bm),annotation:K(bm),processingInstruction:K(bm),definition:Mr.defineModifier(),constant:Mr.defineModifier(),function:Mr.defineModifier(),standard:Mr.defineModifier(),local:Mr.defineModifier(),special:Mr.defineModifier()},t9=d_([{tag:$.link,class:"tok-link"},{tag:$.heading,class:"tok-heading"},{tag:$.emphasis,class:"tok-emphasis"},{tag:$.strong,class:"tok-strong"},{tag:$.keyword,class:"tok-keyword"},{tag:$.atom,class:"tok-atom"},{tag:$.bool,class:"tok-bool"},{tag:$.url,class:"tok-url"},{tag:$.labelName,class:"tok-labelName"},{tag:$.inserted,class:"tok-inserted"},{tag:$.deleted,class:"tok-deleted"},{tag:$.literal,class:"tok-literal"},{tag:$.string,class:"tok-string"},{tag:$.number,class:"tok-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"tok-string2"},{tag:$.variableName,class:"tok-variableName"},{tag:$.local($.variableName),class:"tok-variableName tok-local"},{tag:$.definition($.variableName),class:"tok-variableName tok-definition"},{tag:$.special($.variableName),class:"tok-variableName2"},{tag:$.definition($.propertyName),class:"tok-propertyName tok-definition"},{tag:$.typeName,class:"tok-typeName"},{tag:$.namespace,class:"tok-namespace"},{tag:$.className,class:"tok-className"},{tag:$.macroName,class:"tok-macroName"},{tag:$.propertyName,class:"tok-propertyName"},{tag:$.operator,class:"tok-operator"},{tag:$.comment,class:"tok-comment"},{tag:$.meta,class:"tok-meta"},{tag:$.invalid,class:"tok-invalid"},{tag:$.punctuation,class:"tok-punctuation"}]);var h_,Ya=new At;function lj(n){return Q.define({combine:n?t=>t.concat(n):void 0})}var cj=new At,Ir=(()=>{class n{constructor(i,e,r=[],o=""){this.data=i,this.name=o,oi.prototype.hasOwnProperty("tree")||Object.defineProperty(oi.prototype,"tree",{get(){return si(this)}}),this.parser=e,this.extension=[Lo.of(this),oi.languageData.of((s,a,d)=>{let h=OS(s,a,d),m=h.type.prop(Ya);if(!m)return[];let f=s.facet(m),g=h.type.prop(cj);if(g){let _=h.resolve(a-h.from,d);for(let y of g)if(y.test(_,s)){let k=s.facet(y.facet);return y.type=="replace"?k:k.concat(f)}}return f})].concat(r)}isActiveAt(i,e,r=-1){return OS(i,e,r).type.prop(Ya)==this.data}findRegions(i){let e=i.facet(Lo);if(e?.data==this.data)return[{from:0,to:i.doc.length}];if(!e||!e.allowsNesting)return[];let r=[],o=(s,a)=>{if(s.prop(Ya)==this.data){r.push({from:a,to:a+s.length});return}let d=s.prop(At.mounted);if(d){if(d.tree.prop(Ya)==this.data){if(d.overlay)for(let h of d.overlay)r.push({from:h.from+a,to:h.to+a});else r.push({from:a,to:a+s.length});return}else if(d.overlay){let h=r.length;if(o(d.tree,d.overlay[0].from+a),r.length>h)return}}for(let h=0;h<s.children.length;h++){let m=s.children[h];m instanceof He&&o(m,s.positions[h]+a)}};return o(si(i),0),r}get allowsNesting(){return!0}}return n.setState=zt.define(),n})();function OS(n,t,i){let e=n.facet(Lo),r=si(n).topNode;if(!e||e.allowsNesting)for(let o=r;o;o=o.enter(t,i,Je.ExcludeBuffers))o.type.isTop&&(r=o);return r}var ym=class n extends Ir{constructor(t,i,e){super(t,i,[],e),this.parser=i}static define(t){let i=lj(t.languageData);return new n(i,t.parser.configure({props:[Ya.add(e=>e.isTop?i:void 0)]}),t.name)}configure(t,i){return new n(this.data,this.parser.configure(t),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function si(n){let t=n.field(Ir.state,!1);return t?t.tree:He.empty}var p_=class{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,i){let e=this.cursorPos-this.string.length;return t<e||i>=this.cursorPos?this.doc.sliceString(t,i):this.string.slice(t-e,i-e)}},rd=null,g_=class n{constructor(t,i,e=[],r,o,s,a,d){this.parser=t,this.state=i,this.fragments=e,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=d,this.parse=null,this.tempSkipped=[]}static create(t,i,e){return new n(t,i,[],He.empty,0,e,[],null)}startParse(){return this.parser.startParse(new p_(this.state.doc),this.fragments)}work(t,i){return i!=null&&i>=this.state.doc.length&&(i=void 0),this.tree!=He.empty&&this.isDone(i??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var e;if(typeof t=="number"){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),i!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(As.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(e=this.parse.stoppedAt)!==null&&e!==void 0?e:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(i??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,i;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=t,this.tree=i,this.fragments=this.withoutTempSkipped(As.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let i=rd;rd=this;try{return t()}finally{rd=i}}withoutTempSkipped(t){for(let i;i=this.tempSkipped.pop();)t=FS(t,i.from,i.to);return t}changes(t,i){let{fragments:e,tree:r,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!t.empty){let d=[];if(t.iterChangedRanges((h,m,f,g)=>d.push({fromA:h,toA:m,fromB:f,toB:g})),e=As.applyChanges(e,d),r=He.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];for(let h of this.skipped){let m=t.mapPos(h.from,1),f=t.mapPos(h.to,-1);m<f&&a.push({from:m,to:f})}}}return new n(this.parser,i,e,r,o,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let i=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:r,to:o}=this.skipped[e];r<t.to&&o>t.from&&(this.fragments=FS(this.fragments,r,o),this.skipped.splice(e--,1))}return this.skipped.length>=i?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,i){this.skipped.push({from:t,to:i})}static getSkippingParser(t){return new class extends Wa{createParse(i,e,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let d=rd;if(d){for(let h of r)d.tempSkipped.push(h);t&&(d.scheduleOn=d.scheduleOn?Promise.all([d.scheduleOn,t]):t)}return this.parsedPos=s,new He(xi.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let i=this.fragments;return this.treeLen>=t&&i.length&&i[0].from==0&&i[0].to>=t}static get(){return rd}};function FS(n,t,i){return As.applyChanges(n,[{fromA:t,toA:i,fromB:t,toB:i}])}var sd=class n{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(t.changes,t.state),e=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,e)||i.takeTree(),new n(i)}static init(t){let i=Math.min(3e3,t.doc.length),e=g_.create(t.facet(Lo).parser,t,{from:0,to:i});return e.work(20,i)||e.takeTree(),new n(e)}};Ir.state=Fe.define({create:sd.init,update(n,t){for(let i of t.effects)if(i.is(Ir.setState))return i.value;return t.startState.facet(Lo)!=t.state.facet(Lo)?sd.init(t.state):n.apply(t)}});var BS=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(BS=n=>{let t=-1,i=setTimeout(()=>{t=requestIdleCallback(n,{timeout:400})},100);return()=>t<0?clearTimeout(i):cancelIdleCallback(t)});var u_=typeof navigator<"u"&&(!((h_=navigator.scheduling)===null||h_===void 0)&&h_.isInputPending)?()=>navigator.scheduling.isInputPending():null,dj=Ae.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let i=this.view.state.field(Ir.state).context;(i.updateViewport(t.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:t}=this.view,i=t.field(Ir.state);(i.tree!=i.context.tree||!i.context.isDone(t.doc.length))&&(this.working=BS(this.work))}work(t){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:e,viewport:{to:r}}=this.view,o=e.field(Ir.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!u_?Math.max(25,t.timeRemaining()-5):1e9),a=o.context.treeLen<r&&e.doc.length>r+1e3,d=o.context.work(()=>u_&&u_()||Date.now()>s,r+(a?0:1e5));this.chunkBudget-=Date.now()-i,(d||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Ir.setState.of(new sd(o.context))})),this.chunkBudget>0&&!(d&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(i=>mi(this.view.state,i)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Lo=Q.define({combine(n){return n.length?n[0]:null},enables:n=>[Ir.state,dj,vt.contentAttributes.compute([n],t=>{let i=t.facet(n);return i&&i.name?{"data-language":i.name}:{}})]}),xm=class{constructor(t,i=[]){this.language=t,this.support=i,this.extension=[t,i]}};var hj=Q.define(),ad=Q.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(i=>i!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function ld(n){let t=n.facet(ad);return t.charCodeAt(0)==9?n.tabSize*t.length:t.length}function qa(n,t){let i="",e=n.tabSize,r=n.facet(ad)[0];if(r=="	"){for(;t>=e;)i+="	",t-=e;r=" "}for(let o=0;o<t;o++)i+=r;return i}function Dm(n,t){n instanceof oi&&(n=new Ms(n));for(let e of n.state.facet(hj)){let r=e(n,t);if(r!==void 0)return r}let i=si(n.state);return i.length>=t?uj(n,i,t):null}var Ms=class{constructor(t,i={}){this.state=t,this.options=i,this.unit=ld(t)}lineAt(t,i=1){let e=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=e.from&&r<=e.to?o&&r==t?{text:"",from:t}:(i<0?r<t:r<=t)?{text:e.text.slice(r-e.from),from:r}:{text:e.text.slice(0,r-e.from),from:e.from}:e}textAfterPos(t,i=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:e,from:r}=this.lineAt(t,i);return e.slice(t-r,Math.min(e.length,t+100-r))}column(t,i=1){let{text:e,from:r}=this.lineAt(t,i),o=this.countColumn(e,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(e,e.search(/\S|$/))),o}countColumn(t,i=t.length){return Xr(t,this.state.tabSize,i)}lineIndent(t,i=1){let{text:e,from:r}=this.lineAt(t,i),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(e,e.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}},k_=new At;function uj(n,t,i){let e=t.resolveStack(i),r=e.node.enterUnfinishedNodesBefore(i);if(r!=e.node){let o=[];for(let s=r;s!=e.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)e={node:o[s],next:e}}return zS(e,n,i)}function zS(n,t,i){for(let e=n;e;e=e.next){let r=fj(e.node);if(r)return r(b_.create(t,i,e))}return 0}function mj(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function fj(n){let t=n.type.prop(k_);if(t)return t;let i=n.firstChild,e;if(i&&(e=i.type.prop(At.closedBy))){let r=n.lastChild,o=r&&e.indexOf(r.name)>-1;return s=>_j(s,!0,1,void 0,o&&!mj(s)?r.from:void 0)}return n.parent==null?pj:null}function pj(){return 0}var b_=class n extends Ms{constructor(t,i,e){super(t.state,t.options),this.base=t,this.pos=i,this.context=e}get node(){return this.context.node}static create(t,i,e){return new n(t,i,e)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let i=this.state.doc.lineAt(t.from);for(;;){let e=t.resolve(i.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(gj(e,t))break;i=this.state.doc.lineAt(e.from)}return this.lineIndent(i.from)}continue(){return zS(this.context.next,this.base,this.pos)}};function gj(n,t){for(let i=t;i;i=i.parent)if(n==i)return!0;return!1}function bj(n){let t=n.node,i=t.childAfter(t.from),e=t.lastChild;if(!i)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(i.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let a=i.to;;){let d=t.childAfter(a);if(!d||d==e)return null;if(!d.type.isSkipped)return d.from<s?i:null;a=d.to}}function _j(n,t,i,e,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=e&&o.slice(s,s+e.length)==e||r==n.pos+s,d=t?bj(n):null;return d?a?n.column(d.from):n.column(d.to):n.baseIndent+(a?0:n.unit*i)}function C_({except:n,units:t=1}={}){return i=>{let e=n&&n.test(i.textAfter);return i.baseIndent+(e?0:t*i.unit)}}var vj=200;function jS(){return oi.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let i=n.newDoc,{head:e}=n.newSelection.main,r=i.lineAt(e);if(e>r.from+vj)return n;let o=i.sliceString(r.from,e);if(!t.some(h=>h.test(o)))return n;let{state:s}=n,a=-1,d=[];for(let{head:h}of s.selection.ranges){let m=s.doc.lineAt(h);if(m.from==a)continue;a=m.from;let f=Dm(s,m.from);if(f==null)continue;let g=/^\s*/.exec(m.text)[0],_=qa(s,f);g!=_&&d.push({from:m.from,to:m.from+g.length,insert:_})}return d.length?[n,{changes:d,sequential:!0}]:n})}var yj=Q.define(),D_=new At;function HS(n){let t=n.firstChild,i=n.lastChild;return t&&t.to<i.from?{from:t.to,to:i.type.isError?n.to:i.from}:null}function xj(n,t,i){let e=si(n);if(e.length<i)return null;let r=e.resolveStack(i,1),o=null;for(let s=r;s;s=s.next){let a=s.node;if(a.to<=i||a.from>i)continue;if(o&&a.from<t)break;let d=a.type.prop(D_);if(d&&(a.to<e.length-50||e.length==n.doc.length||!wj(a))){let h=d(a,n);h&&h.from<=i&&h.from>=t&&h.to>i&&(o=h)}}return o}function wj(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function wm(n,t,i){for(let e of n.facet(yj)){let r=e(n,t,i);if(r)return r}return xj(n,t,i)}function US(n,t){let i=t.mapPos(n.from,1),e=t.mapPos(n.to,-1);return i>=e?void 0:{from:i,to:e}}var Sm=zt.define({map:US}),cd=zt.define({map:US});function WS(n){let t=[];for(let{head:i}of n.state.selection.ranges)t.some(e=>e.from<=i&&e.to>=i)||t.push(n.lineBlockAt(i));return t}var Is=Fe.define({create(){return st.none},update(n,t){n=n.map(t.changes);for(let i of t.effects)if(i.is(Sm)&&!kj(n,i.value.from,i.value.to)){let{preparePlaceholder:e}=t.state.facet(S_),r=e?st.replace({widget:new __(e(t.state,i.value))}):PS;n=n.update({add:[r.range(i.value.from,i.value.to)]})}else i.is(cd)&&(n=n.update({filter:(e,r)=>i.value.from!=e||i.value.to!=r,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:e}=t.selection.main;n.between(e,e,(r,o)=>{r<e&&o>e&&(i=!0)}),i&&(n=n.update({filterFrom:e,filterTo:e,filter:(r,o)=>o<=e||r>=e}))}return n},provide:n=>vt.decorations.from(n),toJSON(n,t){let i=[];return n.between(0,t.doc.length,(e,r)=>{i.push(e,r)}),i},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let i=0;i<n.length;){let e=n[i++],r=n[i++];if(typeof e!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");t.push(PS.range(e,r))}return st.set(t,!0)}});function km(n,t,i){var e;let r=null;return(e=n.field(Is,!1))===null||e===void 0||e.between(t,i,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function kj(n,t,i){let e=!1;return n.between(t,t,(r,o)=>{r==t&&o==i&&(e=!0)}),e}function $S(n,t){return n.field(Is,!1)?t:t.concat(zt.appendConfig.of(GS()))}var Cj=n=>{for(let t of WS(n)){let i=wm(n.state,t.from,t.to);if(i)return n.dispatch({effects:$S(n.state,[Sm.of(i),YS(n,i)])}),!0}return!1},Dj=n=>{if(!n.state.field(Is,!1))return!1;let t=[];for(let i of WS(n)){let e=km(n.state,i.from,i.to);e&&t.push(cd.of(e),YS(n,e,!1))}return t.length&&n.dispatch({effects:t}),t.length>0};function YS(n,t,i=!0){let e=n.state.doc.lineAt(t.from).number,r=n.state.doc.lineAt(t.to).number;return vt.announce.of(`${n.state.phrase(i?"Folded lines":"Unfolded lines")} ${e} ${n.state.phrase("to")} ${r}.`)}var Sj=n=>{let{state:t}=n,i=[];for(let e=0;e<t.doc.length;){let r=n.lineBlockAt(e),o=wm(t,r.from,r.to);o&&i.push(Sm.of(o)),e=(o?n.lineBlockAt(o.to):r).to+1}return i.length&&n.dispatch({effects:$S(n.state,i)}),!!i.length},Aj=n=>{let t=n.state.field(Is,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,n.state.doc.length,(e,r)=>{i.push(cd.of({from:e,to:r}))}),n.dispatch({effects:i}),!0};var qS=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Cj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Dj},{key:"Ctrl-Alt-[",run:Sj},{key:"Ctrl-Alt-]",run:Aj}],Ej={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},S_=Q.define({combine(n){return yi(n,Ej)}});function GS(n){let t=[Is,Ij];return n&&t.push(S_.of(n)),t}function KS(n,t){let{state:i}=n,e=i.facet(S_),r=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),d=km(n.state,a.from,a.to);d&&n.dispatch({effects:cd.of(d)}),s.preventDefault()};if(e.placeholderDOM)return e.placeholderDOM(n,r,t);let o=document.createElement("span");return o.textContent=e.placeholderText,o.setAttribute("aria-label",i.phrase("folded code")),o.title=i.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}var PS=st.replace({widget:new class extends Ui{toDOM(n){return KS(n,null)}}}),__=class extends Ui{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return KS(t,this.value)}},Mj={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1},od=class extends hn{constructor(t,i){super(),this.config=t,this.open=i}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=t.state.phrase(this.open?"Fold line":"Unfold line"),i}};function XS(n={}){let t=Object.assign(Object.assign({},Mj),n),i=new od(t,!0),e=new od(t,!1),r=Ae.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Lo)!=s.state.facet(Lo)||s.startState.field(Is,!1)!=s.state.field(Is,!1)||si(s.startState)!=si(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Jn;for(let d of s.viewportLineBlocks){let h=km(s.state,d.from,d.to)?e:wm(s.state,d.from,d.to)?i:null;h&&a.add(d.from,d.from,h)}return a.finish()}}),{domEventHandlers:o}=t;return[r,J0({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(r))===null||a===void 0?void 0:a.markers)||we.empty},initialSpacer(){return new od(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,d)=>{if(o.click&&o.click(s,a,d))return!0;let h=km(s.state,a.from,a.to);if(h)return s.dispatch({effects:cd.of(h)}),!0;let m=wm(s.state,a.from,a.to);return m?(s.dispatch({effects:Sm.of(m)}),!0):!1}})}),GS()]}var Ij=vt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),Cm=class n{constructor(t,i){this.specs=t;let e;function r(a){let d=On.newName();return(e||(e=Object.create(null)))["."+d]=a,d}let o=typeof i.all=="string"?i.all:i.all?r(i.all):void 0,s=i.scope;this.scope=s instanceof Ir?a=>a.prop(Ya)==s.data:s?a=>a==s:void 0,this.style=d_(t.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=e?new On(e):null,this.themeType=i.themeType}static define(t,i){return new n(t,i||{})}},v_=Q.define(),ZS=Q.define({combine(n){return n.length?[n[0]]:null}});function m_(n){let t=n.facet(v_);return t.length?t:n.facet(ZS)}function QS(n,t){let i=[Tj],e;return n instanceof Cm&&(n.module&&i.push(vt.styleModule.of(n.module)),e=n.themeType),t?.fallback?i.push(ZS.of(n)):e?i.push(v_.computeN([vt.darkTheme],r=>r.facet(vt.darkTheme)==(e=="dark")?[n]:[])):i.push(v_.of(n)),i}var y_=class{constructor(t){this.markCache=Object.create(null),this.tree=si(t.state),this.decorations=this.buildDeco(t,m_(t.state)),this.decoratedTo=t.viewport.to}update(t){let i=si(t.state),e=m_(t.state),r=e!=m_(t.startState),{viewport:o}=t.view,s=t.changes.mapPos(this.decoratedTo,1);i.length<o.to&&!r&&i.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(i!=this.tree||t.viewportChanged||r)&&(this.tree=i,this.decorations=this.buildDeco(t.view,e),this.decoratedTo=o.to)}buildDeco(t,i){if(!i||!this.tree.length)return st.none;let e=new Jn;for(let{from:r,to:o}of t.visibleRanges)RS(this.tree,i,(s,a,d)=>{e.add(s,a,this.markCache[d]||(this.markCache[d]=st.mark({class:d})))},r,o);return e.finish()}},Tj=tr.high(Ae.fromClass(y_,{decorations:n=>n.decorations})),JS=Cm.define([{tag:$.meta,color:"#404740"},{tag:$.link,textDecoration:"underline"},{tag:$.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$.emphasis,fontStyle:"italic"},{tag:$.strong,fontWeight:"bold"},{tag:$.strikethrough,textDecoration:"line-through"},{tag:$.keyword,color:"#708"},{tag:[$.atom,$.bool,$.url,$.contentSeparator,$.labelName],color:"#219"},{tag:[$.literal,$.inserted],color:"#164"},{tag:[$.string,$.deleted],color:"#a11"},{tag:[$.regexp,$.escape,$.special($.string)],color:"#e40"},{tag:$.definition($.variableName),color:"#00f"},{tag:$.local($.variableName),color:"#30a"},{tag:[$.typeName,$.namespace],color:"#085"},{tag:$.className,color:"#167"},{tag:[$.special($.variableName),$.macroName],color:"#256"},{tag:$.definition($.propertyName),color:"#00c"},{tag:$.comment,color:"#940"},{tag:$.invalid,color:"#f00"}]),Rj=vt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),tA=1e4,eA="()[]{}",iA=Q.define({combine(n){return yi(n,{afterCursor:!0,brackets:eA,maxScanDistance:tA,renderMatch:Pj})}}),Oj=st.mark({class:"cm-matchingBracket"}),Fj=st.mark({class:"cm-nonmatchingBracket"});function Pj(n){let t=[],i=n.matched?Oj:Fj;return t.push(i.range(n.start.from,n.start.to)),n.end&&t.push(i.range(n.end.from,n.end.to)),t}var Lj=Fe.define({create(){return st.none},update(n,t){if(!t.docChanged&&!t.selection)return n;let i=[],e=t.state.facet(iA);for(let r of t.state.selection.ranges){if(!r.empty)continue;let o=ir(t.state,r.head,-1,e)||r.head>0&&ir(t.state,r.head-1,1,e)||e.afterCursor&&(ir(t.state,r.head,1,e)||r.head<t.state.doc.length&&ir(t.state,r.head+1,-1,e));o&&(i=i.concat(e.renderMatch(o,t.state)))}return st.set(i,!0)},provide:n=>vt.decorations.from(n)}),Nj=[Lj,Rj];function nA(n={}){return[iA.of(n),Nj]}var Vj=new At;function x_(n,t,i){let e=n.prop(t<0?At.openedBy:At.closedBy);if(e)return e;if(n.name.length==1){let r=i.indexOf(n.name);if(r>-1&&r%2==(t<0?1:0))return[i[r+t]]}return null}function w_(n){let t=n.type.prop(Vj);return t?t(n.node):n}function ir(n,t,i,e={}){let r=e.maxScanDistance||tA,o=e.brackets||eA,s=si(n),a=s.resolveInner(t,i);for(let d=a;d;d=d.parent){let h=x_(d.type,i,o);if(h&&d.from<d.to){let m=w_(d);if(m&&(i>0?t>=m.from&&t<m.to:t>m.from&&t<=m.to))return Bj(n,t,i,d,m,h,o)}}return zj(n,t,i,s,a.type,r,o)}function Bj(n,t,i,e,r,o,s){let a=e.parent,d={from:r.from,to:r.to},h=0,m=a?.cursor();if(m&&(i<0?m.childBefore(e.from):m.childAfter(e.to)))do if(i<0?m.to<=e.from:m.from>=e.to){if(h==0&&o.indexOf(m.type.name)>-1&&m.from<m.to){let f=w_(m);return{start:d,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(x_(m.type,i,s))h++;else if(x_(m.type,-i,s)){if(h==0){let f=w_(m);return{start:d,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}h--}}while(i<0?m.prevSibling():m.nextSibling());return{start:d,matched:!1}}function zj(n,t,i,e,r,o,s){let a=i<0?n.sliceDoc(t-1,t):n.sliceDoc(t,t+1),d=s.indexOf(a);if(d<0||d%2==0!=i>0)return null;let h={from:i<0?t-1:t,to:i>0?t+1:t},m=n.doc.iterRange(t,i>0?n.doc.length:0),f=0;for(let g=0;!m.next().done&&g<=o;){let _=m.value;i<0&&(g+=_.length);let y=t+g*i;for(let k=i>0?0:_.length-1,S=i>0?_.length:-1;k!=S;k+=i){let M=s.indexOf(_[k]);if(!(M<0||e.resolveInner(y+k,1).type!=r))if(M%2==0==i>0)f++;else{if(f==1)return{start:h,end:{from:y+k,to:y+k+1},matched:M>>1==d>>1};f--}}i>0&&(g+=_.length)}return m.done?{start:h,matched:!1}:null}var jj=Object.create(null),LS=[xi.none];var NS=[],VS=Object.create(null),Hj=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Hj[n]=Uj(jj,t);function f_(n,t){NS.indexOf(n)>-1||(NS.push(n),console.warn(t))}function Uj(n,t){let i=[];for(let a of t.split(" ")){let d=[];for(let h of a.split(".")){let m=n[h]||$[h];m?typeof m=="function"?d.length?d=d.map(m):f_(h,`Modifier ${h} used at start of tag`):d.length?f_(h,`Tag ${h} used as modifier`):d=Array.isArray(m)?m:[m]:f_(h,`Unknown highlighting tag ${h}`)}for(let h of d)i.push(h)}if(!i.length)return 0;let e=t.replace(/ /g,"_"),r=e+" "+i.map(a=>a.id),o=VS[r];if(o)return o.id;let s=VS[r]=xi.define({id:LS.length,name:e,props:[vm({[e]:i})]});return LS.push(s),s.id}var l9={rtl:st.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:me.RTL}),ltr:st.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:me.LTR}),auto:st.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var Wj=n=>{let{state:t}=n,i=t.doc.lineAt(t.selection.main.from),e=F_(n.state,i.from);return e.line?$j(n):e.block?qj(n):!1};function O_(n,t){return({state:i,dispatch:e})=>{if(i.readOnly)return!1;let r=n(t,i);return r?(e(i.update(r)),!0):!1}}var $j=O_(Xj,0);var Yj=O_(hA,0);var qj=O_((n,t)=>hA(n,t,Kj(t)),0);function F_(n,t){let i=n.languageDataAt("commentTokens",t);return i.length?i[0]:{}}var dd=50;function Gj(n,{open:t,close:i},e,r){let o=n.sliceDoc(e-dd,e),s=n.sliceDoc(r,r+dd),a=/\s*$/.exec(o)[0].length,d=/^\s*/.exec(s)[0].length,h=o.length-a;if(o.slice(h-t.length,h)==t&&s.slice(d,d+i.length)==i)return{open:{pos:e-a,margin:a&&1},close:{pos:r+d,margin:d&&1}};let m,f;r-e<=2*dd?m=f=n.sliceDoc(e,r):(m=n.sliceDoc(e,e+dd),f=n.sliceDoc(r-dd,r));let g=/^\s*/.exec(m)[0].length,_=/\s*$/.exec(f)[0].length,y=f.length-_-i.length;return m.slice(g,g+t.length)==t&&f.slice(y,y+i.length)==i?{open:{pos:e+g+t.length,margin:/\s/.test(m.charAt(g+t.length))?1:0},close:{pos:r-_-i.length,margin:/\s/.test(f.charAt(y-1))?1:0}}:null}function Kj(n){let t=[];for(let i of n.selection.ranges){let e=n.doc.lineAt(i.from),r=i.to<=e.to?e:n.doc.lineAt(i.to),o=t.length-1;o>=0&&t[o].to>e.from?t[o].to=r.to:t.push({from:e.from+/^\s*/.exec(e.text)[0].length,to:r.to})}return t}function hA(n,t,i=t.selection.ranges){let e=i.map(o=>F_(t,o.from).block);if(!e.every(o=>o))return null;let r=i.map((o,s)=>Gj(t,e[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:t.changes(i.map((o,s)=>r[s]?[]:[{from:o.from,insert:e[s].open+" "},{from:o.to,insert:" "+e[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,a;s<r.length;s++)if(a=r[s]){let d=e[s],{open:h,close:m}=a;o.push({from:h.pos-d.open.length,to:h.pos+h.margin},{from:m.pos-m.margin,to:m.pos+d.close.length})}return{changes:o}}return null}function Xj(n,t,i=t.selection.ranges){let e=[],r=-1;for(let{from:o,to:s}of i){let a=e.length,d=1e9,h=F_(t,o).line;if(h){for(let m=o;m<=s;){let f=t.doc.lineAt(m);if(f.from>r&&(o==s||s>f.from)){r=f.from;let g=/^\s*/.exec(f.text)[0].length,_=g==f.length,y=f.text.slice(g,g+h.length)==h?g:-1;g<f.text.length&&g<d&&(d=g),e.push({line:f,comment:y,token:h,indent:g,empty:_,single:!1})}m=f.to+1}if(d<1e9)for(let m=a;m<e.length;m++)e[m].indent<e[m].line.text.length&&(e[m].indent=d);e.length==a+1&&(e[a].single=!0)}}if(n!=2&&e.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:d,indent:h,empty:m,single:f}of e)(f||!m)&&o.push({from:a.from+h,insert:d+" "});let s=t.changes(o);return{changes:s,selection:t.selection.map(s,1)}}else if(n!=1&&e.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:d}of e)if(a>=0){let h=s.from+a,m=h+d.length;s.text[m-s.from]==" "&&m++,o.push({from:h,to:m})}return{changes:o}}return null}var M_=Hi.define(),Zj=Hi.define(),Qj=Q.define(),uA=Q.define({combine(n){return yi(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,i)=>(e,r)=>t(e,r)||i(e,r)})}}),mA=Fe.define({create(){return E_.empty},update(n,t){let i=t.state.facet(uA),e=t.annotation(M_);if(e){let d=nr.fromTransaction(t,e.selection),h=e.side,m=h==0?n.undone:n.done;return d?m=Em(m,m.length,i.minDepth,d):m=bA(m,t.startState.selection),new E_(h==0?e.rest:m,h==0?m:e.rest)}let r=t.annotation(Zj);if((r=="full"||r=="before")&&(n=n.isolate()),t.annotation(ln.addToHistory)===!1)return t.changes.empty?n:n.addMapping(t.changes.desc);let o=nr.fromTransaction(t),s=t.annotation(ln.time),a=t.annotation(ln.userEvent);return o?n=n.addChanges(o,s,a,i,t):t.selection&&(n=n.addSelection(t.startState.selection,s,a,i.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}},fromJSON(n){return new E_(n.done.map(nr.fromJSON),n.undone.map(nr.fromJSON))}});function fA(n={}){return[mA,uA.of(n),vt.domEventHandlers({beforeinput(t,i){let e=t.inputType=="historyUndo"?pA:t.inputType=="historyRedo"?I_:null;return e?(t.preventDefault(),e(i)):!1}})]}function Mm(n,t){return function({state:i,dispatch:e}){if(!t&&i.readOnly)return!1;let r=i.field(mA,!1);if(!r)return!1;let o=r.pop(n,i,t);return o?(e(o),!0):!1}}var pA=Mm(0,!1),I_=Mm(1,!1),Jj=Mm(0,!0),t5=Mm(1,!0);var nr=class n{constructor(t,i,e,r,o){this.changes=t,this.effects=i,this.mapped=e,this.startSelection=r,this.selectionsAfter=o}setSelAfter(t){return new n(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,i,e;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(i=this.mapped)===null||i===void 0?void 0:i.toJSON(),startSelection:(e=this.startSelection)===null||e===void 0?void 0:e.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new n(t.changes&&Ii.fromJSON(t.changes),[],t.mapped&&Kr.fromJSON(t.mapped),t.startSelection&&N.fromJSON(t.startSelection),t.selectionsAfter.map(N.fromJSON))}static fromTransaction(t,i){let e=Ln;for(let r of t.startState.facet(Qj)){let o=r(t);o.length&&(e=e.concat(o))}return!e.length&&t.changes.empty?null:new n(t.changes.invert(t.startState.doc),e,void 0,i||t.startState.selection,Ln)}static selection(t){return new n(void 0,Ln,void 0,void 0,t)}};function Em(n,t,i,e){let r=t+1>i+20?t-i-1:0,o=n.slice(r,t);return o.push(e),o}function e5(n,t){let i=[],e=!1;return n.iterChangedRanges((r,o)=>i.push(r,o)),t.iterChangedRanges((r,o,s,a)=>{for(let d=0;d<i.length;){let h=i[d++],m=i[d++];a>=h&&s<=m&&(e=!0)}}),e}function i5(n,t){return n.ranges.length==t.ranges.length&&n.ranges.filter((i,e)=>i.empty!=t.ranges[e].empty).length===0}function gA(n,t){return n.length?t.length?n.concat(t):n:t}var Ln=[],n5=200;function bA(n,t){if(n.length){let i=n[n.length-1],e=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-n5));return e.length&&e[e.length-1].eq(t)?n:(e.push(t),Em(n,n.length-1,1e9,i.setSelAfter(e)))}else return[nr.selection([t])]}function r5(n){let t=n[n.length-1],i=n.slice();return i[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function A_(n,t){if(!n.length)return n;let i=n.length,e=Ln;for(;i;){let r=o5(n[i-1],t,e);if(r.changes&&!r.changes.empty||r.effects.length){let o=n.slice(0,i);return o[i-1]=r,o}else t=r.mapped,i--,e=r.selectionsAfter}return e.length?[nr.selection(e)]:Ln}function o5(n,t,i){let e=gA(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(t)):Ln,i);if(!n.changes)return nr.selection(e);let r=n.changes.map(t),o=t.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new nr(r,zt.mapEffects(n.effects,t),s,n.startSelection.map(o),e)}var s5=/^(input\.type|delete)($|\.)/,E_=(()=>{class n{constructor(i,e,r=0,o=void 0){this.done=i,this.undone=e,this.prevTime=r,this.prevUserEvent=o}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(i,e,r,o,s){let a=this.done,d=a[a.length-1];return d&&d.changes&&!d.changes.empty&&i.changes&&(!r||s5.test(r))&&(!d.selectionsAfter.length&&e-this.prevTime<o.newGroupDelay&&o.joinToEvent(s,e5(d.changes,i.changes))||r=="input.type.compose")?a=Em(a,a.length-1,o.minDepth,new nr(i.changes.compose(d.changes),gA(i.effects,d.effects),d.mapped,d.startSelection,Ln)):a=Em(a,a.length,o.minDepth,i),new n(a,Ln,e,r)}addSelection(i,e,r,o){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ln;return s.length>0&&e-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&i5(s[s.length-1],i)?this:new n(bA(this.done,i),this.undone,e,r)}addMapping(i){return new n(A_(this.done,i),A_(this.undone,i),this.prevTime,this.prevUserEvent)}pop(i,e,r){let o=i==0?this.done:this.undone;if(o.length==0)return null;let s=o[o.length-1],a=s.selectionsAfter[0]||e.selection;if(r&&s.selectionsAfter.length)return e.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:M_.of({side:i,rest:r5(o),selection:a}),userEvent:i==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let d=o.length==1?Ln:o.slice(0,o.length-1);return s.mapped&&(d=A_(d,s.mapped)),e.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:M_.of({side:i,rest:d,selection:a}),filter:!1,userEvent:i==0?"undo":"redo",scrollIntoView:!0})}else return null}}return n.empty=new n(Ln,Ln),n})(),_A=[{key:"Mod-z",run:pA,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:I_,preventDefault:!0},{linux:"Ctrl-Shift-z",run:I_,preventDefault:!0},{key:"Mod-u",run:Jj,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:t5,preventDefault:!0}];function Ga(n,t){return N.create(n.ranges.map(t),n.mainIndex)}function Tr(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function rr({state:n,dispatch:t},i){let e=Ga(n.selection,i);return e.eq(n.selection,!0)?!1:(t(Tr(n,e)),!0)}function Im(n,t){return N.cursor(t?n.to:n.from)}function vA(n,t){return rr(n,i=>i.empty?n.moveByChar(i,t):Im(i,t))}function wi(n){return n.textDirectionAt(n.state.selection.main.head)==me.LTR}var yA=n=>vA(n,!wi(n)),xA=n=>vA(n,wi(n));function wA(n,t){return rr(n,i=>i.empty?n.moveByGroup(i,t):Im(i,t))}var a5=n=>wA(n,!wi(n)),l5=n=>wA(n,wi(n));var b9=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function c5(n,t,i){if(t.type.prop(i))return!0;let e=t.to-t.from;return e&&(e>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function Tm(n,t,i){let e=si(n).resolveInner(t.head),r=i?At.closedBy:At.openedBy;for(let d=t.head;;){let h=i?e.childAfter(d):e.childBefore(d);if(!h)break;c5(n,h,r)?e=h:d=i?h.to:h.from}let o=e.type.prop(r),s,a;return o&&(s=i?ir(n,e.from,1):ir(n,e.to,-1))&&s.matched?a=i?s.end.to:s.end.from:a=i?e.to:e.from,N.cursor(a,i?-1:1)}var d5=n=>rr(n,t=>Tm(n.state,t,!wi(n))),h5=n=>rr(n,t=>Tm(n.state,t,wi(n)));function kA(n,t){return rr(n,i=>{if(!i.empty)return Im(i,t);let e=n.moveVertically(i,t);return e.head!=i.head?e:n.moveToLineBoundary(i,t)})}var CA=n=>kA(n,!1),DA=n=>kA(n,!0);function SA(n){let t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,i=0,e=0,r;if(t){for(let o of n.state.facet(vt.scrollMargins)){let s=o(n);s?.top&&(i=Math.max(s?.top,i)),s?.bottom&&(e=Math.max(s?.bottom,e))}r=n.scrollDOM.clientHeight-i-e}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:e,selfScroll:t,height:Math.max(n.defaultLineHeight,r-5)}}function AA(n,t){let i=SA(n),{state:e}=n,r=Ga(e.selection,s=>s.empty?n.moveVertically(s,t,i.height):Im(s,t));if(r.eq(e.selection))return!1;let o;if(i.selfScroll){let s=n.coordsAtPos(e.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),d=a.top+i.marginTop,h=a.bottom-i.marginBottom;s&&s.top>d&&s.bottom<h&&(o=vt.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-d}))}return n.dispatch(Tr(e,r),{effects:o}),!0}var rA=n=>AA(n,!1),T_=n=>AA(n,!0);function No(n,t,i){let e=n.lineBlockAt(t.head),r=n.moveToLineBoundary(t,i);if(r.head==t.head&&r.head!=(i?e.to:e.from)&&(r=n.moveToLineBoundary(t,i,!1)),!i&&r.head==e.from&&e.length){let o=/^\s*/.exec(n.state.sliceDoc(e.from,Math.min(e.from+100,e.to)))[0].length;o&&t.head!=e.from+o&&(r=N.cursor(e.from+o))}return r}var u5=n=>rr(n,t=>No(n,t,!0)),m5=n=>rr(n,t=>No(n,t,!1)),f5=n=>rr(n,t=>No(n,t,!wi(n))),p5=n=>rr(n,t=>No(n,t,wi(n))),g5=n=>rr(n,t=>N.cursor(n.lineBlockAt(t.head).from,1)),b5=n=>rr(n,t=>N.cursor(n.lineBlockAt(t.head).to,-1));function _5(n,t,i){let e=!1,r=Ga(n.selection,o=>{let s=ir(n,o.head,-1)||ir(n,o.head,1)||o.head>0&&ir(n,o.head-1,1)||o.head<n.doc.length&&ir(n,o.head+1,-1);if(!s||!s.end)return o;e=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return i?N.range(o.anchor,a):N.cursor(a)});return e?(t(Tr(n,r)),!0):!1}var v5=({state:n,dispatch:t})=>_5(n,t,!1);function Nn(n,t){let i=Ga(n.state.selection,e=>{let r=t(e);return N.range(e.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return i.eq(n.state.selection)?!1:(n.dispatch(Tr(n.state,i)),!0)}function EA(n,t){return Nn(n,i=>n.moveByChar(i,t))}var MA=n=>EA(n,!wi(n)),IA=n=>EA(n,wi(n));function TA(n,t){return Nn(n,i=>n.moveByGroup(i,t))}var y5=n=>TA(n,!wi(n)),x5=n=>TA(n,wi(n));var w5=n=>Nn(n,t=>Tm(n.state,t,!wi(n))),k5=n=>Nn(n,t=>Tm(n.state,t,wi(n)));function RA(n,t){return Nn(n,i=>n.moveVertically(i,t))}var OA=n=>RA(n,!1),FA=n=>RA(n,!0);function PA(n,t){return Nn(n,i=>n.moveVertically(i,t,SA(n).height))}var oA=n=>PA(n,!1),sA=n=>PA(n,!0),C5=n=>Nn(n,t=>No(n,t,!0)),D5=n=>Nn(n,t=>No(n,t,!1)),S5=n=>Nn(n,t=>No(n,t,!wi(n))),A5=n=>Nn(n,t=>No(n,t,wi(n))),E5=n=>Nn(n,t=>N.cursor(n.lineBlockAt(t.head).from)),M5=n=>Nn(n,t=>N.cursor(n.lineBlockAt(t.head).to)),aA=({state:n,dispatch:t})=>(t(Tr(n,{anchor:0})),!0),lA=({state:n,dispatch:t})=>(t(Tr(n,{anchor:n.doc.length})),!0),cA=({state:n,dispatch:t})=>(t(Tr(n,{anchor:n.selection.main.anchor,head:0})),!0),dA=({state:n,dispatch:t})=>(t(Tr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),I5=({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),T5=({state:n,dispatch:t})=>{let i=Rm(n).map(({from:e,to:r})=>N.range(e,Math.min(r+1,n.doc.length)));return t(n.update({selection:N.create(i),userEvent:"select"})),!0},R5=({state:n,dispatch:t})=>{let i=Ga(n.selection,e=>{var r;let o=si(n).resolveStack(e.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<e.from&&a.to>=e.to||a.to>e.to&&a.from<=e.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return N.range(a.to,a.from)}return e});return t(Tr(n,i)),!0},O5=({state:n,dispatch:t})=>{let i=n.selection,e=null;return i.ranges.length>1?e=N.create([i.main]):i.main.empty||(e=N.create([N.cursor(i.main.head)])),e?(t(Tr(n,e)),!0):!1};function hd(n,t){if(n.state.readOnly)return!1;let i="delete.selection",{state:e}=n,r=e.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let d=t(o);d<s?(i="delete.backward",d=Am(n,d,!1)):d>s&&(i="delete.forward",d=Am(n,d,!0)),s=Math.min(s,d),a=Math.max(a,d)}else s=Am(n,s,!1),a=Am(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:N.cursor(s,s<o.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(e.update(r,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?vt.announce.of(e.phrase("Selection deleted")):void 0})),!0)}function Am(n,t,i){if(n instanceof vt)for(let e of n.state.facet(vt.atomicRanges).map(r=>r(n)))e.between(t,t,(r,o)=>{r<t&&o>t&&(t=i?o:r)});return t}var LA=(n,t,i)=>hd(n,e=>{let r=e.from,{state:o}=n,s=o.doc.lineAt(r),a,d;if(i&&!t&&r>s.from&&r<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,r-s.from))){if(a[a.length-1]=="	")return r-1;let h=Xr(a,o.tabSize),m=h%ld(o)||ld(o);for(let f=0;f<m&&a[a.length-1-f]==" ";f++)r--;d=r}else d=Ye(s.text,r-s.from,t,t)+s.from,d==r&&s.number!=(t?o.doc.lines:1)?d+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(s.text.slice(d-s.from,r-s.from))&&(d=Ye(s.text,d-s.from,!1,!1)+s.from);return d}),R_=n=>LA(n,!1,!0);var NA=n=>LA(n,!0,!1),VA=(n,t)=>hd(n,i=>{let e=i.head,{state:r}=n,o=r.doc.lineAt(e),s=r.charCategorizer(e);for(let a=null;;){if(e==(t?o.to:o.from)){e==i.head&&o.number!=(t?r.doc.lines:1)&&(e+=t?1:-1);break}let d=Ye(o.text,e-o.from,t)+o.from,h=o.text.slice(Math.min(e,d)-o.from,Math.max(e,d)-o.from),m=s(h);if(a!=null&&m!=a)break;(h!=" "||e!=i.head)&&(a=m),e=d}return e}),BA=n=>VA(n,!1),F5=n=>VA(n,!0),P5=n=>hd(n,t=>{let i=n.lineBlockAt(t.head).to;return t.head<i?i:Math.min(n.state.doc.length,t.head+1)});var L5=n=>hd(n,t=>{let i=n.moveToLineBoundary(t,!1).head;return t.head>i?i:Math.max(0,t.head-1)}),N5=n=>hd(n,t=>{let i=n.moveToLineBoundary(t,!0).head;return t.head<i?i:Math.min(n.state.doc.length,t.head+1)});var V5=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=n.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:Xt.of(["",""])},range:N.cursor(e.from)}));return t(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},B5=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=n.changeByRange(e=>{if(!e.empty||e.from==0||e.from==n.doc.length)return{range:e};let r=e.from,o=n.doc.lineAt(r),s=r==o.from?r-1:Ye(o.text,r-o.from,!1)+o.from,a=r==o.to?r+1:Ye(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(s,r))},range:N.cursor(a)}});return i.changes.empty?!1:(t(n.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Rm(n){let t=[],i=-1;for(let e of n.selection.ranges){let r=n.doc.lineAt(e.from),o=n.doc.lineAt(e.to);if(!e.empty&&e.to==o.from&&(o=n.doc.lineAt(e.to-1)),i>=r.number){let s=t[t.length-1];s.to=o.to,s.ranges.push(e)}else t.push({from:r.from,to:o.to,ranges:[e]});i=o.number+1}return t}function zA(n,t,i){if(n.readOnly)return!1;let e=[],r=[];for(let o of Rm(n)){if(i?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(i?o.to+1:o.from-1),a=s.length+1;if(i){e.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let d of o.ranges)r.push(N.range(Math.min(n.doc.length,d.anchor+a),Math.min(n.doc.length,d.head+a)))}else{e.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let d of o.ranges)r.push(N.range(d.anchor-a,d.head-a))}}return e.length?(t(n.update({changes:e,scrollIntoView:!0,selection:N.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}var z5=({state:n,dispatch:t})=>zA(n,t,!1),j5=({state:n,dispatch:t})=>zA(n,t,!0);function jA(n,t,i){if(n.readOnly)return!1;let e=[];for(let r of Rm(n))i?e.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):e.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return t(n.update({changes:e,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var H5=({state:n,dispatch:t})=>jA(n,t,!1),U5=({state:n,dispatch:t})=>jA(n,t,!0),W5=n=>{if(n.state.readOnly)return!1;let{state:t}=n,i=t.changes(Rm(t).map(({from:r,to:o})=>(r>0?r--:o<t.doc.length&&o++,{from:r,to:o}))),e=Ga(t.selection,r=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(r.head),a=n.coordsAtPos(r.head,r.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(r,!0,o)}).map(i);return n.dispatch({changes:i,selection:e,scrollIntoView:!0,userEvent:"delete.line"}),!0};function $5(n,t){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(t-1,t+1)))return{from:t,to:t};let i=si(n).resolveInner(t),e=i.childBefore(t),r=i.childAfter(t),o;return e&&r&&e.to<=t&&r.from>=t&&(o=e.type.prop(At.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(e.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(e.to,r.from))?{from:e.to,to:r.from}:null}var Y5=HA(!1),q5=HA(!0);function HA(n){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let e=t.changeByRange(r=>{let{from:o,to:s}=r,a=t.doc.lineAt(o),d=!n&&o==s&&$5(t,o);n&&(o=s=(s<=a.to?a:t.doc.lineAt(s)).to);let h=new Ms(t,{simulateBreak:o,simulateDoubleBreak:!!d}),m=Dm(h,o);for(m==null&&(m=Xr(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;d?{from:o,to:s}=d:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",qa(t,m)];return d&&f.push(qa(t,h.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Xt.of(f)},range:N.cursor(o+1+f[1].length)}});return i(t.update(e,{scrollIntoView:!0,userEvent:"input"})),!0}}function P_(n,t){let i=-1;return n.changeByRange(e=>{let r=[];for(let s=e.from;s<=e.to;){let a=n.doc.lineAt(s);a.number>i&&(e.empty||e.to>a.from)&&(t(a,r,e),i=a.number),s=a.to+1}let o=n.changes(r);return{changes:r,range:N.range(o.mapPos(e.anchor,1),o.mapPos(e.head,1))}})}var G5=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=Object.create(null),e=new Ms(n,{overrideIndentation:o=>{let s=i[o];return s??-1}}),r=P_(n,(o,s,a)=>{let d=Dm(e,o.from);if(d==null)return;/\S/.test(o.text)||(d=0);let h=/^\s*/.exec(o.text)[0],m=qa(n,d);(h!=m||a.from<o.from+h.length)&&(i[o.from]=d,s.push({from:o.from,to:o.from+h.length,insert:m}))});return r.changes.empty||t(n.update(r,{userEvent:"indent"})),!0},L_=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(P_(n,(i,e)=>{e.push({from:i.from,insert:n.facet(ad)})}),{userEvent:"input.indent"})),!0),N_=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(P_(n,(i,e)=>{let r=/^\s*/.exec(i.text)[0];if(!r)return;let o=Xr(r,n.tabSize),s=0,a=qa(n,Math.max(0,o-ld(n)));for(;s<r.length&&s<a.length&&r.charCodeAt(s)==a.charCodeAt(s);)s++;e.push({from:i.from+s,to:i.from+r.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0);var K5=[{key:"Ctrl-b",run:yA,shift:MA,preventDefault:!0},{key:"Ctrl-f",run:xA,shift:IA},{key:"Ctrl-p",run:CA,shift:OA},{key:"Ctrl-n",run:DA,shift:FA},{key:"Ctrl-a",run:g5,shift:E5},{key:"Ctrl-e",run:b5,shift:M5},{key:"Ctrl-d",run:NA},{key:"Ctrl-h",run:R_},{key:"Ctrl-k",run:P5},{key:"Ctrl-Alt-h",run:BA},{key:"Ctrl-o",run:V5},{key:"Ctrl-t",run:B5},{key:"Ctrl-v",run:T_}],X5=[{key:"ArrowLeft",run:yA,shift:MA,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:a5,shift:y5,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:f5,shift:S5,preventDefault:!0},{key:"ArrowRight",run:xA,shift:IA,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:l5,shift:x5,preventDefault:!0},{mac:"Cmd-ArrowRight",run:p5,shift:A5,preventDefault:!0},{key:"ArrowUp",run:CA,shift:OA,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aA,shift:cA},{mac:"Ctrl-ArrowUp",run:rA,shift:oA},{key:"ArrowDown",run:DA,shift:FA,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lA,shift:dA},{mac:"Ctrl-ArrowDown",run:T_,shift:sA},{key:"PageUp",run:rA,shift:oA},{key:"PageDown",run:T_,shift:sA},{key:"Home",run:m5,shift:D5,preventDefault:!0},{key:"Mod-Home",run:aA,shift:cA},{key:"End",run:u5,shift:C5,preventDefault:!0},{key:"Mod-End",run:lA,shift:dA},{key:"Enter",run:Y5},{key:"Mod-a",run:I5},{key:"Backspace",run:R_,shift:R_},{key:"Delete",run:NA},{key:"Mod-Backspace",mac:"Alt-Backspace",run:BA},{key:"Mod-Delete",mac:"Alt-Delete",run:F5},{mac:"Mod-Backspace",run:L5},{mac:"Mod-Delete",run:N5}].concat(K5.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),UA=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:d5,shift:w5},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:h5,shift:k5},{key:"Alt-ArrowUp",run:z5},{key:"Shift-Alt-ArrowUp",run:H5},{key:"Alt-ArrowDown",run:j5},{key:"Shift-Alt-ArrowDown",run:U5},{key:"Escape",run:O5},{key:"Mod-Enter",run:q5},{key:"Alt-l",mac:"Ctrl-l",run:T5},{key:"Mod-i",run:R5,preventDefault:!0},{key:"Mod-[",run:N_},{key:"Mod-]",run:L_},{key:"Mod-Alt-\\",run:G5},{key:"Shift-Mod-k",run:W5},{key:"Shift-Mod-\\",run:v5},{key:"Mod-/",run:Wj},{key:"Alt-A",run:Yj}].concat(X5);function ce(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var t=1,i=arguments[1];if(i&&typeof i=="object"&&i.nodeType==null&&!Array.isArray(i)){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var r=i[e];typeof r=="string"?n.setAttribute(e,r):r!=null&&(n[e]=r)}t++}for(;t<arguments.length;t++)WA(n,arguments[t]);return n}function WA(n,t){if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)n.appendChild(t);else if(Array.isArray(t))for(var i=0;i<t.length;i++)WA(n,t[i]);else throw new RangeError("Unsupported child node: "+t)}var $A=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n,Bo=class{constructor(t,i,e=0,r=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(e,r),this.bufferStart=e,this.normalize=o?a=>o($A(a)):$A,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return $e(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let i=Ec(t),e=this.bufferStart+this.bufferPos;this.bufferPos+=Mi(t);let r=this.normalize(i);for(let o=0,s=e;;o++){let a=r.charCodeAt(o),d=this.match(a,s,this.bufferPos+this.bufferStart);if(o==r.length-1){if(d)return this.value=d,this;break}s==e&&o<i.length&&i.charCodeAt(o)==a&&s++}}}match(t,i,e){let r=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==t&&(s==this.query.length-1?r={from:this.matches[o+1],to:e}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?r={from:i,to:e}:this.matches.push(1,i)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}};typeof Symbol<"u"&&(Bo.prototype[Symbol.iterator]=function(){return this});var KA={from:-1,to:-1,match:/.*/.exec("")},W_="gm"+(/x/.unicode==null?"":"u"),Pm=class{constructor(t,i,e,r=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=KA,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new Nm(t,i,e,r,o);this.re=new RegExp(i,W_+(e?.ignoreCase?"i":"")),this.test=e?.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=Vm(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let e=this.curLineStart+i.index,r=e+i[0].length;if(this.matchPos=Vm(this.text,r+(e==r?1:0)),e==this.curLineStart+this.curLine.length&&this.nextLine(),(e<r||e>this.value.to)&&(!this.test||this.test(e,r,i)))return this.value={from:e,to:r,match:i},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}},V_=new WeakMap,Lm=class n{constructor(t,i){this.from=t,this.text=i}get to(){return this.from+this.text.length}static get(t,i,e){let r=V_.get(t);if(!r||r.from>=e||r.to<=i){let a=new n(i,t.sliceString(i,e));return V_.set(t,a),a}if(r.from==i&&r.to==e)return r;let{text:o,from:s}=r;return s>i&&(o=t.sliceString(i,s)+o,s=i),r.to<e&&(o+=t.sliceString(r.to,e)),V_.set(t,new n(s,o)),new n(i,o.slice(i-s,e-s))}},Nm=class{constructor(t,i,e,r,o){this.text=t,this.to=o,this.done=!1,this.value=KA,this.matchPos=Vm(t,r),this.re=new RegExp(i,W_+(e?.ignoreCase?"i":"")),this.test=e?.test,this.flat=Lm.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==t&&(this.re.lastIndex=t+1,i=this.re.exec(this.flat.text)),i){let e=this.flat.from+i.index,r=e+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,r,i)))return this.value={from:e,to:r,match:i},this.matchPos=Vm(this.text,r+(e==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Lm.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}};typeof Symbol<"u"&&(Pm.prototype[Symbol.iterator]=Nm.prototype[Symbol.iterator]=function(){return this});function Z5(n){try{return new RegExp(n,W_),!0}catch{return!1}}function Vm(n,t){if(t>=n.length)return t;let i=n.lineAt(t),e;for(;t<i.to&&(e=i.text.charCodeAt(t-i.from))>=56320&&e<57344;)t++;return t}function B_(n){let t=String(n.state.doc.lineAt(n.state.selection.main.head).number),i=ce("input",{class:"cm-textfield",name:"line",value:t}),e=ce("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:Bm.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},ce("label",n.state.phrase("Go to line"),": ",i)," ",ce("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,d,h,m,f]=o,g=m?+m.slice(1):0,_=h?+h:a.number;if(h&&f){let S=_/100;d&&(S=S*(d=="-"?-1:1)+a.number/s.doc.lines),_=Math.round(s.doc.lines*S)}else h&&d&&(_=_*(d=="-"?-1:1)+a.number);let y=s.doc.line(Math.max(1,Math.min(s.doc.lines,_))),k=N.cursor(y.from+Math.max(0,Math.min(g,y.length)));n.dispatch({effects:[Bm.of(!1),vt.scrollIntoView(k.from,{y:"center"})],selection:k}),n.focus()}return{dom:e}}var Bm=zt.define(),YA=Fe.define({create(){return!0},update(n,t){for(let i of t.effects)i.is(Bm)&&(n=i.value);return n},provide:n=>Ds.from(n,t=>t?B_:null)}),Q5=n=>{let t=Ss(n,B_);if(!t){let i=[Bm.of(!0)];n.state.field(YA,!1)==null&&i.push(zt.appendConfig.of([YA,J5])),n.dispatch({effects:i}),t=Ss(n,B_)}return t&&t.dom.querySelector("input").select(),!0},J5=vt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),t8={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},XA=Q.define({combine(n){return yi(n,t8,{highlightWordAroundCursor:(t,i)=>t||i,minSelectionLength:Math.min,maxMatches:Math.min})}});function ZA(n){let t=[o8,r8];return n&&t.push(XA.of(n)),t}var e8=st.mark({class:"cm-selectionMatch"}),i8=st.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function qA(n,t,i,e){return(i==0||n(t.sliceDoc(i-1,i))!=ue.Word)&&(e==t.doc.length||n(t.sliceDoc(e,e+1))!=ue.Word)}function n8(n,t,i,e){return n(t.sliceDoc(i,i+1))==ue.Word&&n(t.sliceDoc(e-1,e))==ue.Word}var r8=Ae.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(XA),{state:i}=n,e=i.selection;if(e.ranges.length>1)return st.none;let r=e.main,o,s=null;if(r.empty){if(!t.highlightWordAroundCursor)return st.none;let d=i.wordAt(r.head);if(!d)return st.none;s=i.charCategorizer(r.head),o=i.sliceDoc(d.from,d.to)}else{let d=r.to-r.from;if(d<t.minSelectionLength||d>200)return st.none;if(t.wholeWords){if(o=i.sliceDoc(r.from,r.to),s=i.charCategorizer(r.head),!(qA(s,i,r.from,r.to)&&n8(s,i,r.from,r.to)))return st.none}else if(o=i.sliceDoc(r.from,r.to),!o)return st.none}let a=[];for(let d of n.visibleRanges){let h=new Bo(i.doc,o,d.from,d.to);for(;!h.next().done;){let{from:m,to:f}=h.value;if((!s||qA(s,i,m,f))&&(r.empty&&m<=r.from&&f>=r.to?a.push(i8.range(m,f)):(m>=r.to||f<=r.from)&&a.push(e8.range(m,f)),a.length>t.maxMatches))return st.none}}return st.set(a)}},{decorations:n=>n.decorations}),o8=vt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),s8=({state:n,dispatch:t})=>{let{selection:i}=n,e=N.create(i.ranges.map(r=>n.wordAt(r.head)||N.cursor(r.head)),i.mainIndex);return e.eq(i)?!1:(t(n.update({selection:e})),!0)};function a8(n,t){let{main:i,ranges:e}=n.selection,r=n.wordAt(i.head),o=r&&r.from==i.from&&r.to==i.to;for(let s=!1,a=new Bo(n.doc,t,e[e.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Bo(n.doc,t,0,Math.max(0,e[e.length-1].from-1)),s=!0}else{if(s&&e.some(d=>d.from==a.value.from))continue;if(o){let d=n.wordAt(a.value.from);if(!d||d.from!=a.value.from||d.to!=a.value.to)continue}return a.value}}var l8=({state:n,dispatch:t})=>{let{ranges:i}=n.selection;if(i.some(o=>o.from===o.to))return s8({state:n,dispatch:t});let e=n.sliceDoc(i[0].from,i[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=e))return!1;let r=a8(n,e);return r?(t(n.update({selection:n.selection.addRange(N.range(r.from,r.to),!1),effects:vt.scrollIntoView(r.to)})),!0):!1},Za=Q.define({combine(n){return yi(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new U_(t),scrollToMatch:t=>vt.scrollIntoView(t)})}});var zm=class{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||Z5(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(i,e)=>e=="n"?`
`:e=="r"?"\r":e=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new j_(this):new z_(this)}getCursor(t,i=0,e){let r=t.doc?t:oi.create({doc:t});return e==null&&(e=r.doc.length),this.regexp?Xa(this,r,i,e):Ka(this,r,i,e)}},jm=class{constructor(t){this.spec=t}};function Ka(n,t,i,e){return new Bo(t.doc,n.unquoted,i,e,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?c8(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function c8(n,t){return(i,e,r,o)=>((o>i||o+r.length<e)&&(o=Math.max(0,i-2),r=n.sliceString(o,Math.min(n.length,e+2))),(t(Hm(r,i-o))!=ue.Word||t(Um(r,i-o))!=ue.Word)&&(t(Um(r,e-o))!=ue.Word||t(Hm(r,e-o))!=ue.Word))}var z_=class extends jm{constructor(t){super(t)}nextMatch(t,i,e){let r=Ka(this.spec,t,e,t.doc.length).nextOverlapping();return r.done&&(r=Ka(this.spec,t,0,i).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,i,e){for(let r=e;;){let o=Math.max(i,r-1e4-this.spec.unquoted.length),s=Ka(this.spec,t,o,r),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==i)return null;r-=1e4}}prevMatch(t,i,e){return this.prevMatchInRange(t,0,i)||this.prevMatchInRange(t,e,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,i){let e=Ka(this.spec,t,0,t.doc.length),r=[];for(;!e.next().done;){if(r.length>=i)return null;r.push(e.value)}return r}highlight(t,i,e,r){let o=Ka(this.spec,t,Math.max(0,i-this.spec.unquoted.length),Math.min(e+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}};function Xa(n,t,i,e){return new Pm(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?d8(t.charCategorizer(t.selection.main.head)):void 0},i,e)}function Hm(n,t){return n.slice(Ye(n,t,!1),t)}function Um(n,t){return n.slice(t,Ye(n,t))}function d8(n){return(t,i,e)=>!e[0].length||(n(Hm(e.input,e.index))!=ue.Word||n(Um(e.input,e.index))!=ue.Word)&&(n(Um(e.input,e.index+e[0].length))!=ue.Word||n(Hm(e.input,e.index+e[0].length))!=ue.Word)}var j_=class extends jm{nextMatch(t,i,e){let r=Xa(this.spec,t,e,t.doc.length).next();return r.done&&(r=Xa(this.spec,t,0,i).next()),r.done?null:r.value}prevMatchInRange(t,i,e){for(let r=1;;r++){let o=Math.max(i,e-r*1e4),s=Xa(this.spec,t,o,e),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==i||a.from>o+10))return a;if(o==i)return null}}prevMatch(t,i,e){return this.prevMatchInRange(t,0,i)||this.prevMatchInRange(t,e,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(i,e)=>e=="$"?"$":e=="&"?t.match[0]:e!="0"&&+e<t.match.length?t.match[e]:i)}matchAll(t,i){let e=Xa(this.spec,t,0,t.doc.length),r=[];for(;!e.next().done;){if(r.length>=i)return null;r.push(e.value)}return r}highlight(t,i,e,r){let o=Xa(this.spec,t,Math.max(0,i-250),Math.min(e+250,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}},md=zt.define(),$_=zt.define(),Vo=Fe.define({create(n){return new ud(H_(n).create(),null)},update(n,t){for(let i of t.effects)i.is(md)?n=new ud(i.value.create(),n.panel):i.is($_)&&(n=new ud(n.query,i.value?Y_:null));return n},provide:n=>Ds.from(n,t=>t.panel)});var ud=class{constructor(t,i){this.query=t,this.panel=i}},h8=st.mark({class:"cm-searchMatch"}),u8=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),m8=Ae.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Vo))}update(n){let t=n.state.field(Vo);(t!=n.startState.field(Vo)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return st.none;let{view:i}=this,e=new Jn;for(let r=0,o=i.visibleRanges,s=o.length;r<s;r++){let{from:a,to:d}=o[r];for(;r<s-1&&d>o[r+1].from-2*250;)d=o[++r].to;n.highlight(i.state,a,d,(h,m)=>{let f=i.state.selection.ranges.some(g=>g.from==h&&g.to==m);e.add(h,m,f?u8:h8)})}return e.finish()}},{decorations:n=>n.decorations});function fd(n){return t=>{let i=t.state.field(Vo,!1);return i&&i.query.spec.valid?n(t,i):tE(t)}}var Wm=fd((n,{query:t})=>{let{to:i}=n.state.selection.main,e=t.nextMatch(n.state,i,i);if(!e)return!1;let r=N.single(e.from,e.to),o=n.state.facet(Za);return n.dispatch({selection:r,effects:[q_(n,e),o.scrollToMatch(r.main,n)],userEvent:"select.search"}),JA(n),!0}),$m=fd((n,{query:t})=>{let{state:i}=n,{from:e}=i.selection.main,r=t.prevMatch(i,e,e);if(!r)return!1;let o=N.single(r.from,r.to),s=n.state.facet(Za);return n.dispatch({selection:o,effects:[q_(n,r),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),JA(n),!0}),f8=fd((n,{query:t})=>{let i=t.matchAll(n.state,1e3);return!i||!i.length?!1:(n.dispatch({selection:N.create(i.map(e=>N.range(e.from,e.to))),userEvent:"select.search.matches"}),!0)}),p8=({state:n,dispatch:t})=>{let i=n.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:e,to:r}=i.main,o=[],s=0;for(let a=new Bo(n.doc,n.sliceDoc(e,r));!a.next().done;){if(o.length>1e3)return!1;a.value.from==e&&(s=o.length),o.push(N.range(a.value.from,a.value.to))}return t(n.update({selection:N.create(o,s),userEvent:"select.search.matches"})),!0},GA=fd((n,{query:t})=>{let{state:i}=n,{from:e,to:r}=i.selection.main;if(i.readOnly)return!1;let o=t.nextMatch(i,e,e);if(!o)return!1;let s=[],a,d,h=[];if(o.from==e&&o.to==r&&(d=i.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:d}),o=t.nextMatch(i,o.from,o.to),h.push(vt.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(e).number)+"."))),o){let m=s.length==0||s[0].from>=o.to?0:o.to-o.from-d.length;a=N.single(o.from-m,o.to-m),h.push(q_(n,o)),h.push(i.facet(Za).scrollToMatch(a.main,n))}return n.dispatch({changes:s,selection:a,effects:h,userEvent:"input.replace"}),!0}),g8=fd((n,{query:t})=>{if(n.state.readOnly)return!1;let i=t.matchAll(n.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:t.getReplacement(r)}});if(!i.length)return!1;let e=n.state.phrase("replaced $ matches",i.length)+".";return n.dispatch({changes:i,effects:vt.announce.of(e),userEvent:"input.replace.all"}),!0});function Y_(n){return n.state.facet(Za).createPanel(n)}function H_(n,t){var i,e,r,o,s;let a=n.selection.main,d=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(t&&!d)return t;let h=n.facet(Za);return new zm({search:((i=t?.literal)!==null&&i!==void 0?i:h.literal)?d:d.replace(/\n/g,"\\n"),caseSensitive:(e=t?.caseSensitive)!==null&&e!==void 0?e:h.caseSensitive,literal:(r=t?.literal)!==null&&r!==void 0?r:h.literal,regexp:(o=t?.regexp)!==null&&o!==void 0?o:h.regexp,wholeWord:(s=t?.wholeWord)!==null&&s!==void 0?s:h.wholeWord})}function QA(n){let t=Ss(n,Y_);return t&&t.dom.querySelector("[main-field]")}function JA(n){let t=QA(n);t&&t==n.root.activeElement&&t.select()}var tE=n=>{let t=n.state.field(Vo,!1);if(t&&t.panel){let i=QA(n);if(i&&i!=n.root.activeElement){let e=H_(n.state,t.query.spec);e.valid&&n.dispatch({effects:md.of(e)}),i.focus(),i.select()}}else n.dispatch({effects:[$_.of(!0),t?md.of(H_(n.state,t.query.spec)):zt.appendConfig.of(_8)]});return!0},eE=n=>{let t=n.state.field(Vo,!1);if(!t||!t.panel)return!1;let i=Ss(n,Y_);return i&&i.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:$_.of(!1)}),!0},iE=[{key:"Mod-f",run:tE,scope:"editor search-panel"},{key:"F3",run:Wm,shift:$m,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Wm,shift:$m,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:eE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:p8},{key:"Mod-Alt-g",run:Q5},{key:"Mod-d",run:l8,preventDefault:!0}],U_=class{constructor(t){this.view=t;let i=this.query=t.state.field(Vo).query.spec;this.commit=this.commit.bind(this),this.searchField=ce("input",{value:i.search,placeholder:un(t,"Find"),"aria-label":un(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ce("input",{value:i.replace,placeholder:un(t,"Replace"),"aria-label":un(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ce("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=ce("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=ce("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit});function e(r,o,s){return ce("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=ce("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,e("next",()=>Wm(t),[un(t,"next")]),e("prev",()=>$m(t),[un(t,"previous")]),e("select",()=>f8(t),[un(t,"all")]),ce("label",null,[this.caseField,un(t,"match case")]),ce("label",null,[this.reField,un(t,"regexp")]),ce("label",null,[this.wordField,un(t,"by word")]),...t.state.readOnly?[]:[ce("br"),this.replaceField,e("replace",()=>GA(t),[un(t,"replace")]),e("replaceAll",()=>g8(t),[un(t,"replace all")])],ce("button",{name:"close",onclick:()=>eE(t),"aria-label":un(t,"close"),type:"button"},["\xD7"])])}commit(){let t=new zm({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:md.of(t)}))}keydown(t){oS(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?$m:Wm)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),GA(this.view))}update(t){for(let i of t.transactions)for(let e of i.effects)e.is(md)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Za).top}};function un(n,t){return n.state.phrase(t)}var Om=30,Fm=/[\s\.,:;?!]/;function q_(n,{from:t,to:i}){let e=n.state.doc.lineAt(t),r=n.state.doc.lineAt(i).to,o=Math.max(e.from,t-Om),s=Math.min(r,i+Om),a=n.state.sliceDoc(o,s);if(o!=e.from){for(let d=0;d<Om;d++)if(!Fm.test(a[d+1])&&Fm.test(a[d])){a=a.slice(d);break}}if(s!=r){for(let d=a.length-1;d>a.length-Om;d--)if(!Fm.test(a[d-1])&&Fm.test(a[d])){a=a.slice(0,d);break}}return vt.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${e.number}.`)}var b8=vt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),_8=[Vo,tr.low(m8),b8];var qm=class{constructor(t,i,e){this.state=t,this.pos=i,this.explicit=e,this.abortListeners=[]}tokenBefore(t){let i=si(this.state).resolveInner(this.pos,-1);for(;i&&t.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(t){let i=this.state.doc.lineAt(this.pos),e=Math.max(i.from,this.pos-250),r=i.text.slice(e-i.from,this.pos-i.from),o=r.search(dE(t,!1));return o<0?null:{from:e+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,i){t=="abort"&&this.abortListeners&&this.abortListeners.push(i)}};function nE(n){let t=Object.keys(n).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),`[${i?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function v8(n){let t=Object.create(null),i=Object.create(null);for(let{label:r}of n){t[r[0]]=!0;for(let o=1;o<r.length;o++)i[r[o]]=!0}let e=nE(t)+nE(i)+"*$";return[new RegExp("^"+e),new RegExp(e)]}function y8(n){let t=n.map(r=>typeof r=="string"?{label:r}:r),[i,e]=t.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:v8(t);return r=>{let o=r.matchBefore(e);return o||r.explicit?{from:o?o.from:r.pos,options:t,validFor:i}:null}}var Gm=class{constructor(t,i,e,r){this.completion=t,this.source=i,this.match=e,this.score=r}};function zo(n){return n.selection.main.from}function dE(n,t){var i;let{source:e}=n,r=t&&e[0]!="^",o=e[e.length-1]!="$";return!r&&!o?n:new RegExp(`${r?"^":""}(?:${e})${o?"$":""}`,(i=n.flags)!==null&&i!==void 0?i:n.ignoreCase?"i":"")}var hE=Hi.define();function x8(n,t,i,e){let{main:r}=n.selection,o=i-r.from,s=e-r.from;return Object.assign(Object.assign({},n.changeByRange(a=>a!=r&&i!=e&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(i,e)?{range:a}:{changes:{from:a.from+o,to:e==r.from?a.to:a.from+s,insert:t},range:N.cursor(a.from+o+t.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}var rE=new WeakMap;function w8(n){if(!Array.isArray(n))return n;let t=rE.get(n);return t||rE.set(n,t=y8(n)),t}var Km=zt.define(),pd=zt.define(),X_=class{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<t.length;){let e=$e(t,i),r=Mi(e);this.chars.push(e);let o=t.slice(i,i+r),s=o.toUpperCase();this.folded.push($e(s==o?o.toLowerCase():s,0)),i+=r}this.astral=t.length!=this.chars.length}ret(t,i){return this.score=t,this.matched=i,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:i,folded:e,any:r,precise:o,byWord:s}=this;if(i.length==1){let B=$e(t,0),U=Mi(B),W=U==t.length?0:-100;if(B!=i[0])if(B==e[0])W+=-200;else return null;return this.ret(W,[0,U])}let a=t.indexOf(this.pattern);if(a==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let d=i.length,h=0;if(a<0){for(let B=0,U=Math.min(t.length,200);B<U&&h<d;){let W=$e(t,B);(W==i[h]||W==e[h])&&(r[h++]=B),B+=Mi(W)}if(h<d)return null}let m=0,f=0,g=!1,_=0,y=-1,k=-1,S=/[a-z]/.test(t),M=!0;for(let B=0,U=Math.min(t.length,200),W=0;B<U&&f<d;){let V=$e(t,B);a<0&&(m<d&&V==i[m]&&(o[m++]=B),_<d&&(V==i[_]||V==e[_]?(_==0&&(y=B),k=B+1,_++):_=0));let G,X=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(G=Ec(V))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!B||X==1&&S||W==0&&X!=0)&&(i[f]==V||e[f]==V&&(g=!0)?s[f++]=B:s.length&&(M=!1)),W=X,B+=Mi(V)}return f==d&&s[0]==0&&M?this.result(-100+(g?-200:0),s,t):_==d&&y==0?this.ret(-200-t.length+(k==t.length?0:-100),[0,k]):a>-1?this.ret(-700-t.length,[a,a+this.pattern.length]):_==d?this.ret(-900-t.length,[y,k]):f==d?this.result(-100+(g?-200:0)+-700+(M?0:-1100),s,t):i.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,t)}result(t,i,e){let r=[],o=0;for(let s of i){let a=s+(this.astral?Mi($e(e,s)):1);o&&r[o-1]==s?r[o-1]=a:(r[o++]=s,r[o++]=a)}return this.ret(t-e.length,r)}},Z_=class{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let i=t.slice(0,this.pattern.length),e=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return e==null?null:(this.matched=[0,i.length],this.score=e+(t.length==this.pattern.length?0:-100),this)}},fi=Q.define({combine(n){return yi(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:k8,filterStrict:!1,compareCompletions:(t,i)=>t.label.localeCompare(i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,i)=>t&&i,closeOnBlur:(t,i)=>t&&i,icons:(t,i)=>t&&i,tooltipClass:(t,i)=>e=>oE(t(e),i(e)),optionClass:(t,i)=>e=>oE(t(e),i(e)),addToOptions:(t,i)=>t.concat(i),filterStrict:(t,i)=>t||i})}});function oE(n,t){return n?t?n+" "+t:n:t}function k8(n,t,i,e,r,o){let s=n.textDirection==me.RTL,a=s,d=!1,h="top",m,f,g=t.left-r.left,_=r.right-t.right,y=e.right-e.left,k=e.bottom-e.top;if(a&&g<Math.min(y,_)?a=!1:!a&&_<Math.min(y,g)&&(a=!0),y<=(a?g:_))m=Math.max(r.top,Math.min(i.top,r.bottom-k))-t.top,f=Math.min(400,a?g:_);else{d=!0,f=Math.min(400,(s?t.right:r.right-t.left)-30);let B=r.bottom-t.bottom;B>=k||B>t.top?m=i.bottom-t.top:(h="bottom",m=t.bottom-i.top)}let S=(t.bottom-t.top)/o.offsetHeight,M=(t.right-t.left)/o.offsetWidth;return{style:`${h}: ${m/S}px; max-width: ${f/M}px`,class:"cm-completionInfo-"+(d?s?"left-narrow":"right-narrow":a?"left":"right")}}function C8(n){let t=n.addToOptions.slice();return n.icons&&t.push({render(i){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),i.type&&e.classList.add(...i.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),e.setAttribute("aria-hidden","true"),e},position:20}),t.push({render(i,e,r,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=i.displayLabel||i.label,d=0;for(let h=0;h<o.length;){let m=o[h++],f=o[h++];m>d&&s.appendChild(document.createTextNode(a.slice(d,m)));let g=s.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(a.slice(m,f))),g.className="cm-completionMatchedText",d=f}return d<a.length&&s.appendChild(document.createTextNode(a.slice(d))),s},position:50},{render(i){if(!i.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=i.detail,e},position:80}),t.sort((i,e)=>i.position-e.position).map(i=>i.render)}function G_(n,t,i){if(n<=i)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let r=Math.floor(t/i);return{from:r*i,to:(r+1)*i}}let e=Math.floor((n-t)/i);return{from:n-(e+1)*i,to:n-e*i}}var Q_=class{constructor(t,i,e){this.view=t,this.stateField=i,this.applyCompletion=e,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:d=>this.placeInfo(d),key:this},this.space=null,this.currentClass="";let r=t.state.field(i),{options:o,selected:s}=r.open,a=t.state.facet(fi);this.optionContent=C8(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=G_(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",d=>{let{options:h}=t.state.field(i).open;for(let m=d.target,f;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(f=/-(\d+)$/.exec(m.id))&&+f[1]<h.length){this.applyCompletion(t,h[+f[1]]),d.preventDefault();return}}),this.dom.addEventListener("focusout",d=>{let h=t.state.field(this.stateField,!1);h&&h.tooltip&&t.state.facet(fi).closeOnBlur&&d.relatedTarget!=t.contentDOM&&t.dispatch({effects:pd.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(t,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var i;let e=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),e!=r){let{options:o,selected:s,disabled:a}=e.open;(!r.open||r.open.options!=o)&&(this.range=G_(o.length,s,t.state.facet(fi).maxRenderedOptions),this.showOptions(o,e.id)),this.updateSel(),a!=((i=r.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(t){let i=this.tooltipClass(t);if(i!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of i.split(" "))e&&this.dom.classList.add(e);this.currentClass=i}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),i=t.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=G_(i.options.length,i.selected,this.view.state.facet(fi).maxRenderedOptions),this.showOptions(i.options,t.id)),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:e}=i.options[i.selected],{info:r}=e;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(e);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,e)}).catch(s=>mi(this.view.state,s,"completion info")):this.addInfoPane(o,e)}}addInfoPane(t,i){this.destroyInfo();let e=this.info=document.createElement("div");if(e.className="cm-tooltip cm-completionInfo",t.nodeType!=null)e.appendChild(t),this.infoDestroy=null;else{let{dom:r,destroy:o}=t;e.appendChild(r),this.infoDestroy=o||null}this.dom.appendChild(e),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let i=null;for(let e=this.list.firstChild,r=this.range.from;e;e=e.nextSibling,r++)e.nodeName!="LI"||!e.id?r--:r==t?e.hasAttribute("aria-selected")||(e.setAttribute("aria-selected","true"),i=e):e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected");return i&&S8(this.list,i),i}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let i=this.dom.getBoundingClientRect(),e=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return r.top>Math.min(o.bottom,i.bottom)-10||r.bottom<Math.max(o.top,i.top)+10?null:this.view.state.facet(fi).positionInfo(this.view,i,r,e,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,i,e){let r=document.createElement("ul");r.id=i,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=e.from;s<e.to;s++){let{completion:a,match:d}=t[s],{section:h}=a;if(h){let g=typeof h=="string"?h:h.name;if(g!=o&&(s>e.from||e.from==0))if(o=g,typeof h!="string"&&h.header)r.appendChild(h.header(h));else{let _=r.appendChild(document.createElement("completion-section"));_.textContent=g}}let m=r.appendChild(document.createElement("li"));m.id=i+"-"+s,m.setAttribute("role","option");let f=this.optionClass(a);f&&(m.className=f);for(let g of this.optionContent){let _=g(a,this.view.state,this.view,d);_&&m.appendChild(_)}}return e.from&&r.classList.add("cm-completionListIncompleteTop"),e.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function D8(n,t){return i=>new Q_(i,n,t)}function S8(n,t){let i=n.getBoundingClientRect(),e=t.getBoundingClientRect(),r=i.height/n.offsetHeight;e.top<i.top?n.scrollTop-=(i.top-e.top)/r:e.bottom>i.bottom&&(n.scrollTop+=(e.bottom-i.bottom)/r)}function sE(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function A8(n,t){let i=[],e=null,r=h=>{i.push(h);let{section:m}=h.completion;if(m){e||(e=[]);let f=typeof m=="string"?m:m.name;e.some(g=>g.name==f)||e.push(typeof m=="string"?{name:f}:m)}},o=t.facet(fi);for(let h of n)if(h.hasResult()){let m=h.result.getMatch;if(h.result.filter===!1)for(let f of h.result.options)r(new Gm(f,h.source,m?m(f):[],1e9-i.length));else{let f=t.sliceDoc(h.from,h.to),g,_=o.filterStrict?new Z_(f):new X_(f);for(let y of h.result.options)if(g=_.match(y.label)){let k=y.displayLabel?m?m(y,g.matched):[]:g.matched;r(new Gm(y,h.source,k,g.score+(y.boost||0)))}}}if(e){let h=Object.create(null),m=0,f=(g,_)=>{var y,k;return((y=g.rank)!==null&&y!==void 0?y:1e9)-((k=_.rank)!==null&&k!==void 0?k:1e9)||(g.name<_.name?-1:1)};for(let g of e.sort(f))m-=1e5,h[g.name]=m;for(let g of i){let{section:_}=g.completion;_&&(g.score+=h[typeof _=="string"?_:_.name])}}let s=[],a=null,d=o.compareCompletions;for(let h of i.sort((m,f)=>f.score-m.score||d(m.completion,f.completion))){let m=h.completion;!a||a.label!=m.label||a.detail!=m.detail||a.type!=null&&m.type!=null&&a.type!=m.type||a.apply!=m.apply||a.boost!=m.boost?s.push(h):sE(h.completion)>sE(a)&&(s[s.length-1]=h),a=h.completion}return s}var J_=class n{constructor(t,i,e,r,o,s){this.options=t,this.attrs=i,this.tooltip=e,this.timestamp=r,this.selected=o,this.disabled=s}setSelected(t,i){return t==this.selected||t>=this.options.length?this:new n(this.options,aE(i,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,i,e,r,o){let s=A8(t,i);if(!s.length)return r&&t.some(d=>d.state==1)?new n(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=i.facet(fi).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let d=r.options[r.selected].completion;for(let h=0;h<s.length;h++)if(s[h].completion==d){a=h;break}}return new n(s,aE(e,a),{pos:t.reduce((d,h)=>h.hasResult()?Math.min(d,h.from):d,1e8),create:R8,above:o.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(t){return new n(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},tv=class n{constructor(t,i,e){this.active=t,this.id=i,this.open=e}static start(){return new n(I8,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:i}=t,e=i.facet(fi),o=(e.override||i.languageDataAt("autocomplete",zo(i)).map(w8)).map(a=>(this.active.find(h=>h.source==a)||new Rr(a,this.active.some(h=>h.state!=0)?1:0)).update(t,e));o.length==this.active.length&&o.every((a,d)=>a==this.active[d])&&(o=this.active);let s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some(a=>a.hasResult()&&t.changes.touchesRange(a.from,a.to))||!E8(o,this.active)?s=J_.build(o,i,this.id,s,e):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Rr(a.source,0):a));for(let a of t.effects)a.is(mE)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new n(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:M8}};function E8(n,t){if(n==t)return!0;for(let i=0,e=0;;){for(;i<n.length&&!n[i].hasResult;)i++;for(;e<t.length&&!t[e].hasResult;)e++;let r=i==n.length,o=e==t.length;if(r||o)return r==o;if(n[i++].result!=t[e++].result)return!1}}var M8={"aria-autocomplete":"list"};function aE(n,t){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(i["aria-activedescendant"]=n+"-"+t),i}var I8=[];function ev(n,t){if(n.isUserEvent("input.complete")){let i=n.annotation(hE);if(i&&t.activateOnCompletion(i))return"input"}return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}var Rr=class n{constructor(t,i,e=-1){this.source=t,this.state=i,this.explicitPos=e}hasResult(){return!1}update(t,i){let e=ev(t,i),r=this;e?r=r.handleUserEvent(t,e,i):t.docChanged?r=r.handleChange(t):t.selection&&r.state!=0&&(r=new n(r.source,0));for(let o of t.effects)if(o.is(Km))r=new n(r.source,1,o.value?zo(t.state):-1);else if(o.is(pd))r=new n(r.source,0);else if(o.is(uE))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(t,i,e){return i=="delete"||!e.activateOnTyping?this.map(t.changes):new n(this.source,1)}handleChange(t){return t.changes.touchesRange(zo(t.startState))?new n(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new n(this.source,this.state,t.mapPos(this.explicitPos))}},Xm=class n extends Rr{constructor(t,i,e,r,o){super(t,2,i),this.result=e,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(t,i,e){var r;let o=this.result;o.map&&!t.changes.empty&&(o=o.map(o,t.changes));let s=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),d=zo(t.state);if((this.explicitPos<0?d<=s:d<this.from)||d>a||!o||i=="delete"&&zo(t.startState)==this.from)return new Rr(this.source,i=="input"&&e.activateOnTyping?1:0);let h=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return T8(o.validFor,t.state,s,a)?new n(this.source,h,o,s,a):o.update&&(o=o.update(o,s,a,new qm(t.state,d,h>=0)))?new n(this.source,h,o,o.from,(r=o.to)!==null&&r!==void 0?r:zo(t.state)):new Rr(this.source,1,h)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Rr(this.source,0):this.map(t.changes)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new n(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Rr(this.source,0)}};function T8(n,t,i,e){if(!n)return!1;let r=t.sliceDoc(i,e);return typeof n=="function"?n(r,i,e,t):dE(n,!0).test(r)}var uE=zt.define({map(n,t){return n.map(i=>i.map(t))}}),mE=zt.define(),Wi=Fe.define({create(){return tv.start()},update(n,t){return n.update(t)},provide:n=>[Kc.from(n,t=>t.tooltip),vt.contentAttributes.from(n,t=>t.attrs)]});function nv(n,t){let i=t.completion.apply||t.completion.label,e=n.state.field(Wi).active.find(r=>r.source==t.source);return e instanceof Xm?(typeof i=="string"?n.dispatch(Object.assign(Object.assign({},x8(n.state,i,e.from,e.to)),{annotations:hE.of(t.completion)})):i(n,t.completion,e.from,e.to),!0):!1}var R8=D8(Wi,nv);function Ym(n,t="option"){return i=>{let e=i.state.field(Wi,!1);if(!e||!e.open||e.open.disabled||Date.now()-e.open.timestamp<i.state.facet(fi).interactionDelay)return!1;let r=1,o;t=="page"&&(o=Q0(i,e.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=e.open.options,a=e.open.selected>-1?e.open.selected+r*(n?1:-1):n?0:s-1;return a<0?a=t=="page"?0:s-1:a>=s&&(a=t=="page"?s-1:0),i.dispatch({effects:mE.of(a)}),!0}}var O8=n=>{let t=n.state.field(Wi,!1);return n.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<n.state.facet(fi).interactionDelay?!1:nv(n,t.open.options[t.open.selected])},F8=n=>n.state.field(Wi,!1)?(n.dispatch({effects:Km.of(!0)}),!0):!1,P8=n=>{let t=n.state.field(Wi,!1);return!t||!t.active.some(i=>i.state!=0)?!1:(n.dispatch({effects:pd.of(null)}),!0)},iv=class{constructor(t,i){this.active=t,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}},L8=50,N8=1e3,V8=Ae.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of n.state.field(Wi).active)t.state==1&&this.startQuery(t)}update(n){let t=n.state.field(Wi),i=n.state.facet(fi);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Wi)==t)return;let e=n.transactions.some(o=>(o.selection||o.docChanged)&&!ev(o,i));for(let o=0;o<this.running.length;o++){let s=this.running[o];if(e||s.updates.length+n.transactions.length>L8&&Date.now()-s.time>N8){for(let a of s.context.abortListeners)try{a()}catch(d){mi(this.view.state,d)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(Km)))&&(this.pendingStart=!0);let r=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(o=>o.state==1&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let o of n.transactions)ev(o,i)=="input"?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,t=n.field(Wi);for(let i of t.active)i.state==1&&!this.running.some(e=>e.active.source==i.source)&&this.startQuery(i)}startQuery(n){let{state:t}=this.view,i=zo(t),e=new qm(t,i,n.explicitPos==i),r=new iv(n,e);this.running.push(r),Promise.resolve(n.source(e)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:pd.of(null)}),mi(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(fi).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(fi);for(let e=0;e<this.running.length;e++){let r=this.running[e];if(r.done===void 0)continue;if(this.running.splice(e--,1),r.done){let s=new Xm(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:zo(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)s=s.update(a,i);if(s.hasResult()){t.push(s);continue}}let o=this.view.state.field(Wi).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new Rr(r.active.source,0);for(let a of r.updates)s=s.update(a,i);s.state!=1&&t.push(s)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:uE.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(Wi,!1);if(t&&t.tooltip&&this.view.state.facet(fi).closeOnBlur){let i=t.open&&Q0(this.view,t.open.tooltip);(!i||!i.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:pd.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Km.of(!1)}),20),this.composing=0}}}),B8=typeof navigator=="object"&&/Win/.test(navigator.platform),z8=tr.highest(vt.domEventHandlers({keydown(n,t){let i=t.state.field(Wi,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||n.key.length>1||n.ctrlKey&&!(B8&&n.altKey)||n.metaKey)return!1;let e=i.open.options[i.open.selected],r=i.active.find(s=>s.source==e.source),o=e.completion.commitCharacters||r.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&nv(t,e),!1}})),j8=vt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var gd={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ts=zt.define({map(n,t){let i=t.mapPos(n,-1,hi.TrackAfter);return i??void 0}}),rv=new class extends Qn{};rv.startSide=1;rv.endSide=-1;var fE=Fe.define({create(){return we.empty},update(n,t){if(n=n.map(t.changes),t.selection){let i=t.state.doc.lineAt(t.selection.main.head);n=n.update({filter:e=>e>=i.from&&e<=i.to})}for(let i of t.effects)i.is(Ts)&&(n=n.update({add:[rv.range(i.value,i.value+1)]}));return n}});function pE(){return[U8,fE]}var K_="()[]{}<>";function gE(n){for(let t=0;t<K_.length;t+=2)if(K_.charCodeAt(t)==n)return K_.charAt(t+1);return Ec(n<128?n:n+1)}function bE(n,t){return n.languageDataAt("closeBrackets",t)[0]||gd}var H8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),U8=vt.inputHandler.of((n,t,i,e)=>{if((H8?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(e.length>2||e.length==2&&Mi($e(e,0))==1||t!=r.from||i!=r.to)return!1;let o=$8(n.state,e);return o?(n.dispatch(o),!0):!1}),W8=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=bE(n,n.selection.main.head).brackets||gd.brackets,r=null,o=n.changeByRange(s=>{if(s.empty){let a=Y8(n.doc,s.head);for(let d of e)if(d==a&&Zm(n.doc,s.head)==gE($e(d,0)))return{changes:{from:s.head-d.length,to:s.head+d.length},range:N.cursor(s.head-d.length)}}return{range:r=s}});return r||t(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},_E=[{key:"Backspace",run:W8}];function $8(n,t){let i=bE(n,n.selection.main.head),e=i.brackets||gd.brackets;for(let r of e){let o=gE($e(r,0));if(t==r)return o==r?K8(n,r,e.indexOf(r+r+r)>-1,i):q8(n,r,o,i.before||gd.before);if(t==o&&vE(n,n.selection.main.from))return G8(n,r,o)}return null}function vE(n,t){let i=!1;return n.field(fE).between(0,n.doc.length,e=>{e==t&&(i=!0)}),i}function Zm(n,t){let i=n.sliceString(t,t+2);return i.slice(0,Mi($e(i,0)))}function Y8(n,t){let i=n.sliceString(t-2,t);return Mi($e(i,0))==i.length?i:i.slice(1)}function q8(n,t,i,e){let r=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:i,from:s.to}],effects:Ts.of(s.to+t.length),range:N.range(s.anchor+t.length,s.head+t.length)};let a=Zm(n.doc,s.head);return!a||/\s/.test(a)||e.indexOf(a)>-1?{changes:{insert:t+i,from:s.head},effects:Ts.of(s.head+t.length),range:N.cursor(s.head+t.length)}:{range:r=s}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function G8(n,t,i){let e=null,r=n.changeByRange(o=>o.empty&&Zm(n.doc,o.head)==i?{changes:{from:o.head,to:o.head+i.length,insert:i},range:N.cursor(o.head+i.length)}:e={range:o});return e?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function K8(n,t,i,e){let r=e.stringPrefixes||gd.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:t,from:a.to}],effects:Ts.of(a.to+t.length),range:N.range(a.anchor+t.length,a.head+t.length)};let d=a.head,h=Zm(n.doc,d),m;if(h==t){if(lE(n,d))return{changes:{insert:t+t,from:d},effects:Ts.of(d+t.length),range:N.cursor(d+t.length)};if(vE(n,d)){let g=i&&n.sliceDoc(d,d+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:d,to:d+g.length,insert:g},range:N.cursor(d+g.length)}}}else{if(i&&n.sliceDoc(d-2*t.length,d)==t+t&&(m=cE(n,d-2*t.length,r))>-1&&lE(n,m))return{changes:{insert:t+t+t+t,from:d},effects:Ts.of(d+t.length),range:N.cursor(d+t.length)};if(n.charCategorizer(d)(h)!=ue.Word&&cE(n,d,r)>-1&&!X8(n,d,t,r))return{changes:{insert:t+t,from:d},effects:Ts.of(d+t.length),range:N.cursor(d+t.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function lE(n,t){let i=si(n).resolveInner(t+1);return i.parent&&i.from==t}function X8(n,t,i,e){let r=si(n).resolveInner(t,-1),o=e.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(r.from,Math.min(r.to,r.from+i.length+o)),d=a.indexOf(i);if(!d||d>-1&&e.indexOf(a.slice(0,d))>-1){let m=r.firstChild;for(;m&&m.from==r.from&&m.to-m.from>i.length+d;){if(n.sliceDoc(m.to-i.length,m.to)==i)return!1;m=m.firstChild}return!0}let h=r.to==t&&r.parent;if(!h)break;r=h}return!1}function cE(n,t,i){let e=n.charCategorizer(t);if(e(n.sliceDoc(t-1,t))!=ue.Word)return t;for(let r of i){let o=t-r.length;if(n.sliceDoc(o,t)==r&&e(n.sliceDoc(o-1,o))!=ue.Word)return o}return-1}function yE(n={}){return[z8,Wi,fi.of(n),V8,Z8,j8]}var ov=[{key:"Ctrl-Space",run:F8},{key:"Escape",run:P8},{key:"ArrowDown",run:Ym(!0)},{key:"ArrowUp",run:Ym(!1)},{key:"PageDown",run:Ym(!0,"page")},{key:"PageUp",run:Ym(!1,"page")},{key:"Enter",run:O8}],Z8=tr.highest(Jr.computeN([fi],n=>n.facet(fi).defaultKeymap?[ov]:[]));var sv=class{constructor(t,i,e){this.from=t,this.to=i,this.diagnostic=e}},Rs=class n{constructor(t,i,e){this.diagnostics=t,this.panel=i,this.selected=e}static init(t,i,e){let r=t,o=e.facet(cv).markerFilter;o&&(r=o(r,e));let s=st.set(r.map(a=>a.from==a.to||a.from==a.to-1&&e.doc.lineAt(a.from).to==a.from?st.widget({widget:new av(a),diagnostic:a}).range(a.from):st.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a,inclusive:!0}).range(a.from,a.to)),!0);return new n(s,i,Qa(s))}};function Qa(n,t=null,i=0){let e=null;return n.between(i,1e9,(r,o,{spec:s})=>{if(!(t&&s.diagnostic!=t))return e=new sv(r,o,s.diagnostic),!1}),e}function Q8(n,t){let i=t.pos,e=t.end||i,r=n.state.facet(cv).hideOn(n,i,e);if(r!=null)return r;let o=n.startState.doc.lineAt(t.pos);return!!(n.effects.some(s=>s.is(wE))||n.changes.touchesRange(o.from,Math.max(o.to,e)))}function J8(n,t){return n.field(mn,!1)?t:t.concat(zt.appendConfig.of(aH))}var wE=zt.define(),lv=zt.define(),kE=zt.define(),mn=Fe.define({create(){return new Rs(st.none,null,null)},update(n,t){if(t.docChanged){let i=n.diagnostics.map(t.changes),e=null;if(n.selected){let r=t.changes.mapPos(n.selected.from,1);e=Qa(i,n.selected.diagnostic,r)||Qa(i,null,r)}n=new Rs(i,n.panel,e)}for(let i of t.effects)i.is(wE)?n=Rs.init(i.value,n.panel,t.state):i.is(lv)?n=new Rs(n.diagnostics,i.value?tf.open:null,n.selected):i.is(kE)&&(n=new Rs(n.diagnostics,n.panel,i.value));return n},provide:n=>[Ds.from(n,t=>t.panel),vt.decorations.from(n,t=>t.diagnostics)]});var tH=st.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function eH(n,t,i){let{diagnostics:e}=n.state.field(mn),r=[],o=2e8,s=0;e.between(t-(i<0?1:0),t+(i>0?1:0),(d,h,{spec:m})=>{t>=d&&t<=h&&(d==h||(t>d||i>0)&&(t<h||i<0))&&(r.push(m.diagnostic),o=Math.min(d,o),s=Math.max(h,s))});let a=n.state.facet(cv).tooltipFilter;return a&&(r=a(r,n.state)),r.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:iH(n,r)}}}:null}function iH(n,t){return ce("ul",{class:"cm-tooltip-lint"},t.map(i=>SE(n,i,!1)))}var nH=n=>{let t=n.state.field(mn,!1);(!t||!t.panel)&&n.dispatch({effects:J8(n.state,[lv.of(!0)])});let i=Ss(n,tf.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},xE=n=>{let t=n.state.field(mn,!1);return!t||!t.panel?!1:(n.dispatch({effects:lv.of(!1)}),!0)},rH=n=>{let t=n.state.field(mn,!1);if(!t)return!1;let i=n.state.selection.main,e=t.diagnostics.iter(i.to+1);return!e.value&&(e=t.diagnostics.iter(0),!e.value||e.from==i.from&&e.to==i.to)?!1:(n.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0}),!0)};var CE=[{key:"Mod-Shift-m",run:nH,preventDefault:!0},{key:"F8",run:rH}];var cv=Q.define({combine(n){return Object.assign({sources:n.map(t=>t.source).filter(t=>t!=null)},yi(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,i)=>t?i?e=>t(e)||i(e):t:i}))}});function DE(n){let t=[];if(n)t:for(let{name:i}of n){for(let e=0;e<i.length;e++){let r=i[e];if(/[a-zA-Z]/.test(r)&&!t.some(o=>o.toLowerCase()==r.toLowerCase())){t.push(r);continue t}}t.push("")}return t}function SE(n,t,i){var e;let r=i?DE(t.actions):[];return ce("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},ce("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(n):t.message),(e=t.actions)===null||e===void 0?void 0:e.map((o,s)=>{let a=!1,d=g=>{if(g.preventDefault(),a)return;a=!0;let _=Qa(n.state.field(mn).diagnostics,t);_&&o.apply(n,_.from,_.to)},{name:h}=o,m=r[s]?h.indexOf(r[s]):-1,f=m<0?h:[h.slice(0,m),ce("u",h.slice(m,m+1)),h.slice(m+1)];return ce("button",{type:"button",class:"cm-diagnosticAction",onclick:d,onmousedown:d,"aria-label":` Action: ${h}${m<0?"":` (access key "${r[s]})"`}.`},f)}),t.source&&ce("div",{class:"cm-diagnosticSource"},t.source))}var av=class extends Ui{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return ce("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}},Jm=class{constructor(t,i){this.diagnostic=i,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=SE(t,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},tf=class n{constructor(t){this.view=t,this.items=[];let i=r=>{if(r.keyCode==27)xE(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=DE(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==r.keyCode){let d=Qa(this.view.state.field(mn).diagnostics,o);d&&o.actions[a].apply(t,d.from,d.to)}}else return;r.preventDefault()},e=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=ce("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i,onclick:e}),this.dom=ce("div",{class:"cm-panel-lint"},this.list,ce("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>xE(this.view)},"\xD7")),this.update()}get selectedIndex(){let t=this.view.state.field(mn).selected;if(!t)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==t.diagnostic)return i;return-1}update(){let{diagnostics:t,selected:i}=this.view.state.field(mn),e=0,r=!1,o=null;for(t.between(0,this.view.state.doc.length,(s,a,{spec:d})=>{let h=-1,m;for(let f=e;f<this.items.length;f++)if(this.items[f].diagnostic==d.diagnostic){h=f;break}h<0?(m=new Jm(this.view,d.diagnostic),this.items.splice(e,0,m),r=!0):(m=this.items[h],h>e&&(this.items.splice(e,h-e),r=!0)),i&&m.diagnostic==i.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),o=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),e++});e<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Jm(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let d=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/d:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/d)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function i(){let e=t;t=e.nextSibling,e.remove()}for(let e of this.items)if(e.dom.parentNode==this.list){for(;t!=e.dom;)i();t=e.dom.nextSibling}else this.list.insertBefore(e.dom,t);for(;t;)i()}moveSelection(t){if(this.selectedIndex<0)return;let i=this.view.state.field(mn),e=Qa(i.diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:kE.of(e)})}static open(t){return new n(t)}};function oH(n,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(n)}</svg>')`}function Qm(n){return oH(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var sH=vt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Qm("#d11")},".cm-lintRange-warning":{backgroundImage:Qm("orange")},".cm-lintRange-info":{backgroundImage:Qm("#999")},".cm-lintRange-hint":{backgroundImage:Qm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var aH=[mn,vt.decorations.compute([mn],n=>{let{selected:t,panel:i}=n.field(mn);return!t||!i||t.from==t.to?st.none:st.set([tH.range(t.from,t.to)])}),vS(eH,{hideOn:Q8}),sH];var AE=[wS(),kS(),fS(),fA(),XS(),dS(),mS(),oi.allowMultipleSelections.of(!0),jS(),QS(JS,{fallback:!0}),nA(),pE(),yE(),bS(),_S(),pS(),ZA(),Jr.of([..._E,...UA,...iE,..._A,...qS,...ov,...CE])];var hv=class n{constructor(t,i,e,r,o,s,a,d,h,m=0,f){this.p=t,this.stack=i,this.state=e,this.reducePos=r,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=d,this.curContext=h,this.lookAhead=m,this.parent=f}toString(){return`[${this.stack.filter((t,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,i,e=0){let r=t.parser.context;return new n(t,[],i,e,e,0,[],0,r?new ef(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var i;let e=t>>19,r=t&65535,{parser:o}=this.p,s=o.dynamicPrecedence(r);if(s&&(this.score+=s),e==0){this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(e-1)*3-(t&262144?6:0),d=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-d;h>=2e3&&!(!((i=this.p.parser.nodeSet.types[r])===null||i===void 0)&&i.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=h));let m=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-m;if(r<o.minRepeatTerm||t&131072){let g=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,d,g,f+4,!0)}if(t&262144)this.state=this.stack[a];else{let g=this.stack[a-3];this.state=o.getGoto(g,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,d)}storeNode(t,i,e,r=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(i==e)return;if(s.buffer[a-2]>=i){s.buffer[a-2]=e;return}}}if(!o||this.pos==e)this.buffer.push(t,i,e,r);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>e;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=t,this.buffer[s+1]=i,this.buffer[s+2]=e,this.buffer[s+3]=r}}shift(t,i,e,r){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=r,this.shiftContext(i,e),i<=this.p.parser.maxNode&&this.buffer.push(i,e,r,4);else{let o=t,{parser:s}=this.p;(r>this.pos||i<=s.maxNode)&&(this.pos=r,s.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,e),this.shiftContext(i,e),i<=s.maxNode&&this.buffer.push(i,e,r,4)}}apply(t,i,e,r){t&65536?this.reduce(t):this.shift(t,i,e,r)}useNode(t,i){let e=this.p.reused.length-1;(e<0||this.p.reused[e]!=t)&&(this.p.reused.push(t),e++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(i,r),this.buffer.push(e,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,i=t.buffer.length;for(;i>0&&t.buffer[i-2]>t.reducePos;)i-=4;let e=t.buffer.slice(i),r=t.bufferBase+i;for(;t&&r==t.bufferBase;)t=t.parent;return new n(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,e,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,i){let e=t<=this.p.parser.maxNode;e&&this.storeNode(t,this.pos,i,4),this.storeNode(0,this.pos,i,e?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(t){for(let i=new uv(this);;){let e=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,t);if(e==0)return!1;if(!(e&65536))return!0;i.reduce(e)}}recoverByInsert(t){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let r=[];for(let o=0,s;o<i.length;o+=2)(s=i[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&r.push(i[o],s);if(this.stack.length<120)for(let o=0;r.length<8&&o<i.length;o+=2){let s=i[o+1];r.some((a,d)=>d&1&&a==s)||r.push(i[o],s)}i=r}let e=[];for(let r=0;r<i.length&&e.length<4;r+=2){let o=i[r+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(i[r],this.pos),s.reducePos=this.pos,s.score-=200,e.push(s)}return e}forceReduce(){let{parser:t}=this.p,i=t.stateSlot(this.state,5);if(!(i&65536))return!1;if(!t.validAction(this.state,i)){let e=i>>19,r=i&65535,o=this.stack.length-e*3;if(o<0||t.getGoto(this.stack[o],r,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;i=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:t}=this.p,i=[],e=(r,o)=>{if(!i.includes(r))return i.push(r),t.allActions(r,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let d=s&65535,h=this.stack.length-a*3;if(h>=0&&t.getGoto(this.stack[h],d,!1)>=0)return a<<19|65536|d}}else{let a=e(s,o+1);if(a!=null)return a}})};return e(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=t.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(i)))}reduceContext(t,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(i)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let i=new ef(this.curContext.tracker,t);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},ef=class{constructor(t,i){this.tracker=t,this.context=i,this.hash=t.strict?t.hash(i):0}},uv=class{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let i=t&65535,e=t>>19;e==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(e-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=r}},mv=class n{constructor(t,i,e){this.stack=t,this.pos=i,this.index=e,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,i=t.bufferBase+t.buffer.length){return new n(t,i,i-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new n(this.stack,this.pos,this.index)}};function bd(n,t=Uint16Array){if(typeof n!="string")return n;let i=null;for(let e=0,r=0;e<n.length;){let o=0;for(;;){let s=n.charCodeAt(e++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let d=s-32;if(d>=46&&(d-=46,a=!0),o+=d,a)break;o*=46}i?i[r++]=o:i=new t(o)}return i}var Ja=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},EE=new Ja,fv=class{constructor(t,i){this.input=t,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=EE,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(t,i){let e=this.range,r=this.rangeIndex,o=this.pos+t;for(;o<e.from;){if(!r)return null;let s=this.ranges[--r];o-=e.from-s.to,e=s}for(;i<0?o>e.to:o>=e.to;){if(r==this.ranges.length-1)return null;let s=this.ranges[++r];o+=s.from-e.to,e=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let i of this.ranges)if(i.to>t)return Math.max(t,i.from);return this.end}peek(t){let i=this.chunkOff+t,e,r;if(i>=0&&i<this.chunk.length)e=this.pos+t,r=this.chunk.charCodeAt(i);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(e=o,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=e;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-e)),r=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),r}acceptToken(t,i=0){let e=i?this.resolveOffset(i,-1):this.pos;if(e==null||e<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=e}acceptTokenTo(t,i){this.token.value=t,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),i=this.pos+t.length;this.chunk=i>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,i){if(i?(this.token=i,i.start=t,i.lookAhead=t+1,i.value=i.extended=-1):this.token=EE,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,i){if(t>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,i-this.chunkPos);if(t>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,i-this.chunk2Pos);if(t>=this.range.from&&i<=this.range.to)return this.input.read(t,i);let e="";for(let r of this.ranges){if(r.from>=i)break;r.to>t&&(e+=this.input.read(Math.max(r.from,t),Math.min(r.to,i)))}return e}},jo=class{constructor(t,i){this.data=t,this.id=i}token(t,i){let{parser:e}=i.p;OE(this.data,t,i,this.id,e.data,e.tokenPrecTable)}};jo.prototype.contextual=jo.prototype.fallback=jo.prototype.extend=!1;var pv=class{constructor(t,i,e){this.precTable=i,this.elseToken=e,this.data=typeof t=="string"?bd(t):t}token(t,i){let e=t.pos,r=0;for(;;){let o=t.next<0,s=t.resolveOffset(1,1);if(OE(this.data,t,i,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(o||r++,s==null)break;t.reset(s,t.token)}r&&(t.reset(e,t.token),t.acceptToken(this.elseToken,r))}};pv.prototype.contextual=jo.prototype.fallback=jo.prototype.extend=!1;function OE(n,t,i,e,r,o){let s=0,a=1<<e,{dialect:d}=i.p.parser;t:for(;a&n[s];){let h=n[s+1];for(let _=s+3;_<h;_+=2)if((n[_+1]&a)>0){let y=n[_];if(d.allows(y)&&(t.token.value==-1||t.token.value==y||cH(y,t.token.value,r,o))){t.acceptToken(y);break}}let m=t.next,f=0,g=n[s+2];if(t.next<0&&g>f&&n[h+g*3-3]==65535){s=n[h+g*3-1];continue t}for(;f<g;){let _=f+g>>1,y=h+_+(_<<1),k=n[y],S=n[y+1]||65536;if(m<k)g=_;else if(m>=S)f=_+1;else{s=n[y+2],t.advance();continue t}}break}}function ME(n,t,i){for(let e=t,r;(r=n[e])!=65535;e++)if(r==i)return e-t;return-1}function cH(n,t,i,e){let r=ME(i,e,t);return r<0||ME(i,e,n)<r}var fn=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),dv=null;function IE(n,t,i){let e=n.cursor(Je.IncludeAnonymous);for(e.moveTo(t);;)if(!(i<0?e.childBefore(t):e.childAfter(t)))for(;;){if((i<0?e.to<t:e.from>t)&&!e.type.isError)return i<0?Math.max(0,Math.min(e.to-1,t-25)):Math.min(n.length,Math.max(e.from+1,t+25));if(i<0?e.prevSibling():e.nextSibling())break;if(!e.parent())return i<0?0:n.length}}var gv=class{constructor(t,i){this.fragments=t,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?IE(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?IE(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let e=this.trees[i],r=this.index[i];if(r==e.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=e.children[r],s=this.start[i]+e.positions[r];if(s>t)return this.nextStart=s,null;if(o instanceof He){if(s==t){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let d=o.prop(At.lookAhead);if(!d||a+d<this.fragment.to)return o}}this.index[i]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[i]++,this.nextStart=s+o.length}}},bv=class{constructor(t,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(e=>new Ja)}getActions(t){let i=0,e=null,{parser:r}=t.p,{tokenizers:o}=r,s=r.stateSlot(t.state,3),a=t.curContext?t.curContext.hash:0,d=0;for(let h=0;h<o.length;h++){if(!(1<<h&s))continue;let m=o[h],f=this.tokens[h];if(!(e&&!m.fallback)&&((m.contextual||f.start!=t.pos||f.mask!=s||f.context!=a)&&(this.updateCachedToken(f,m,t),f.mask=s,f.context=a),f.lookAhead>f.end+25&&(d=Math.max(f.lookAhead,d)),f.value!=0)){let g=i;if(f.extended>-1&&(i=this.addActions(t,f.extended,f.end,i)),i=this.addActions(t,f.value,f.end,i),!m.extend&&(e=f,i>g))break}}for(;this.actions.length>i;)this.actions.pop();return d&&t.setLookAhead(d),!e&&t.pos==this.stream.end&&(e=new Ja,e.value=t.p.parser.eofTerm,e.start=e.end=t.pos,i=this.addActions(t,e.value,e.end,i)),this.mainToken=e,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let i=new Ja,{pos:e,p:r}=t;return i.start=e,i.end=Math.min(e+1,r.stream.end),i.value=e==r.stream.end?r.parser.eofTerm:0,i}updateCachedToken(t,i,e){let r=this.stream.clipPos(e.pos);if(i.token(this.stream.reset(r,t),e),t.value>-1){let{parser:o}=e.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let a=o.specializers[s](this.stream.read(t.start,t.end),e);if(a>=0&&e.p.parser.dialect.allows(a>>1)){a&1?t.extended=a>>1:t.value=a>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,i,e,r){for(let o=0;o<r;o+=3)if(this.actions[o]==t)return r;return this.actions[r++]=t,this.actions[r++]=i,this.actions[r++]=e,r}addActions(t,i,e,r){let{state:o}=t,{parser:s}=t.p,{data:a}=s;for(let d=0;d<2;d++)for(let h=s.stateSlot(o,d?2:1);;h+=3){if(a[h]==65535)if(a[h+1]==1)h=to(a,h+2);else{r==0&&a[h+1]==2&&(r=this.putAction(to(a,h+2),i,e,r));break}a[h]==i&&(r=this.putAction(to(a,h+1),i,e,r))}return r}},_v=class{constructor(t,i,e,r){this.parser=t,this.input=i,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new fv(i,r),this.tokens=new bv(t,this.stream),this.topTerm=t.top[1];let{from:o}=r[0];this.stacks=[hv.start(this,t.top[0],o)],this.fragments=e.length&&this.stream.end-o>t.bufferLength*4?new gv(e,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,i=this.minStackPos,e=this.stacks=[],r,o;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let a=t[s];for(;;){if(this.tokens.mainToken=null,a.pos>i)e.push(a);else{if(this.advanceStack(a,e,t))continue;{r||(r=[],o=[]),r.push(a);let d=this.tokens.getMainToken(a);o.push(d.value,d.end)}}break}}if(!e.length){let s=r&&dH(r);if(s)return fn&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw fn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&r){let s=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,e);if(s)return fn&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(e.length>s)for(e.sort((a,d)=>d.score-a.score);e.length>s;)e.pop();e.some(a=>a.reducePos>i)&&this.recovering--}else if(e.length>1){t:for(let s=0;s<e.length-1;s++){let a=e[s];for(let d=s+1;d<e.length;d++){let h=e[d];if(a.sameState(h)||a.buffer.length>500&&h.buffer.length>500)if((a.score-h.score||a.buffer.length-h.buffer.length)>0)e.splice(d--,1);else{e.splice(s--,1);continue t}}}e.length>12&&e.splice(12,e.length-12)}this.minStackPos=e[0].pos;for(let s=1;s<e.length;s++)e[s].pos<this.minStackPos&&(this.minStackPos=e[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,i,e){let r=t.pos,{parser:o}=this,s=fn?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let h=t.curContext&&t.curContext.tracker.strict,m=h?t.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let g=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(g>-1&&f.length&&(!h||(f.prop(At.contextHash)||0)==m))return t.useNode(f,g),fn&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof He)||f.children.length==0||f.positions[0]>0)break;let _=f.children[0];if(_ instanceof He&&f.positions[0]==0)f=_;else break}}let a=o.stateSlot(t.state,4);if(a>0)return t.reduce(a),fn&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let d=this.tokens.getActions(t);for(let h=0;h<d.length;){let m=d[h++],f=d[h++],g=d[h++],_=h==d.length||!e,y=_?t:t.split(),k=this.tokens.mainToken;if(y.apply(m,f,k?k.start:y.pos,g),fn&&console.log(s+this.stackID(y)+` (via ${m&65536?`reduce of ${o.getName(m&65535)}`:"shift"} for ${o.getName(f)} @ ${r}${y==t?"":", split"})`),_)return!0;y.pos>r?i.push(y):e.push(y)}return!1}advanceFully(t,i){let e=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>e)return TE(t,i),!0}}runRecovery(t,i,e){let r=null,o=!1;for(let s=0;s<t.length;s++){let a=t[s],d=i[s<<1],h=i[(s<<1)+1],m=fn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),fn&&console.log(m+this.stackID(a)+" (restarted)"),this.advanceFully(a,e))))continue;let f=a.split(),g=m;for(let _=0;f.forceReduce()&&_<10&&(fn&&console.log(g+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,e));_++)fn&&(g=this.stackID(f)+" -> ");for(let _ of a.recoverByInsert(d))fn&&console.log(m+this.stackID(_)+" (via recover-insert)"),this.advanceFully(_,e);this.stream.end>a.pos?(h==a.pos&&(h++,d=0),a.recoverByDelete(d,h),fn&&console.log(m+this.stackID(a)+` (via recover-delete ${this.parser.getName(d)})`),TE(a,e)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(t){return t.close(),He.build({buffer:mv.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let i=(dv||(dv=new WeakMap)).get(t);return i||dv.set(t,i=String.fromCodePoint(this.nextStackID++)),i+t}};function TE(n,t){for(let i=0;i<t.length;i++){let e=t[i];if(e.pos==n.pos&&e.sameState(n)){t[i].score<n.score&&(t[i]=n);return}}t.push(n)}var vv=class{constructor(t,i,e){this.source=t,this.flags=i,this.disabled=e}allows(t){return!this.disabled||this.disabled[t]==0}};var nf=class n extends Wa{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let i=t.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let a=0;a<t.repeatNodeCount;a++)i.push("");let e=Object.keys(t.topRules).map(a=>t.topRules[a][1]),r=[];for(let a=0;a<i.length;a++)r.push([]);function o(a,d,h){r[a].push([d,d.deserialize(String(h))])}if(t.nodeProps)for(let a of t.nodeProps){let d=a[0];typeof d=="string"&&(d=At[d]);for(let h=1;h<a.length;){let m=a[h++];if(m>=0)o(m,d,a[h++]);else{let f=a[h+-m];for(let g=-m;g>0;g--)o(a[h++],d,f);h++}}}this.nodeSet=new Jc(i.map((a,d)=>xi.define({name:d>=this.minRepeatTerm?void 0:a,id:d,props:r[d],top:e.indexOf(d)>-1,error:d==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(d)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let s=bd(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(RE),this.states=bd(t.states,Uint32Array),this.data=bd(t.stateData),this.goto=bd(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(a=>typeof a=="number"?new jo(s,a):a),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,i,e){let r=new _v(this,t,i,e);for(let o of this.wrappers)r=o(r,t,i,e);return r}getGoto(t,i,e=!1){let r=this.goto;if(i>=r[0])return-1;for(let o=r[i+1];;){let s=r[o++],a=s&1,d=r[o++];if(a&&e)return d;for(let h=o+(s>>1);o<h;o++)if(r[o]==t)return d;if(a)return-1}}hasAction(t,i){let e=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(t,r?2:1),s;;o+=3){if((s=e[o])==65535)if(e[o+1]==1)s=e[o=to(e,o+2)];else{if(e[o+1]==2)return to(e,o+2);break}if(s==i||s==0)return to(e,o+1)}return 0}stateSlot(t,i){return this.states[t*6+i]}stateFlag(t,i){return(this.stateSlot(t,0)&i)>0}validAction(t,i){return!!this.allActions(t,e=>e==i?!0:null)}allActions(t,i){let e=this.stateSlot(t,4),r=e?i(e):void 0;for(let o=this.stateSlot(t,1);r==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=to(this.data,o+2);else break;r=i(to(this.data,o+1))}return r}nextStates(t){let i=[];for(let e=this.stateSlot(t,1);;e+=3){if(this.data[e]==65535)if(this.data[e+1]==1)e=to(this.data,e+2);else break;if(!(this.data[e+2]&1)){let r=this.data[e+1];i.some((o,s)=>s&1&&o==r)||i.push(this.data[e],r)}}return i}configure(t){let i=Object.assign(Object.create(n.prototype),this);if(t.props&&(i.nodeSet=this.nodeSet.extend(...t.props)),t.top){let e=this.topRules[t.top];if(!e)throw new RangeError(`Invalid top rule name ${t.top}`);i.top=e}return t.tokenizers&&(i.tokenizers=this.tokenizers.map(e=>{let r=t.tokenizers.find(o=>o.from==e);return r?r.to:e})),t.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((e,r)=>{let o=t.specializers.find(a=>a.from==e.external);if(!o)return e;let s=Object.assign(Object.assign({},e),{external:o.to});return i.specializers[r]=RE(s),s})),t.contextTracker&&(i.context=t.contextTracker),t.dialect&&(i.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(i.strict=t.strict),t.wrap&&(i.wrappers=i.wrappers.concat(t.wrap)),t.bufferLength!=null&&(i.bufferLength=t.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let i=this.dynamicPrecedences;return i==null?0:i[t]||0}parseDialect(t){let i=Object.keys(this.dialects),e=i.map(()=>!1);if(t)for(let o of t.split(" ")){let s=i.indexOf(o);s>=0&&(e[s]=!0)}let r=null;for(let o=0;o<i.length;o++)if(!e[o])for(let s=this.dialects[i[o]],a;(a=this.data[s++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new vv(t,e,r)}static deserialize(t){return new n(t)}};function to(n,t){return n[t]|n[t+1]<<16}function dH(n){let t=null;for(let i of n){let e=i.p.stoppedAt;(i.pos==i.p.stream.end||e!=null&&i.pos>e)&&i.p.parser.stateFlag(i.state,2)&&(!t||t.score<i.score)&&(t=i)}return t}function RE(n){if(n.external){let t=n.extend?1:0;return(i,e)=>n.external(i,e)<<1|t}return n.get}var hH=vm({String:$.string,Number:$.number,"True False":$.bool,PropertyName:$.propertyName,Null:$.null,",":$.separator,"[ ]":$.squareBracket,"{ }":$.brace}),FE=nf.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[hH],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var uH=ym.define({name:"json",parser:FE.configure({props:[k_.add({Object:C_({except:/^\s*\}/}),Array:C_({except:/^\s*\]/})}),D_.add({"Object Array":HS})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function PE(){return new xm(uH)}var mH=vt.theme({".cm-content":{"min-height":"600px"},".cm-gutters":{"min-height":"200px"},".cm-scroller":{overflow:"auto","max-height":"718px"}}),LE=[AE,mH,gS("Enter text here..."),Jr.of([{key:"Tab",run:L_,shift:N_}]),PE()];var fH=["editor"],rf=(()=>{let t=class t{constructor(){this.lineNumbers=!0,this.readonly=!1,this.focus=!1,this.defaultString="",this.onTouched=()=>{},this.onChanged=e=>{},this.editorSubmit=new ct,this.submit=()=>{let e=eo.default.get(this.view,"state.doc.text",[]);e=e.map((r,o)=>!r||!r.trim().length?"":r),this.writeValue({text:e}),this.editorSubmit.emit()}}ngAfterViewInit(){if(!this.editor)return;let e=this.editor.nativeElement;try{this.setState(this.defaultString)}catch(r){console.error(r)}this.view=new vt({state:this.state,parent:e}),this.focus&&this.view.focus()}setState(e){this.state=oi.create({doc:e,extensions:[...LE,vt.updateListener.of(r=>{if(r.docChanged){let o=eo.default.get(r.state.doc,"text",[]);if(!o.length){let s=eo.default.get(r.state.doc,"children",[])?.map(a=>eo.default.get(a,"text",[]));o=eo.default.flatten(s)}this.onChanged({text:o,dom:this.view.contentDOM})}}),Jr.of([{key:"Ctrl-Enter Cmd-Enter",run:r=>(this.submit(),!0)}])]})}writeValue(e){let r=eo.default.get(e,"text",[]).join(`
`);if(eo.default.get(e,"new")||r!==this._code){if(eo.default.unset(e,"new"),this._code=r,this.setState(this._code),!this.view)return;this.view.setState(this.state),this.view.focus()}}setDisabledState(e){this.readonly=e}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChanged=e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["app-cm-editor-input"]],viewQuery:function(r,o){if(r&1&&le(fH,7),r&2){let s;kt(s=Ct())&&(o.editor=s.first)}},inputs:{lineNumbers:"lineNumbers",readonly:"readonly",focus:"focus"},outputs:{editorSubmit:"editorSubmit"},standalone:!0,features:[Qt([{provide:vr,multi:!0,useExisting:Ji(()=>t)}]),bt],decls:2,vars:0,consts:[["editor",""],["id","msg-box"]],template:function(r,o){r&1&&Tt(0,"div",1,0)},dependencies:[Ao,yu],styles:[".cm-gutters[_ngcontent-%COMP%]{margin:1px}.cm-scroller[_ngcontent-%COMP%]{overflow:auto}.cm-wrap[_ngcontent-%COMP%]{border:1px solid silver}"]});let n=t;return n})();var xv;try{xv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xv=!1}var jt=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ak(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||xv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(R(cs))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var tl,NE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wv(){if(tl)return tl;if(typeof document!="object"||!document)return tl=new Set(NE),tl;let n=document.createElement("input");return tl=new Set(NE.filter(t=>(n.setAttribute("type",t),n.type===t))),tl}var _d;function pH(){if(_d==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_d=!0}))}finally{_d=_d||!1}return _d}function $i(n){return pH()?n:!!n.capture}var Os;function VE(){if(Os==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Os=!1,Os;if("scrollBehavior"in document.documentElement.style)Os=!0;else{let n=Element.prototype.scrollTo;n?Os=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Os=!1}}return Os}var yv;function gH(){if(yv==null){let n=typeof document<"u"?document.head:null;yv=!!(n&&(n.createShadowRoot||n.attachShadow))}return yv}function BE(n){if(gH()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function of(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function or(n){return n.composedPath?n.composedPath()[0]:n.target}function vd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function io(n,...t){return t.length?t.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ki(n){return n!=null&&`${n}`!="false"}function Or(n,t=0){return bH(n)?Number(n):t}function bH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function el(n){return Array.isArray(n)?n:[n]}function Ue(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Yi(n){return n instanceof dt?n.nativeElement:n}function zE(n,t=/\s+/){let i=[];if(n!=null){let e=Array.isArray(n)?n:`${n}`.split(t);for(let r of e){let o=`${r}`.trim();o&&i.push(o)}}return i}function _H(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var jE=(()=>{let t=class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),vH=(()=>{let t=class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){let r=Yi(e);return new hr(o=>{let a=this._observeElement(r).pipe(St(d=>d.filter(h=>!_H(h))),Xe(d=>!!d.length)).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let r=new ht,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}};t.\u0275fac=function(r){return new(r||t)(R(jE))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),HE=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Or(e),this._subscribe()}constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new ct,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ns(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(C(vH),C(dt),C(ot))},t.\u0275dir=tt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[it.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",xe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[ri]});let n=t;return n})(),il=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({providers:[jE]});let n=t;return n})();var UE=new Set,Fs,yH=(()=>{let t=class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&xH(e,this._nonce),this._matchMedia(e)}};t.\u0275fac=function(r){return new(r||t)(R(jt),R($l,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function xH(n,t){if(!UE.has(n))try{Fs||(Fs=document.createElement("style"),t&&Fs.setAttribute("nonce",t),Fs.setAttribute("type","text/css"),document.head.appendChild(Fs)),Fs.sheet&&(Fs.sheet.insertRule(`@media ${n} {body{ }}`,0),UE.add(n))}catch(i){console.error(i)}}function wH(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var sf=(()=>{let t=class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return WE(el(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=WE(el(e)).map(a=>this._registerQuery(a).observable),s=Bl(o);return s=Th(s.pipe(We(1)),s.pipe(Oh(1),ns(0))),s.pipe(St(a=>{let d={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:m})=>{d.matches=d.matches||h,d.breakpoints[m]=h}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),s={observable:new hr(a=>{let d=h=>this._zone.run(()=>a.next(h));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Yr(r),St(({matches:a})=>({query:e,matches:a})),ye(this._destroySubject)),mql:r};return this._queries.set(e,s),s}};t.\u0275fac=function(r){return new(r||t)(R(yH),R(ot))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function WE(n){return n.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var $E={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var XE=" ";function CH(n,t,i){let e=df(n,t);i=i.trim(),!e.some(r=>r.trim()===i)&&(e.push(i),n.setAttribute(t,e.join(XE)))}function DH(n,t,i){let e=df(n,t);i=i.trim();let r=e.filter(o=>o!==i);r.length?n.setAttribute(t,r.join(XE)):n.removeAttribute(t)}function df(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var ZE="cdk-describedby-message",af="cdk-describedby-host",Dv=0,QE=(()=>{let t=class t{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${Dv++}`,this._document=e,this._id=Y(Wl)+"-"+Dv++}describe(e,r,o){if(!this._canBeDescribed(e,r))return;let s=kv(r,o);typeof r!="string"?(YE(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,r,o){if(!r||!this._isElementNode(e))return;let s=kv(r,o);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${af}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(af);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){let o=this._document.createElement("div");YE(o,this._id),o.textContent=e,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(kv(e,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){let r=df(e,"aria-describedby").filter(o=>o.indexOf(ZE)!=0);e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){let o=this._messageRegistry.get(r);CH(e,"aria-describedby",o.messageElement.id),e.setAttribute(af,this._id),o.referenceCount++}_removeMessageReference(e,r){let o=this._messageRegistry.get(r);o.referenceCount--,DH(e,"aria-describedby",o.messageElement.id),e.removeAttribute(af)}_isElementDescribedByMessage(e,r){let o=df(e,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=e.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}};t.\u0275fac=function(r){return new(r||t)(R(_t),R(jt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function kv(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function YE(n,t){n.id||(n.id=`${ZE}-${t}-${Dv++}`)}var SH=(()=>{let t=class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return EH(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let r=AH(LH(e));if(r&&(qE(r)===-1||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),s=qE(e);return e.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!FH(e)?!1:o==="audio"?e.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,r){return PH(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}};t.\u0275fac=function(r){return new(r||t)(R(jt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function AH(n){try{return n.frameElement}catch{return null}}function EH(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function MH(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function IH(n){return RH(n)&&n.type=="hidden"}function TH(n){return OH(n)&&n.hasAttribute("href")}function RH(n){return n.nodeName.toLowerCase()=="input"}function OH(n){return n.nodeName.toLowerCase()=="a"}function JE(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function qE(n){if(!JE(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function FH(n){let t=n.nodeName.toLowerCase(),i=t==="input"&&n.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function PH(n){return IH(n)?!1:MH(n)||TH(n)||n.hasAttribute("contenteditable")||JE(n)}function LH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Sv=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,e,r,o=!1){this._element=t,this._checker=i,this._ngZone=e,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let e=this._getFirstTabbableElement(i);return e?.focus(t),!!e}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=0;e<i.length;e++){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[e]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=i.length-1;e>=0;e--){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[e]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(We(1)).subscribe(t)}},NH=(()=>{let t=class t{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new Sv(e,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(R(SH),R(ot),R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),tM=(()=>{let t=class t{get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}constructor(e,r,o){this._elementRef=e,this._focusTrapFactory=r,this._previouslyFocusedElement=null,Y(jt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let r=e.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=of(),this.focusTrap?.focusInitialElementWhenReady()}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(NH),C(_t))},t.\u0275dir=tt({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[it.HasDecoratorInputTransform,"cdkTrapFocus","enabled",xe],autoCapture:[it.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",xe]},exportAs:["cdkTrapFocus"],standalone:!0,features:[ri,Ne]});let n=t;return n})();function Av(n){return n.buttons===0||n.detail===0}function Ev(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var VH=new nt("cdk-input-modality-detector-options"),BH={ignoreKeys:[18,17,224,91,16]},eM=650,nl=$i({passive:!0,capture:!0}),zH=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(e,r,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new zi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=or(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<eM||(this._modality.next(Av(a)?"keyboard":"mouse"),this._mostRecentTarget=or(a))},this._onTouchstart=a=>{if(Ev(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=or(a)},this._options=H(H({},BH),s),this.modalityDetected=this._modality.pipe(Oh(1)),this.modalityChanged=this.modalityDetected.pipe(zl()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,nl),o.addEventListener("mousedown",this._onMousedown,nl),o.addEventListener("touchstart",this._onTouchstart,nl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nl),document.removeEventListener("mousedown",this._onMousedown,nl),document.removeEventListener("touchstart",this._onTouchstart,nl))}};t.\u0275fac=function(r){return new(r||t)(R(jt),R(ot),R(_t),R(VH,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),jH=new nt("liveAnnouncerElement",{providedIn:"root",factory:HH});function HH(){return null}var UH=new nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),WH=0,iM=(()=>{let t=class t{constructor(e,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${WH++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(e)===-1&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}};t.\u0275fac=function(r){return new(r||t)(R(jH,8),R(ot),R(_t),R(UH,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var cf=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(cf||{}),$H=new nt("cdk-focus-monitor-default-options"),lf=$i({passive:!0,capture:!0}),yd=(()=>{let t=class t{constructor(e,r,o,s,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht,this._rootNodeFocusAndBlurListener=d=>{let h=or(d);for(let m=h;m;m=m.parentElement)d.type==="focus"?this._onFocus(d,m):this._onBlur(d,m)},this._document=s,this._detectionMode=a?.detectionMode||cf.IMMEDIATE}monitor(e,r=!1){let o=Yi(e);if(!this._platform.isBrowser||o.nodeType!==1)return at();let s=BE(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let d={checkChildren:r,subject:new ht,rootNode:s};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){let r=Yi(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){let s=Yi(e),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([d,h])=>this._originChanged(d,r,h)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===cf.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===cf.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?eM:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,r){let o=this._elementInfo.get(r),s=or(e);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(e,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lf)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ye(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(R(ot),R(jt),R(zH),R(_t,8),R($H,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Mv=(()=>{let t=class t{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new ct}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(yd))},t.\u0275dir=tt({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let n=t;return n})(),Ps=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ps||{}),GE="cdk-high-contrast-black-on-white",KE="cdk-high-contrast-white-on-black",Cv="cdk-high-contrast-active",Iv=(()=>{let t=class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Y(sf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ps.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ps.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ps.BLACK_ON_WHITE}return Ps.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Cv,GE,KE),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ps.BLACK_ON_WHITE?e.add(Cv,GE):r===Ps.WHITE_ON_BLACK&&e.add(Cv,KE)}}};t.\u0275fac=function(r){return new(r||t)(R(jt),R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),hf=(()=>{let t=class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(R(Iv))},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[il]});let n=t;return n})();var YH=new nt("cdk-dir-doc",{providedIn:"root",factory:qH});function qH(){return Y(_t)}var GH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function KH(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?GH.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var pn=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new ct,e){let r=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=KH(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(R(YH,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ho=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({});let n=t;return n})();function XH(){return!0}var ZH=new nt("mat-sanity-checks",{providedIn:"root",factory:XH}),fe=(()=>{let t=class t{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return vd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}};t.\u0275fac=function(r){return new(r||t)(R(Iv),R(ZH,8),R(_t))},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[Ho,Ho]});let n=t;return n})();var rl=class{constructor(t,i,e,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=e,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,e=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=e?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var nM=new nt("MAT_DATE_LOCALE",{providedIn:"root",factory:QH});function QH(){return Y(xk)}var Ee=class{constructor(){this._localeChanges=new ht,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,i){return this.getYear(t)-this.getYear(i)||this.getMonth(t)-this.getMonth(i)||this.getDate(t)-this.getDate(i)}sameDate(t,i){if(t&&i){let e=this.isValid(t),r=this.isValid(i);return e&&r?!this.compareDate(t,i):e==r}return t==i}clampDate(t,i,e){return i&&this.compareDate(t,i)<0?i:e&&this.compareDate(t,e)>0?e:t}},Fr=new nt("mat-date-formats"),JH=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Rv(n,t){let i=Array(n);for(let e=0;e<n;e++)i[e]=t(e);return i}var tU=(()=>{let t=class t extends Ee{constructor(e){super(),this.useUtcForDisplay=!1,this._matDateLocale=Y(nM,{optional:!0}),e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let r=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Rv(12,o=>this._format(r,new Date(2017,o,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Rv(31,r=>this._format(e,new Date(2017,0,r+1)))}getDayOfWeekNames(e){let r=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Rv(7,o=>this._format(r,new Date(2017,0,o+1)))}getYearName(e){let r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,r,o){let s=this._createDateWithOverflow(e,r,o);return s.getMonth()!=r,s}today(){return new Date}parse(e,r){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,r){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,ge(H({},r),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,r){return this.addCalendarMonths(e,r*12)}addCalendarMonths(e,r){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+r,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+r)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,r){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+r)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(JH.test(e)){let r=new Date(e);if(this.isValid(r))return r}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,r,o){let s=new Date;return s.setFullYear(e,r,o),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,r){let o=new Date;return o.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),o.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e.format(o)}};t.\u0275fac=function(r){return new(r||t)(R(nM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),eU={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function uM(n=eU){return[{provide:Ee,useClass:tU},{provide:Fr,useValue:n}]}var ol=(()=>{let t=class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Bn||{}),Pv=class{constructor(t,i,e,r=!1){this._renderer=t,this.element=i,this.config=e,this._animationForciblyDisabledThroughCss=r,this.state=Bn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},rM=$i({passive:!0,capture:!0}),Lv=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=or(t);i&&this._events.get(t.type)?.forEach((e,r)=>{(r===i||r.contains(i))&&e.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,e,r){let o=this._events.get(i);if(o){let s=o.get(e);s?s.add(r):o.set(e,new Set([r]))}else this._events.set(i,new Map([[e,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,rM)})}removeHandler(t,i,e){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(e),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,rM)))}},oM={enterDuration:225,exitDuration:150},iU=800,sM=$i({passive:!0,capture:!0}),aM=["mousedown","touchstart"],lM=["mouseup","mouseleave","touchend","touchcancel"],xd=class xd{constructor(t,i,e,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yi(e))}fadeInRipple(t,i,e={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=H(H({},oM),e.animation);e.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=e.radius||nU(t,i,r),a=t-r.left,d=i-r.top,h=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${a-s}px`,m.style.top=`${d-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,e.color!=null&&(m.style.backgroundColor=e.color),m.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(m);let f=window.getComputedStyle(m),g=f.transitionProperty,_=f.transitionDuration,y=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,k=new Pv(this,m,e,y);m.style.transform="scale3d(1, 1, 1)",k.state=Bn.FADING_IN,e.persistent||(this._mostRecentTransientRipple=k);let S=null;return!y&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>this._finishRippleTransition(k),B=()=>this._destroyRipple(k);m.addEventListener("transitionend",M),m.addEventListener("transitioncancel",B),S={onTransitionEnd:M,onTransitionCancel:B}}),this._activeRipples.set(k,S),(y||!h)&&this._finishRippleTransition(k),k}fadeOutRipple(t){if(t.state===Bn.FADING_OUT||t.state===Bn.HIDDEN)return;let i=t.element,e=H(H({},oM),t.config.animation);i.style.transitionDuration=`${e.exitDuration}ms`,i.style.opacity="0",t.state=Bn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=Yi(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,aM.forEach(e=>{xd._eventManager.addHandler(this._ngZone,e,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lM.forEach(i=>{this._triggerElement.addEventListener(i,this,sM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Bn.FADING_IN?this._startFadeOutTransition(t):t.state===Bn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:e}=t.config;t.state=Bn.VISIBLE,!e&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Bn.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=Av(t),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+iU;!this._target.rippleDisabled&&!i&&!e&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ev(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let e=0;e<i.length;e++)this.fadeInRipple(i[e].clientX,i[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===Bn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Bn.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(aM.forEach(i=>xd._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(lM.forEach(i=>t.removeEventListener(i,this,sM)),this._pointerUpEventsRegistered=!1))}};xd._eventManager=new Lv;var wd=xd;function nU(n,t,i){let e=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(e*e+r*r)}var kd=new nt("mat-ripple-global-options"),rU=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,o,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new wd(this,r,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:H(H(H({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,H(H({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,H(H({},this.rippleConfig),e))}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot),C(jt),C(kd,8),C(li,8))},t.\u0275dir=tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mat-ripple-unbounded",o.unbounded)},inputs:{color:[it.None,"matRippleColor","color"],unbounded:[it.None,"matRippleUnbounded","unbounded"],centered:[it.None,"matRippleCentered","centered"],radius:[it.None,"matRippleRadius","radius"],animation:[it.None,"matRippleAnimation","animation"],disabled:[it.None,"matRippleDisabled","disabled"],trigger:[it.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=t;return n})(),ff=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,fe]});let n=t;return n})();var mM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe]});let n=t;return n})();var cM={capture:!0},dM=["focus","click","mouseenter","touchstart"],Ov="mat-ripple-loader-uninitialized",Fv="mat-ripple-loader-class-name",hM="mat-ripple-loader-centered",mf="mat-ripple-loader-disabled",fM=(()=>{let t=class t{constructor(){this._document=Y(_t,{optional:!0}),this._animationMode=Y(li,{optional:!0}),this._globalRippleOptions=Y(kd,{optional:!0}),this._platform=Y(jt),this._ngZone=Y(ot),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;let o=e.target.closest(`[${Ov}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let e of dM)this._document?.addEventListener(e,this._onInteraction,cM)})}ngOnDestroy(){let e=this._hosts.keys();for(let r of e)this.destroyRipple(r);for(let r of dM)this._document?.removeEventListener(r,this._onInteraction,cM)}configureRipple(e,r){e.setAttribute(Ov,""),(r.className||!e.hasAttribute(Fv))&&e.setAttribute(Fv,r.className||""),r.centered&&e.setAttribute(hM,""),r.disabled&&e.setAttribute(mf,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){let o=this._hosts.get(e);if(o){o.disabled=r;return}r?e.setAttribute(mf,""):e.removeAttribute(mf)}_createRipple(e){if(!this._document)return;let r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",e.getAttribute(Fv)),e.append(o);let s=new rU(new dt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(hM),s.disabled=e.hasAttribute(mf),this.attachRipple(e,s),s}attachRipple(e,r){e.removeAttribute(Ov),this._hosts.set(e,r)}destroyRipple(e){let r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var oU=["mat-button",""],sU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],aU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var lU=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var cU=["mat-icon-button",""],dU=["*"];var hU=new nt("MAT_BUTTON_CONFIG");var uU=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],gM=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,o,s){this._elementRef=e,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=Y(yd),this._rippleLoader=Y(fM),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=Y(hU,{optional:!0}),d=e.nativeElement,h=d.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:f}of uU)d.hasAttribute(m)&&h.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){ds()},t.\u0275dir=tt({type:t,inputs:{color:"color",disableRipple:[it.HasDecoratorInputTransform,"disableRipple","disableRipple",xe],disabled:[it.HasDecoratorInputTransform,"disabled","disabled",xe],ariaDisabled:[it.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",xe],disabledInteractive:[it.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",xe]},features:[ri]});let n=t;return n})();var gn=(()=>{let t=class t extends gM{constructor(e,r,o,s){super(e,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(jt),C(ot),C(li,8))},t.\u0275cmp=gt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(qt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),_o(o.color?"mat-"+o.color:""),Ot("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[se,bt],attrs:oU,ngContentSelectors:aU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(je(sU),Tt(0,"span",0),Ft(1),L(2,"span",1),Ft(3,1),P(),Ft(4,2),Tt(5,"span",2)(6,"span",3)),r&2&&Ot("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=t;return n})();var Nv=(()=>{let t=class t extends gM{constructor(e,r,o,s){super(e,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(jt),C(ot),C(li,8))},t.\u0275cmp=gt({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(qt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),_o(o.color?"mat-"+o.color:""),Ot("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[se,bt],attrs:cU,ngContentSelectors:dU,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(je(),Tt(0,"span",0),Ft(1),Tt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',lU],encapsulation:2,changeDetection:0});let n=t;return n})();var bn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,ff,fe]});let n=t;return n})();var Pr=(()=>{let t=class t{constructor(){this.__logger=console.log,this.log=this.__logger,this.info=this.__logger,this.error=this.__logger,this.debug=this.__logger}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bs=Ih(Zc());var bM=$i({passive:!0}),_M=(()=>{let t=class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ur;let r=Yi(e),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new ht,a="cdk-text-field-autofilled",d=h=>{h.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",d,bM),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",d,bM)}}),s}stopMonitoring(e){let r=Yi(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(R(jt),R(ot))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var vM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({});let n=t;return n})();var Vv=class{constructor(t){this._box=t,this._destroyed=new ht,this._resizeSubject=new ht,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new hr(i=>{let e=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),e.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Xe(i=>i.some(e=>e.target===t)),ug({bufferSize:1,refCount:!0}),ye(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},yM=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=Y(ot),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new Vv(o)),this._observers.get(o).observe(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var fU=["notch"],pU=["matFormFieldNotchedOutline",""],gU=["*"],bU=["textField"],_U=["iconPrefixContainer"],vU=["textPrefixContainer"],yU=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xU=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function wU(n,t){n&1&&Tt(0,"span",17)}function kU(n,t){if(n&1&&(L(0,"label",16),Ft(1,1),ee(2,wU,1,0,"span",17),P()),n&2){let i=wt(2);Bt("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),qt("for",i._control.disableAutomaticLabeling?null:i._control.id),j(2),ae(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function CU(n,t){if(n&1&&ee(0,kU,3,5,"label",16),n&2){let i=wt();ae(0,i._hasFloatingLabel()?0:-1)}}function DU(n,t){n&1&&Tt(0,"div",5)}function SU(n,t){}function AU(n,t){if(n&1&&ee(0,SU,0,0,"ng-template",11),n&2){wt(2);let i=la(1);Bt("ngTemplateOutlet",i)}}function EU(n,t){if(n&1&&(L(0,"div",7),ee(1,AU,1,1,null,11),P()),n&2){let i=wt();Bt("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),j(),ae(1,i._forceDisplayInfixLabel()?-1:1)}}function MU(n,t){n&1&&(L(0,"div",8,2),Ft(2,2),P())}function IU(n,t){n&1&&(L(0,"div",9,3),Ft(2,3),P())}function TU(n,t){}function RU(n,t){if(n&1&&ee(0,TU,0,0,"ng-template",11),n&2){wt();let i=la(1);Bt("ngTemplateOutlet",i)}}function OU(n,t){n&1&&(L(0,"div",12),Ft(1,4),P())}function FU(n,t){n&1&&(L(0,"div",13),Ft(1,5),P())}function PU(n,t){n&1&&Tt(0,"div",14)}function LU(n,t){if(n&1&&(L(0,"div",18),Ft(1,6),P()),n&2){let i=wt();Bt("@transitionMessages",i._subscriptAnimationState)}}function NU(n,t){if(n&1&&(L(0,"mat-hint",20),lt(1),P()),n&2){let i=wt(2);Bt("id",i._hintLabelId),j(),ci(i.hintLabel)}}function VU(n,t){if(n&1&&(L(0,"div",19),ee(1,NU,2,2,"mat-hint",20),Ft(2,7),Tt(3,"div",21),Ft(4,8),P()),n&2){let i=wt();Bt("@transitionMessages",i._subscriptAnimationState),j(),ae(1,i.hintLabel?1:-1)}}var sl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-label"]],standalone:!0});let n=t;return n})(),BU=0,EM=new nt("MatError"),MM=(()=>{let t=class t{constructor(e,r){this.id=`mat-mdc-error-${BU++}`,e||r.nativeElement.setAttribute("aria-live","polite")}};t.\u0275fac=function(r){return new(r||t)(as("aria-live"),C(dt))},t.\u0275dir=tt({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&qr("id",o.id)},inputs:{id:"id"},standalone:!0,features:[Qt([{provide:EM,useExisting:t}])]});let n=t;return n})(),zU=0,_f=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${zU++}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(qr("id",o.id),qt("align",null),Ot("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=t;return n})(),jU=new nt("MatPrefix");var IM=new nt("MatSuffix"),TM=(()=>{let t=class t{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[it.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[Qt([{provide:IM,useExisting:t}])]});let n=t;return n})(),RM=new nt("FloatingLabelParent"),xM=(()=>{let t=class t{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Y(yM),this._ngZone=Y(ot),this._parent=Y(RM),this._resizeSubscription=new Re}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return HU(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(r){return new(r||t)(C(dt))},t.\u0275dir=tt({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=t;return n})();function HU(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let e=i.scrollWidth;return i.remove(),e}var wM="mdc-line-ripple--active",bf="mdc-line-ripple--deactivating",kM=(()=>{let t=class t{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(bf);o.propertyName==="opacity"&&a&&s.remove(wM,bf)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(bf),e.add(wM)}deactivate(){this._elementRef.nativeElement.classList.add(bf)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot))},t.\u0275dir=tt({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=t;return n})(),CM=(()=>{let t=class t{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot))},t.\u0275cmp=gt({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&le(fU,5),r&2){let s;kt(s=Ct())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mdc-notched-outline--notched",o.open)},inputs:{open:[it.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[bt],attrs:pU,ngContentSelectors:gU,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(je(),Tt(0,"div",1),L(1,"div",2,0),Ft(3),P(),Tt(4,"div",3))},encapsulation:2,changeDetection:0});let n=t;return n})(),UU={transitionMessages:us("transitionMessages",[vo("enter",Ei({opacity:1,transform:"translateY(0%)"})),pr("void => enter",[Ei({opacity:0,transform:"translateY(-5px)"}),fr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Cd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t});let n=t;return n})();var Dd=new nt("MatFormField"),WU=new nt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),DM=0,SM="fill",$U="auto",AM="fixed",YU="translateY(-50%)",vf=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ki(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||$U}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let r=this._appearance,o=e||this._defaults?.appearance||SM;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||AM}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||AM}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,o,s,a,d,h,m){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=a,this._defaults=d,this._animationMode=h,this._hideRequiredMarker=!1,this.color="primary",this._appearance=SM,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${DM++}`,this._hintLabelId=`mat-mdc-hint-${DM++}`,this._subscriptAnimationState="",this._destroyed=new ht,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ye(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),qn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ye(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ye(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){let r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=o?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",h=`${s+a}px`,f=`calc(${d} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${YU} translateX(${f})
    )`}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Oe),C(ot),C(pn),C(jt),C(WU,8),C(li,8),C(_t))},t.\u0275cmp=gt({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(Qe(s,sl,5),Qe(s,sl,7),Qe(s,Cd,5),Qe(s,jU,5),Qe(s,IM,5),Qe(s,EM,5),Qe(s,_f,5)),r&2){let a;kt(a=Ct())&&(o._labelChildNonStatic=a.first),kt(a=Ct())&&(o._labelChildStatic=a.first),kt(a=Ct())&&(o._formFieldControl=a.first),kt(a=Ct())&&(o._prefixChildren=a),kt(a=Ct())&&(o._suffixChildren=a),kt(a=Ct())&&(o._errorChildren=a),kt(a=Ct())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(le(bU,5),le(_U,5),le(vU,5),le(xM,5),le(CM,5),le(kM,5)),r&2){let s;kt(s=Ct())&&(o._textField=s.first),kt(s=Ct())&&(o._iconPrefixContainer=s.first),kt(s=Ct())&&(o._textPrefixContainer=s.first),kt(s=Ct())&&(o._floatingLabel=s.first),kt(s=Ct())&&(o._notchedOutline=s.first),kt(s=Ct())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Ot("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Qt([{provide:Dd,useExisting:t},{provide:RM,useExisting:t}]),bt],ngContentSelectors:xU,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Ze();je(yU),ee(0,CU,1,1,"ng-template",null,0,pg),L(2,"div",4,1),mt("click",function(d){return de(s),he(o._control.onContainerClick(d))}),ee(4,DU,1,0,"div",5),L(5,"div",6),ee(6,EU,2,2,"div",7)(7,MU,3,0,"div",8)(8,IU,3,0,"div",9),L(9,"div",10),ee(10,RU,1,1,null,11),Ft(11),P(),ee(12,OU,2,0,"div",12)(13,FU,2,0,"div",13),P(),ee(14,PU,1,0,"div",14),P(),L(15,"div",15),ee(16,LU,2,1)(17,VU,5,2),P()}if(r&2){let s;j(2),Ot("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),j(2),ae(4,!o._hasOutline()&&!o._control.disabled?4:-1),j(2),ae(6,o._hasOutline()?6:-1),j(),ae(7,o._hasIconPrefix?7:-1),j(),ae(8,o._hasTextPrefix?8:-1),j(2),ae(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),j(2),ae(12,o._hasTextSuffix?12:-1),j(),ae(13,o._hasIconSuffix?13:-1),j(),ae(14,o._hasOutline()?-1:14),j(),Ot("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),j(),ae(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[xM,CM,bg,kM,_f],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[UU.transitionMessages]},changeDetection:0});let n=t;return n})(),sr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,nn,il,fe]});let n=t;return n})();var qU=new nt("MAT_INPUT_VALUE_ACCESSOR"),GU=["button","checkbox","file","hidden","image","radio","range","reset","submit"],KU=0,yf=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=ki(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Do.required)??!1}set required(e){this._required=ki(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&wv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ki(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,s,a,d,h,m,f,g){this._elementRef=e,this._platform=r,this.ngControl=o,this._autofillMonitor=m,this._formField=g,this._uid=`mat-input-${KU++}`,this.focused=!1,this.stateChanges=new ht,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>wv().has(k)),this._iOSKeyupListener=k=>{let S=k.target;!S.value&&S.selectionStart===0&&S.selectionEnd===0&&(S.setSelectionRange(1,1),S.setSelectionRange(0,0))};let _=this._elementRef.nativeElement,y=_.nodeName.toLowerCase();this._inputValueAccessor=h||_,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&f.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new rl(d,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=y==="select",this._isTextarea=y==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){GU.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(jt),C(sn,10),C(bs,8),C(Gr,8),C(ol),C(qU,10),C(_M),C(ot),C(Dd,8))},t.\u0275dir=tt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&mt("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(qr("id",o.id)("disabled",o.disabled)("required",o.required),qt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Ot("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[it.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Qt([{provide:Cd,useExisting:t}]),Ne]});let n=t;return n})(),Uo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,sr,sr,vM,fe]});let n=t;return n})();var Sd=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ar=class extends Sd{constructor(t,i,e,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=e,this.componentFactoryResolver=r,this.projectableNodes=o}},Ls=class extends Sd{constructor(t,i,e,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=e,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Bv=class extends Sd{constructor(t){super(),this.element=t instanceof dt?t.nativeElement:t}},al=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ar)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ls)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Bv)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var xf=class extends al{constructor(t,i,e,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=e,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let d=this._document.createComment("dom-portal");a.parentNode.insertBefore(d,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=o}attachComponentPortal(t){let e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=e.create(t.injector||this._defaultInjector||_i.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,e=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return e.rootNodes.forEach(r=>this.outletElement.appendChild(r)),e.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(e);r!==-1&&i.remove(r)}),this._attachedPortal=t,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ll=(()=>{let t=class t extends al{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ct,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}};t.\u0275fac=function(r){return new(r||t)(C(Ph),C(mr),C(_t))},t.\u0275dir=tt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[it.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[se]});let n=t;return n})();var Ad=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({});let n=t;return n})();var XU=20,Ed=(()=>{let t=class t{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=XU){return this._platform.isBrowser?new hr(r=>{this._globalSubscription||this._addGlobalListener();let o=e>0?this._scrolled.pipe(cg(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Xe(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=Yi(r),s=e.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return lg(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(ot),R(jt),R(_t,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ZU=20,wf=(()=>{let t=class t{constructor(e,r,o){this._platform=e,this._change=new ht,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect(),a=-s.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,d=-s.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:d}}change(e=ZU){return e>0?this._change.pipe(cg(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(R(jt),R(ot),R(_t,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var cl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({});let n=t;return n})(),zv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[Ho,cl,Ho,cl]});let n=t;return n})();var PM=VE(),jv=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ue(-this._previousScrollPosition.left),t.style.top=Ue(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,e=t.style,r=i.style,o=e.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),PM&&(e.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PM&&(e.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,e=this._viewportRuler.getViewportSize();return i.scrollHeight>e.height||i.scrollWidth>e.width}};var Hv=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=e,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Xe(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},kf=class{enable(){}disable(){}attach(){}};function Uv(n,t){return t.some(i=>{let e=n.bottom<i.top,r=n.top>i.bottom,o=n.right<i.left,s=n.left>i.right;return e||r||o||s})}function LM(n,t){return t.some(i=>{let e=n.top<i.top,r=n.bottom>i.bottom,o=n.left<i.left,s=n.right>i.right;return e||r||o||s})}var Wv=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=e,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:r}=this._viewportRuler.getViewportSize();Uv(i,[{width:e,height:r,bottom:r,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},t6=(()=>{let t=class t{constructor(e,r,o,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new kf,this.close=a=>new Hv(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new jv(this._viewportRuler,this._document),this.reposition=a=>new Wv(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(r){return new(r||t)(R(Ed),R(wf),R(ot),R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Vs=class{constructor(t){if(this.scrollStrategy=new kf,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let e of i)t[e]!==void 0&&(this[e]=t[e])}}};var $v=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var jM=(()=>{let t=class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(R(_t))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),e6=(()=>{let t=class t extends jM{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let d=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(R(_t),R(ot,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),i6=(()=>{let t=class t extends jM{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=or(s)},this._clickListener=s=>{let a=or(s),d=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){let f=h[m];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(d))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(R(_t),R(jt),R(ot,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),HM=(()=>{let t=class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||vd()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(e),vd()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(R(_t),R(jt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Yv=class{constructor(t,i,e,r,o,s,a,d,h,m=!1){this._portalOutlet=t,this._host=i,this._pane=e,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=d,this._outsideClickDispatcher=h,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new ht,this._attachments=new ht,this._detachments=new ht,this._locationChanges=Re.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ht,this._outsidePointerEvents=new ht,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(We(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=H(H({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ge(H({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ue(this._config.width),t.height=Ue(this._config.height),t.minWidth=Ue(this._config.minWidth),t.minHeight=Ue(this._config.minHeight),t.maxWidth=Ue(this._config.maxWidth),t.maxHeight=Ue(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,e){let r=el(i||[]).filter(o=>!!o);r.length&&(e?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(ye(qn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},NM="cdk-overlay-connected-position-bounding-box",n6=/([A-Za-z%]+)$/,Md=class{get positions(){return this._preferredPositions}constructor(t,i,e,r,o){this._viewportRuler=i,this._document=e,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht,this._resizeSubscription=Re.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(NM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,e=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let d=this._getOriginPoint(t,r,a),h=this._getOverlayPoint(d,i,a),m=this._getOverlayFit(h,i,e,a);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,d);return}if(this._canFitWithFlexibleDimensions(m,h,e)){o.push({position:a,origin:d,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(d,a)});continue}(!s||s.overlayFit.visibleArea<m.visibleArea)&&(s={overlayFit:m,overlayPoint:h,originPoint:d,position:a,overlayRect:i})}if(o.length){let a=null,d=-1;for(let h of o){let m=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);m>d&&(d=m,a=h)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ns(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,e){let r;if(e.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=e.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return e.originY=="center"?o=t.top+t.height/2:o=e.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,e){let r;e.overlayX=="center"?r=-i.width/2:e.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return e.overlayY=="center"?o=-i.height/2:o=e.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,e,r){let o=BM(i),{x:s,y:a}=t,d=this._getOffset(r,"x"),h=this._getOffset(r,"y");d&&(s+=d),h&&(a+=h);let m=0-s,f=s+o.width-e.width,g=0-a,_=a+o.height-e.height,y=this._subtractOverflows(o.width,m,f),k=this._subtractOverflows(o.height,g,_),S=y*k;return{visibleArea:S,isCompletelyWithinViewport:o.width*o.height===S,fitsInViewportVertically:k===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,i,e){if(this._hasFlexibleDimensions){let r=e.bottom-i.y,o=e.right-i.x,s=VM(this._overlayRef.getConfig().minHeight),a=VM(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||s!=null&&s<=r,h=t.fitsInViewportHorizontally||a!=null&&a<=o;return d&&h}return!1}_pushOverlayOnScreen(t,i,e){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=BM(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),d=Math.max(o.top-e.top-t.y,0),h=Math.max(o.left-e.left-t.x,0),m=0,f=0;return r.width<=o.width?m=h||-s:m=t.x<this._viewportMargin?o.left-e.left-t.x:0,r.height<=o.height?f=d||-a:f=t.y<this._viewportMargin?o.top-e.top-t.y:0,this._previousPushAmount={x:m,y:f},{x:t.x+m,y:t.y+f}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!r6(this._lastScrollVisibility,e)){let r=new $v(t,e);this._positionChanges.next(r)}this._lastScrollVisibility=e}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,r=t.overlayY;t.overlayX==="center"?e="center":this._isRtl()?e=t.overlayX==="start"?"right":"left":e=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${e} ${r}`}_calculateBoundingBoxRect(t,i){let e=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=t.y,o=e.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=e.height-t.y+this._viewportMargin*2,o=e.height-a+this._viewportMargin;else{let _=Math.min(e.bottom-t.y+e.top,t.y),y=this._lastBoundingBoxSize.height;o=_*2,s=t.y-_,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}let d=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,h=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,m,f,g;if(h)g=e.width-t.x+this._viewportMargin*2,m=t.x-this._viewportMargin;else if(d)f=t.x,m=e.right-t.x;else{let _=Math.min(e.right-t.x+e.left,t.x),y=this._lastBoundingBoxSize.width;m=_*2,f=t.x-_,m>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-y/2)}return{top:s,left:f,bottom:a,right:g,width:m,height:o}}_setBoundingBoxStyles(t,i){let e=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Ue(e.height),r.top=Ue(e.top),r.bottom=Ue(e.bottom),r.width=Ue(e.width),r.left=Ue(e.left),r.right=Ue(e.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ue(o)),s&&(r.maxWidth=Ue(s))}this._lastBoundingBoxSize=e,Ns(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ns(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ns(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let e={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let m=this._viewportRuler.getViewportScrollPosition();Ns(e,this._getExactOverlayY(i,t,m)),Ns(e,this._getExactOverlayX(i,t,m))}else e.position="static";let a="",d=this._getOffset(i,"x"),h=this._getOffset(i,"y");d&&(a+=`translateX(${d}px) `),h&&(a+=`translateY(${h}px)`),e.transform=a.trim(),s.maxHeight&&(r?e.maxHeight=Ue(s.maxHeight):o&&(e.maxHeight="")),s.maxWidth&&(r?e.maxWidth=Ue(s.maxWidth):o&&(e.maxWidth="")),Ns(this._pane.style,e)}_getExactOverlayY(t,i,e){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Ue(o.y);return r}_getExactOverlayX(t,i,e){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Ue(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),e=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:LM(t,e),isOriginOutsideView:Uv(t,e),isOverlayClipped:LM(i,e),isOverlayOutsideView:Uv(i,e)}}_subtractOverflows(t,...i){return i.reduce((e,r)=>e-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+t-this._viewportMargin,bottom:e.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&el(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof dt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,e=t.height||0;return{top:t.y,bottom:t.y+e,left:t.x,right:t.x+i,height:e,width:i}}};function Ns(n,t){for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function VM(n){if(typeof n!="number"&&n!=null){let[t,i]=n.split(n6);return!i||i==="px"?parseFloat(t):null}return n||null}function BM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function r6(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var zM="cdk-global-overlay-wrapper",qv=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=e,d=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),m=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",y="",k="";d?k="flex-start":m==="center"?(k="center",g?y=f:_=f):g?m==="left"||m==="end"?(k="flex-end",_=f):(m==="right"||m==="start")&&(k="flex-start",y=f):m==="left"||m==="start"?(k="flex-start",_=f):(m==="right"||m==="end")&&(k="flex-end",y=f),t.position=this._cssPosition,t.marginLeft=d?"0":_,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":y,i.justifyContent=k,i.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,e=i.style;i.classList.remove(zM),e.justifyContent=e.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},o6=(()=>{let t=class t{constructor(e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new qv}flexibleConnectedTo(e){return new Md(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(R(wf),R(_t),R(jt),R(HM))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),s6=0,Oi=(()=>{let t=class t{constructor(e,r,o,s,a,d,h,m,f,g,_,y){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=h,this._document=m,this._directionality=f,this._location=g,this._outsideClickDispatcher=_,this._animationsModuleType=y}create(e){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Vs(e);return a.direction=a.direction||this._directionality.value,new Yv(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${s6++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gl)),new xf(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(R(t6),R(HM),R(Ph),R(o6),R(e6),R(_i),R(ot),R(_t),R(pn),R(da),R(i6),R(li,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var a6=new nt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=Y(Oi);return()=>n.scrollStrategies.reposition()}});function l6(n){return()=>n.scrollStrategies.reposition()}var c6={provide:a6,deps:[Oi],useFactory:l6},Id=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({providers:[Oi,c6],imports:[Ho,Ad,zv,zv]});let n=t;return n})();function d6(n,t){if(n&1){let i=Ze();L(0,"div",1)(1,"button",2),mt("click",function(){de(i);let r=wt();return he(r.action())}),lt(2),P()()}if(n&2){let i=wt();j(2),Ai(" ",i.data.action," ")}}var h6=["label"];function u6(n,t){}var m6=Math.pow(2,31)-1,Td=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new ht,this._afterOpened=new ht,this._onAction=new ht,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,m6))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},UM=new nt("MatSnackBarData"),dl=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},f6=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=t;return n})(),p6=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=t;return n})(),g6=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=t;return n})(),b6=(()=>{let t=class t{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(C(Td),C(UM))},t.\u0275cmp=gt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[bt],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(L(0,"div",0),lt(1),P(),ee(2,d6,3,1,"div",1)),r&2&&(j(),Ai(" ",o.data.message,`
`),j(),ae(2,o.hasAction?2:-1))},dependencies:[gn,f6,p6,g6],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=t;return n})(),_6={snackBarState:us("state",[vo("void, hidden",Ei({transform:"scale(0.8)",opacity:0})),vo("visible",Ei({transform:"scale(1)",opacity:1})),pr("* => visible",fr("150ms cubic-bezier(0, 0, 0.2, 1)")),pr("* => void, * => hidden",fr("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ei({opacity:0})))])},v6=0,y6=(()=>{let t=class t extends al{constructor(e,r,o,s,a){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._document=Y(_t),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ht,this._onExit=new ht,this._onEnter=new ht,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${v6++}`,this.attachDomPortal=d=>{this._assertNotAttached();let h=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),h},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){let{fromState:r,toState:o}=e;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>e.classList.add(a)):e.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(e)===-1&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let r=e.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(C(ot),C(dt),C(Oe),C(jt),C(dl))},t.\u0275cmp=gt({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(le(ll,7),le(h6,7)),r&2){let s;kt(s=Ct())&&(o._portalOutlet=s.first),kt(s=Ct())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&zh("@state.done",function(a){return o.onAnimationEnd(a)}),r&2&&Bh("@state",o._animationState)},standalone:!0,features:[se,bt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(L(0,"div",1)(1,"div",2,0)(3,"div",3),ee(4,u6,0,0,"ng-template",4),P(),Tt(5,"div"),P()()),r&2&&(j(5),qt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[ll],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[_6.snackBarState]}});let n=t;return n})();function x6(){return new dl}var w6=new nt("mat-snack-bar-default-options",{providedIn:"root",factory:x6}),WM=(()=>{let t=class t{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,o,s,a,d){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=b6,this.snackBarContainerComponent=y6,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){let s=H(H({},this._defaultConfig),o);return s.data={message:e,action:r},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=_i.create({parent:o||this._injector,providers:[{provide:dl,useValue:r}]}),a=new ar(this.snackBarContainerComponent,r.viewContainerRef,s),d=e.attach(a);return d.instance.snackBarConfig=r,d.instance}_attach(e,r){let o=H(H(H({},new dl),this._defaultConfig),r),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),d=new Td(a,s);if(e instanceof sa){let h=new Ls(e,null,{$implicit:o.data,snackBarRef:d});d.instance=a.attachTemplatePortal(h)}else{let h=this._createInjector(o,d),m=new ar(e,void 0,h),f=a.attachComponentPortal(m);d.instance=f.instance}return this._breakpointObserver.observe($E.HandsetPortrait).pipe(ye(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(d,o),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){let r=new Vs;r.direction=e.direction;let o=this._overlay.position().global(),s=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!s||e.horizontalPosition==="end"&&s,d=!a&&e.horizontalPosition!=="center";return a?o.left("0"):d?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return _i.create({parent:o||this._injector,providers:[{provide:Td,useValue:r},{provide:UM,useValue:e.data}]})}};t.\u0275fac=function(r){return new(r||t)(R(Oi),R(iM),R(_i),R(sf),R(t,12),R(w6))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var C6={error:"snack-bar-error",warn:"snack-bar-warn",info:"snack-bar-info",success:"snack-bar-success"},hl=(()=>{let t=class t{constructor(e,r){this._snackbar=e,this.log=r,this.horizontalPosition="end",this.verticalPosition="top"}open(e,r="success"){let o=C6[r];this.log.info(`Setting panel - ${o}`),this._snackbar.open(e,"X",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o})}};t.\u0275fac=function(r){return new(r||t)(R(WM),R(Pr))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var $M=2,YM=(()=>{let t=class t{constructor(e,r,o){this.log=e,this._snackbar=r,this.router=o,this.unrefined="",this.refined="",this.formatted="",this.spaces=$M,this.home={name:"Home",path:["apps"]},this.gotoHome=()=>{this.router.navigate(this.home.path)},this.format=()=>{let s=this.__getTextFromEditor(this.data1);this._setNextEditor(s)},this.__getTextFromEditor=s=>{let d=Bs.default.get(s,"text",[]).join(`
`);return JSON.parse(d)},this._setNextEditor=s=>{this.data2={text:JSON.stringify(s,null,this.spaces>=1?this.spaces:$M).split(`
`),new:!0},this.log.info("New data set",this.data2)},this.unescape=()=>{let s=this.__getTextFromEditor(this.data1);this.log.info("Unescape successfull, parsing data to json");let a=JSON.parse(s);this._setNextEditor(a)},this.dataSort=s=>{let a={},d=Object.keys(s);d=Bs.default.sortBy(d,h=>h);for(let h of d){let m=Bs.default.get(s,h);if(typeof m=="object"&&!Array.isArray(m)&&!Bs.default.isEmpty(m)){let f=this.dataSort(m);Bs.default.set(a,h,f);continue}Bs.default.set(a,h,m)}return a},this.sortIt=()=>{let s=this.__getTextFromEditor(this.data1),a=this.dataSort(s);this._setNextEditor(a)}}handle(e){try{switch(e){case"format":{this.format();break}case"unescape":{this.unescape();break}case"sort":{this.sortIt();break}default:{this._snackbar.open("Invalid action","error");break}}}catch(r){this.log.error("Error while parsing data",r,this.data1),this._snackbar.open("Invalid JSON","error")}}};t.\u0275fac=function(r){return new(r||t)(C(Pr),C(hl),C(_r))},t.\u0275cmp=gt({type:t,selectors:[["app-play-with-json"]],standalone:!0,features:[Qt([Pr]),bt],decls:25,vars:4,consts:[[1,"m-auto"],[1,"split"],[1,"pg-header"],[1,"cl"],[1,"cc"],[1,"btn-group"],["mat-raised-button","","color","primary",3,"click"],[1,"cr"],["matInput","","type","number","name","spaces","placeholder","Space",3,"ngModelChange","ngModel"],[1,"split-1"],["name","msg",1,"overflow-auto","w-100",3,"ngModelChange","ngModel","focus"],[1,"split-2"],["name","msg",1,"overflow-auto","w-100",3,"ngModelChange","ngModel"]],template:function(r,o){r&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),lt(4,"Play With JSON"),P(),L(5,"div",1),Tt(6,"div",3),L(7,"div",4)(8,"div",5)(9,"button",6),mt("click",function(){return o.gotoHome()}),lt(10,"Go Home"),P(),L(11,"button",6),mt("click",function(){return o.handle("unescape")}),lt(12,"Unescape"),P(),L(13,"button",6),mt("click",function(){return o.handle("format")}),lt(14,"Format"),P(),L(15,"button",6),mt("click",function(){return o.handle("sort")}),lt(16,"Sort"),P()()(),L(17,"mat-form-field",7)(18,"mat-label"),lt(19,"Spaces"),P(),L(20,"input",8),Xn("ngModelChange",function(a){return Kn(o.spaces,a)||(o.spaces=a),a}),P()()()(),L(21,"div",9)(22,"app-cm-editor-input",10),Xn("ngModelChange",function(a){return Kn(o.data1,a)||(o.data1=a),a}),P()(),L(23,"div",11)(24,"app-cm-editor-input",12),Xn("ngModelChange",function(a){return Kn(o.data2,a)||(o.data2=a),a}),P()()()()),r&2&&(j(20),Gn("ngModel",o.spaces),j(2),Gn("ngModel",o.data1),Bt("focus",!0),j(2),Gn("ngModel",o.data2))},dependencies:[rf,Ao,Ca,Eb,Da,xc,bn,gn,Uo,yf,vf,sl,sr],styles:[".split[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.split[_ngcontent-%COMP%]   .pg-header[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:10px}.split[_ngcontent-%COMP%]   .split-1[_ngcontent-%COMP%], .split[_ngcontent-%COMP%]   .split-2[_ngcontent-%COMP%]{width:50%}.cl[_ngcontent-%COMP%], .cr[_ngcontent-%COMP%]{width:100px;flex:0 0 100px}.cc[_ngcontent-%COMP%]{flex:1;text-align:center}.btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:5px}.spaces-input[_ngcontent-%COMP%]{margin-left:auto;width:80px}@media (max-width: 720px){.split-1[_ngcontent-%COMP%], .split-2[_ngcontent-%COMP%]{width:100%!important;height:500px;overflow:auto}}"]});let n=t;return n})();var qM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["app-not-found"]],standalone:!0,features:[bt],decls:2,vars:0,template:function(r,o){r&1&&(L(0,"p"),lt(1,"not-found works!"),P())}});let n=t;return n})();function D6(n,t){if(n&1){let i=Ze();L(0,"button",3),mt("click",function(){let r=de(i).$implicit,o=wt();return he(o.gotoPath(r))}),lt(1),P()}if(n&2){let i=t.$implicit;j(),ci(i.name)}}var GM=(()=>{let t=class t{constructor(e){this.router=e,this.apps=[{name:"JSON Formatter",path:["jsonplay"]},{name:"Dates & Times",path:["time"]},{name:"JSON Diff",path:["jsondiff"]}],this.gotoPath=r=>{this.router.navigate(r.path)}}};t.\u0275fac=function(r){return new(r||t)(C(_r))},t.\u0275cmp=gt({type:t,selectors:[["app-apps"]],standalone:!0,features:[bt],decls:5,vars:0,consts:[[1,"apps-list"],[1,"w-100","text-center"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,o){r&1&&(L(0,"div",0)(1,"h2",1),lt(2,"Apps"),P(),In(3,D6,2,1,"button",2,aa),P()),r&2&&(j(3),Tn(o.apps))},dependencies:[bn,gn],styles:[".apps-list[_ngcontent-%COMP%]{width:100%;justify-content:center;display:flex;flex-wrap:wrap;gap:5px}"]});let n=t;return n})();var S6=(n,t,i="$")=>{let e=[],r=0,o=0,s=d=>({changed:!0,remove:!0,type:`index - ${d} is removed from right`,position:`${i}[${d}]`}),a=d=>({changed:!0,add:!0,type:`index - ${d} is added to right`,position:`${i}[${d}]`});for(;r<n.length&&o<t.length;){let d=Rd(n[r],t[o],`${i}[${r}]`);e.push(...d),r+=1,o+=1}for(;r<n.length;)e.push(s(r)),r+=1;for(;o<t.length;)e.push(a(o)),o+=1;return e},A6=(n,t,i="$")=>{let e=[],r=Object.keys(n).sort(),o=Object.keys(t).sort(),s=m=>({changed:!0,remove:!0,type:`key - ${m} is removed from right`,position:`${i}.${m}`}),a=m=>({changed:!0,add:!0,type:`key - ${m} is added to right`,position:`${i}.${m}`}),[d,h]=[0,0];for(;d<r.length&&h<o.length;){let m=r[d],f=o[h];if(m===f){let g=Rd(n[m],t[f],`${i}.${m}`);e.push(...g),d+=1,h+=1}else m<f?(e.push(s(m)),d+=1):(e.push(a(f)),h+=1)}for(;d<r.length;)e.push(s(r[d])),d+=1;for(;h<o.length;)e.push(a(o[h])),h+=1;return e},Rd=(n,t,i="$")=>{let e=()=>({changed:!1,change:!1,type:"values are same",position:`${i}`}),r=()=>({changed:!0,change:!0,type:"values are not same",position:`${i}`}),o=()=>({changed:!0,incompatible:!0,type:"incompatible types",position:`${i}`});return typeof n!=typeof t?[o()]:typeof n=="object"&&n?Array.isArray(n)&&!Array.isArray(t)?[o()]:!Array.isArray(n)&&Array.isArray(t)?[o()]:Array.isArray(n)&&Array.isArray(t)?S6(n,t,i):A6(n,t,i):n===t?[e()]:[r()]},Xv=n=>{let t=[];for(let i of n)i&&typeof i=="object"?Array.isArray(i)?t.push(Xv(i)):t.push(Zv(i)):t.push(i);return t},Zv=n=>{let t={},i=Object.keys(n).sort();for(let e of i){let r=n[e];r&&typeof r=="object"?Array.isArray(r)?t[e]=Xv(r):t[e]=Zv(r):t[e]=r}return t},Cf=n=>n&&typeof n=="object"?Array.isArray(n)?Xv(n):Zv(n):n;var KM=()=>{let n=["PST","CST","IST","EST"],t=Intl.supportedValuesOf("timeZone");return t.push(...n),t.includes("UTC")||t.includes("utc")||t.push("UTC"),t.map(i=>({abbr:new Date().toLocaleTimeString("en-us",{timeZoneName:"short",timeZone:i}).split(" ")[2],zone:i}))};var XM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,fe]});let n=t;return n})();var E6=["*"],M6='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',I6=["unscopedContent"],T6=["text"],R6=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],O6=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var F6=new nt("ListOption"),Qv=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(r){return new(r||t)(C(dt))},t.\u0275dir=tt({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0});let n=t;return n})(),Jv=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(r){return new(r||t)(C(dt))},t.\u0275dir=tt({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0});let n=t;return n})(),ty=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0});let n=t;return n})(),ZM=(()=>{let t=class t{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}};t.\u0275fac=function(r){return new(r||t)(C(F6,8))},t.\u0275dir=tt({type:t,hostVars:4,hostBindings:function(r,o){r&2&&Ot("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())},standalone:!0});let n=t;return n})(),P6=(()=>{let t=class t extends ZM{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[se]});let n=t;return n})(),L6=(()=>{let t=class t extends ZM{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[se]});let n=t;return n})(),N6=new nt("MAT_LIST_CONFIG"),Df=(()=>{let t=class t{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=Y(N6,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ki(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=ki(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,hostVars:1,hostBindings:function(r,o){r&2&&qt("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let n=t;return n})(),V6=(()=>{let t=class t{set lines(e){this._explicitLines=Or(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ki(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=ki(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,r,o,s,a,d){this._elementRef=e,this._ngZone=r,this._listBase=o,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Re,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=d==="NoopAnimations",o&&!o._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new wd(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(qn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let r=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",r===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",r===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&r===1;o.classList.toggle("mdc-list-item__primary-text",s),o.classList.toggle("mdc-list-item__secondary-text",!s)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot),C(Df,8),C(jt),C(kd,8),C(li,8))},t.\u0275dir=tt({type:t,contentQueries:function(r,o,s){if(r&1&&(Qe(s,P6,4),Qe(s,L6,4)),r&2){let a;kt(a=Ct())&&(o._avatars=a),kt(a=Ct())&&(o._icons=a)}},hostVars:4,hostBindings:function(r,o){r&2&&(qt("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),Ot("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let n=t;return n})();var Sf=(()=>{let t=class t extends Df{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275cmp=gt({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[Qt([{provide:Df,useExisting:t}]),se,bt],ngContentSelectors:E6,decls:1,vars:0,template:function(r,o){r&1&&(je(),Ft(0))},styles:[M6],encapsulation:2,changeDetection:0});let n=t;return n})(),Af=(()=>{let t=class t extends V6{get activated(){return this._activated}set activated(e){this._activated=ki(e)}constructor(e,r,o,s,a,d){super(e,r,o,s,a,d),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot),C(Df,8),C(jt),C(kd,8),C(li,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,o,s){if(r&1&&(Qe(s,Jv,5),Qe(s,Qv,5),Qe(s,ty,5)),r&2){let a;kt(a=Ct())&&(o._lines=a),kt(a=Ct())&&(o._titles=a),kt(a=Ct())&&(o._meta=a)}},viewQuery:function(r,o){if(r&1&&(le(I6,5),le(T6,5)),r&2){let s;kt(s=Ct())&&(o._unscopedContent=s.first),kt(s=Ct())&&(o._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&2&&(qt("aria-current",o._getAriaCurrent()),Ot("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[se,bt],ngContentSelectors:O6,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(r,o){if(r&1){let s=Ze();je(R6),Ft(0),L(1,"span",1),Ft(2,1),Ft(3,2),L(4,"span",2,0),mt("cdkObserveContent",function(){return de(s),he(o._updateItemLines(!0))}),Ft(6,3),P()(),Ft(7,4),Ft(8,5),Tt(9,"div",3)}},dependencies:[HE],encapsulation:2,changeDetection:0});let n=t;return n})();var QM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0});let n=t;return n})();var Ef=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[il,nn,fe,ff,mM,XM]});let n=t;return n})();var z6=["mat-calendar-body",""];function j6(n,t){if(n&1&&(L(0,"tr",0)(1,"td",3),lt(2),P()()),n&2){let i=wt();j(),hs("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),qt("colspan",i.numCols),j(),Ai(" ",i.label," ")}}function H6(n,t){if(n&1&&(L(0,"td",3),lt(1),P()),n&2){let i=wt(2);hs("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),qt("colspan",i._firstRowOffset),j(),Ai(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function U6(n,t){if(n&1){let i=Ze();L(0,"td",6)(1,"button",7),mt("click",function(r){let o=de(i).$implicit,s=wt(2);return he(s._cellClicked(o,r))})("focus",function(r){let o=de(i).$implicit,s=wt(2);return he(s._emitActiveDateChange(o,r))}),L(2,"span",8),lt(3),P(),Tt(4,"span",9),P()()}if(n&2){let i=t.$implicit,e=t.$index,r=wt().$index,o=wt();hs("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),qt("data-mat-row",r)("data-mat-col",e),j(),Ot("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",o._isActiveCell(r,e))("mat-calendar-body-range-start",o._isRangeStart(i.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",o._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(i.compareValue,r,e))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(i.compareValue,r,e))("mat-calendar-body-comparison-start",o._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",o._isInPreview(i.compareValue)),Bt("ngClass",i.cssClasses)("tabindex",o._isActiveCell(r,e)?0:-1),qt("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",o._isSelected(i.compareValue))("aria-current",o.todayValue===i.compareValue?"date":null)("aria-describedby",o._getDescribedby(i.compareValue)),j(),Ot("mat-calendar-body-selected",o._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",o.todayValue===i.compareValue),j(),Ai(" ",i.displayValue," ")}}function W6(n,t){if(n&1&&(L(0,"tr",1),ee(1,H6,2,6,"td",4),In(2,U6,5,48,"td",5,Vh),P()),n&2){let i=t.$implicit,e=t.$index,r=wt();j(),ae(1,e===0&&r._firstRowOffset?1:-1),j(),Tn(i)}}function $6(n,t){if(n&1&&(L(0,"th",2)(1,"span",6),lt(2),P(),L(3,"span",3),lt(4),P()()),n&2){let i=t.$implicit;j(2),ci(i.long),j(2),ci(i.narrow)}}var Y6=["*"];function q6(n,t){}function G6(n,t){if(n&1){let i=Ze();L(0,"mat-month-view",2),Xn("activeDateChange",function(r){de(i);let o=wt();return Kn(o.activeDate,r)||(o.activeDate=r),he(r)}),mt("_userSelection",function(r){de(i);let o=wt();return he(o._dateSelected(r))})("dragStarted",function(r){de(i);let o=wt();return he(o._dragStarted(r))})("dragEnded",function(r){de(i);let o=wt();return he(o._dragEnded(r))}),P()}if(n&2){let i=wt();Gn("activeDate",i.activeDate),Bt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function K6(n,t){if(n&1){let i=Ze();L(0,"mat-year-view",3),Xn("activeDateChange",function(r){de(i);let o=wt();return Kn(o.activeDate,r)||(o.activeDate=r),he(r)}),mt("monthSelected",function(r){de(i);let o=wt();return he(o._monthSelectedInYearView(r))})("selectedChange",function(r){de(i);let o=wt();return he(o._goToDateInView(r,"month"))}),P()}if(n&2){let i=wt();Gn("activeDate",i.activeDate),Bt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function X6(n,t){if(n&1){let i=Ze();L(0,"mat-multi-year-view",4),Xn("activeDateChange",function(r){de(i);let o=wt();return Kn(o.activeDate,r)||(o.activeDate=r),he(r)}),mt("yearSelected",function(r){de(i);let o=wt();return he(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){de(i);let o=wt();return he(o._goToDateInView(r,"year"))}),P()}if(n&2){let i=wt();Gn("activeDate",i.activeDate),Bt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function Z6(n,t){}var Q6=["button"],J6=[[["","matDatepickerToggleIcon",""]]],tW=["[matDatepickerToggleIcon]"];function eW(n,t){n&1&&(Fh(),L(0,"svg",2),Tt(1,"path",3),P())}var iW=[[["input","matStartDate",""]],[["input","matEndDate",""]]],nW=["input[matStartDate]","input[matEndDate]"];var Nd=(()=>{let t=class t{constructor(){this.changes=new ht,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,r){return`${e} \u2013 ${r}`}formatYearRangeLabel(e,r){return`${e} to ${r}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Pd=class{constructor(t,i,e,r,o={},s=t,a){this.value=t,this.displayValue=i,this.ariaLabel=e,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=a}},rW=1,tI=$i({passive:!1,capture:!0}),Wo=$i({passive:!0,capture:!0}),Mf=$i({passive:!0}),pl=(()=>{let t=class t{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,r){this._elementRef=e,this._ngZone=r,this._platform=Y(jt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new ct,this.previewChange=new ct,this.activeDateChange=new ct,this.dragStarted=new ct,this.dragEnded=new ct,this._didDragSinceMouseDown=!1,this._enterHandler=o=>{if(this._skipNextFocus&&o.type==="focus"){this._skipNextFocus=!1;return}if(o.target&&this.isRange){let s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;let s=eI(o),a=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),iy(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:o}))},this._leaveHandler=o=>{this.previewEnd!==null&&this.isRange&&(o.type!=="blur"&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&!(o.relatedTarget&&this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;let s=iy(o.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:o})})},this._touchendHandler=o=>{let s=eI(o);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${rW++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,r.runOutsideAngular(()=>{let o=e.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,tI),o.addEventListener("mouseenter",this._enterHandler,Wo),o.addEventListener("focus",this._enterHandler,Wo),o.addEventListener("mouseleave",this._leaveHandler,Wo),o.addEventListener("blur",this._leaveHandler,Wo),o.addEventListener("mousedown",this._mousedownHandler,Mf),o.addEventListener("touchstart",this._mousedownHandler,Mf),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,r){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:r})}_emitActiveDateChange(e,r){e.enabled&&this.activeDateChange.emit({value:e.value,event:r})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let r=e.numCols,{rows:o,numCols:s}=this;(e.rows||r)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(e.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(r||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,tI),e.removeEventListener("mouseenter",this._enterHandler,Wo),e.removeEventListener("focus",this._enterHandler,Wo),e.removeEventListener("mouseleave",this._leaveHandler,Wo),e.removeEventListener("blur",this._leaveHandler,Wo),e.removeEventListener("mousedown",this._mousedownHandler,Mf),e.removeEventListener("touchstart",this._mousedownHandler,Mf),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,r){let o=e*this.numCols+r;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(We(1)).subscribe(()=>{setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(e||(this._skipNextFocus=!0),r.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ny(e,this.startValue,this.endValue)}_isRangeEnd(e){return ry(e,this.startValue,this.endValue)}_isInRange(e){return oy(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ny(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,r,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[r][o-1];if(!s){let a=this.rows[r-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,r,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[r][o+1];if(!s){let a=this.rows[r+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return ry(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return oy(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ny(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return ry(e,this.previewStart,this.previewEnd)}_isInPreview(e){return oy(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let r=iy(e);if(r){let o=r.getAttribute("data-mat-row"),s=r.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(ot))},t.\u0275cmp=gt({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Ne,bt],attrs:z6,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,o){r&1&&(ee(0,j6,3,6,"tr",0),In(1,W6,4,1,"tr",1,Vh),L(3,"label",2),lt(4),P(),L(5,"label",2),lt(6),P()),r&2&&(ae(0,o._firstRowOffset<o.labelMinRequiredCells?0:-1),j(),Tn(o.rows),j(2),Bt("id",o._startDateLabelId),j(),Ai(" ",o.startDateAccessibleName,`
`),j(),Bt("id",o._endDateLabelId),j(),Ai(" ",o.endDateAccessibleName,`
`))},dependencies:[ha],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let n=t;return n})();function ey(n){return n?.nodeName==="TD"}function iy(n){let t;return ey(n)?t=n:ey(n.parentNode)?t=n.parentNode:ey(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function ny(n,t,i){return i!==null&&t!==i&&n<i&&n===t}function ry(n,t,i){return t!==null&&t!==i&&n>=t&&n===i}function oy(n,t,i,e){return e&&t!==null&&i!==null&&t!==i&&n>=t&&n<=i}function eI(n){let t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var ti=class{constructor(t,i){this.start=t,this.end=i}},$o=(()=>{let t=class t{constructor(e,r){this.selection=e,this._adapter=r,this._selectionChanged=new ht,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,r){let o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:r,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}};t.\u0275fac=function(r){ds()},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),oW=(()=>{let t=class t extends $o{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}};t.\u0275fac=function(r){return new(r||t)(R(Ee))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),sW=(()=>{let t=class t extends $o{constructor(e){super(new ti(null,null),e)}add(e){let{start:r,end:o}=this.selection;r==null?r=e:o==null?o=e:(r=e,o=null),super.updateSelection(new ti(r,o),this)}isValid(){let{start:e,end:r}=this.selection;return e==null&&r==null?!0:e!=null&&r!=null?this._isValidDateInstance(e)&&this._isValidDateInstance(r)&&this._adapter.compareDate(e,r)<=0:(e==null||this._isValidDateInstance(e))&&(r==null||this._isValidDateInstance(r))}isComplete(){return this.selection.start!=null&&this.selection.end!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}};t.\u0275fac=function(r){return new(r||t)(R(Ee))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function aW(n,t){return n||new oW(t)}var lW={provide:$o,deps:[[new os,new na,$o],Ee],useFactory:aW};function cW(n,t){return n||new sW(t)}var dW={provide:$o,deps:[[new os,new na,$o],Ee],useFactory:cW},If=new nt("MAT_DATE_RANGE_SELECTION_STRATEGY"),hW=(()=>{let t=class t{constructor(e){this._dateAdapter=e}selectionFinished(e,r){let{start:o,end:s}=r;return o==null?o=e:s==null&&e&&this._dateAdapter.compareDate(e,o)>=0?s=e:(o=e,s=null),new ti(o,s)}createPreview(e,r){let o=null,s=null;return r.start&&!r.end&&e&&(o=r.start,s=e),new ti(o,s)}createDrag(e,r,o){let s=r.start,a=r.end;if(!s||!a)return null;let d=this._dateAdapter,h=d.compareDate(s,a)!==0,m=d.getYear(o)-d.getYear(e),f=d.getMonth(o)-d.getMonth(e),g=d.getDate(o)-d.getDate(e);return h&&d.sameDate(e,r.start)?(s=o,d.compareDate(o,a)>0&&(a=d.addCalendarYears(a,m),a=d.addCalendarMonths(a,f),a=d.addCalendarDays(a,g))):h&&d.sameDate(e,r.end)?(a=o,d.compareDate(o,s)<0&&(s=d.addCalendarYears(s,m),s=d.addCalendarMonths(s,f),s=d.addCalendarDays(s,g))):(s=d.addCalendarYears(s,m),s=d.addCalendarMonths(s,f),s=d.addCalendarDays(s,g),a=d.addCalendarYears(a,m),a=d.addCalendarMonths(a,f),a=d.addCalendarDays(a,g)),new ti(s,a)}};t.\u0275fac=function(r){return new(r||t)(R(Ee))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function uW(n,t){return n||new hW(t)}var mW={provide:If,deps:[[new os,new na,If],Ee],useFactory:uW},sy=7,iI=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof ti?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,r,o,s,a){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=o,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Re.EMPTY,this.activeDrag=null,this.selectedChange=new ct,this._userSelection=new ct,this.dragStarted=new ct,this.dragEnded=new ct,this.activeDateChange=new ct,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yr(null)).subscribe(()=>this._init())}ngOnChanges(e){let r=e.comparisonStart||e.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let r=e.value,o=this._getDateFromDayOfMonth(r),s,a;this._selected instanceof ti?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==r||a!==r)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let r=e.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!io(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(sy+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%sy,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:r}){if(this._rangeStrategy){let o=r?r.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let r=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:r??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,d)=>({long:a,narrow:r[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<e;o++,s++){s==sy&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),d=this._shouldEnableDate(a),h=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),m=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Pd(o+1,r[o],h,d,m,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,r){return!!(e&&r&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(r)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r))}_getCellCompareValue(e){if(e){let r=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(r,o,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof ti?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}};t.\u0275fac=function(r){return new(r||t)(C(Oe),C(Fr,8),C(Ee,8),C(pn,8),C(If,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-month-view"]],viewQuery:function(r,o){if(r&1&&le(pl,5),r&2){let s;kt(s=Ct())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Ne,bt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(r,o){r&1&&(L(0,"table",0)(1,"thead",1)(2,"tr"),In(3,$6,5,2,"th",2,Vh),P(),L(5,"tr",3),Tt(6,"th",4),P()(),L(7,"tbody",5),mt("selectedValueChange",function(a){return o._dateSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("previewChange",function(a){return o._previewChanged(a)})("dragStarted",function(a){return o.dragStarted.emit(a)})("dragEnded",function(a){return o._dragEnded(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),P()()),r&2&&(j(3),Tn(o._weekdays),j(4),Bt("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[pl],encapsulation:2,changeDetection:0});let n=t;return n})(),_n=24,ay=4,nI=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),lI(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof ti?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,r,o){this._changeDetectorRef=e,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Re.EMPTY,this.selectedChange=new ct,this.yearSelected=new ct,this.activeDateChange=new ct,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let r=this._dateAdapter.getYear(this._activeDate)-Od(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<_n;o++)s.push(r+o),s.length==ay&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let r=e.value,o=this._dateAdapter.createDate(r,0,1),s=this._getDateFromYear(r);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(e){let r=e.value,o=this._activeDate;this.activeDate=this._getDateFromYear(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ay);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ay);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Od(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,_n-Od(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-_n*10:-_n);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?_n*10:_n);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Od(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,r,1));return this._dateAdapter.createDate(e,r,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){let r=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(r),s=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new Pd(e,o,o,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(e,0,1);for(let o=r;this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ti){let r=e.start||e.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}};t.\u0275fac=function(r){return new(r||t)(C(Oe),C(Ee,8),C(pn,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(r,o){if(r&1&&le(pl,5),r&2){let s;kt(s=Ct())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[bt],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(L(0,"table",0)(1,"thead",1)(2,"tr"),Tt(3,"th",2),P()(),L(4,"tbody",3),mt("selectedValueChange",function(a){return o._yearSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),P()()),r&2&&(j(4),Bt("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[pl],encapsulation:2,changeDetection:0});let n=t;return n})();function lI(n,t,i,e,r){let o=n.getYear(t),s=n.getYear(i),a=cI(n,e,r);return Math.floor((o-a)/_n)===Math.floor((s-a)/_n)}function Od(n,t,i,e){let r=n.getYear(t);return fW(r-cI(n,i,e),_n)}function cI(n,t,i){let e=0;return i?e=n.getYear(i)-_n+1:t&&(e=n.getYear(t)),e}function fW(n,t){return(n%t+t)%t}var rI=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof ti?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,r,o,s){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Re.EMPTY,this.selectedChange=new ct,this.monthSelected=new ct,this.activeDateChange=new ct,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Yr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let r=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(o);let s=this._getDateFromMonth(r);this.selectedChange.emit(s)}_updateActiveDate(e){let r=e.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,r){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new Pd(e,r.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let r=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(r,e)||this._isYearAndMonthBeforeMinDate(r,e))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(r,e,1);for(let s=o;this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,r){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&r>s}return!1}_isYearAndMonthBeforeMinDate(e,r){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&r<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof ti?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}};t.\u0275fac=function(r){return new(r||t)(C(Oe),C(Fr,8),C(Ee,8),C(pn,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-year-view"]],viewQuery:function(r,o){if(r&1&&le(pl,5),r&2){let s;kt(s=Ct())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[bt],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(L(0,"table",0)(1,"thead",1)(2,"tr"),Tt(3,"th",2),P()(),L(4,"tbody",3),mt("selectedValueChange",function(a){return o._monthSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),P()()),r&2&&(j(4),Bt("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[pl],encapsulation:2,changeDetection:0});let n=t;return n})(),pW=1,dI=(()=>{let t=class t{constructor(e,r,o,s,a){this._intl=e,this.calendar=r,this._dateAdapter=o,this._dateFormats=s,this._id=`mat-calendar-header-${pW++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-_n)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:_n)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,r){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(r):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r):lI(this._dateAdapter,e,r,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let r=this._dateAdapter.getYear(this.calendar.activeDate)-Od(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=r+_n-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[s,a]}};t.\u0275fac=function(r){return new(r||t)(C(Nd),C(Ji(()=>ly)),C(Ee,8),C(Fr,8),C(Oe))},t.\u0275cmp=gt({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[bt],ngContentSelectors:Y6,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(r,o){r&1&&(je(),L(0,"div",0)(1,"div",1)(2,"label",2),lt(3),P(),L(4,"button",3),mt("click",function(){return o.currentPeriodClicked()}),L(5,"span",4),lt(6),P(),Fh(),L(7,"svg",5),Tt(8,"polygon",6),P()(),fg(),Tt(9,"div",7),Ft(10),L(11,"button",8),mt("click",function(){return o.previousClicked()}),P(),L(12,"button",9),mt("click",function(){return o.nextClicked()}),P()()()),r&2&&(j(2),Bt("id",o._periodButtonLabelId),j(),ci(o.periodButtonDescription),j(),qt("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),j(2),ci(o.periodButtonText),j(),Ot("mat-calendar-invert",o.calendar.currentView!=="month"),j(4),Bt("disabled",!o.previousEnabled()),qt("aria-label",o.prevButtonLabel),j(),Bt("disabled",!o.nextEnabled()),qt("aria-label",o.nextButtonLabel))},dependencies:[gn,Nv],encapsulation:2,changeDetection:0});let n=t;return n})(),ly=(()=>{let t=class t{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof ti?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let r=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}constructor(e,r,o,s){this._dateAdapter=r,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new ct,this.yearSelected=new ct,this.monthSelected=new ct,this.viewChanged=new ct(!0),this._userSelection=new ct,this._userDragDrop=new ct,this._activeDrag=null,this.stateChanges=new ht,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ar(this.headerComponent||dI),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let r=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=r||o||e.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let r=e.value;(this.selected instanceof ti||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,r){this.activeDate=e,this.currentView=r}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};t.\u0275fac=function(r){return new(r||t)(C(Nd),C(Ee,8),C(Fr,8),C(Oe))},t.\u0275cmp=gt({type:t,selectors:[["mat-calendar"]],viewQuery:function(r,o){if(r&1&&(le(iI,5),le(rI,5),le(nI,5)),r&2){let s;kt(s=Ct())&&(o.monthView=s.first),kt(s=Ct())&&(o.yearView=s.first),kt(s=Ct())&&(o.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Qt([lW]),Ne,bt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(r,o){if(r&1&&(ee(0,q6,0,0,"ng-template",0),L(1,"div",1),ee(2,G6,1,11)(3,K6,1,6)(4,X6,1,6),P()),r&2){let s;Bt("cdkPortalOutlet",o._calendarHeaderPortal),j(2),ae(2,(s=o.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ll,Mv,iI,rI,nI],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=t;return n})(),oI={transformPanel:us("transformPanel",[pr("void => enter-dropdown",fr("120ms cubic-bezier(0, 0, 0.2, 1)",vg([Ei({opacity:0,transform:"scale(1, 0.8)"}),Ei({opacity:1,transform:"scale(1, 1)"})]))),pr("void => enter-dialog",fr("150ms cubic-bezier(0, 0, 0.2, 1)",vg([Ei({opacity:0,transform:"scale(0.7)"}),Ei({transform:"none",opacity:1})]))),pr("* => void",fr("100ms linear",Ei({opacity:0})))]),fadeInCalendar:us("fadeInCalendar",[vo("void",Ei({opacity:0})),vo("enter",Ei({opacity:1})),pr("void => *",fr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},gW=0,hI=new nt("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=Y(Oi);return()=>n.scrollStrategies.reposition()}});function bW(n){return()=>n.scrollStrategies.reposition()}var _W={provide:hI,deps:[Oi],useFactory:bW},uI=(()=>{let t=class t{constructor(e,r,o,s,a,d){this._elementRef=e,this._changeDetectorRef=r,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Re,this._animationDone=new ht,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let r=this._model.selection,o=e.value,s=r instanceof ti;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(o,r,e.event);this._model.updateSelection(a,this)}else o&&(s||!this._dateAdapter.sameDate(o,r))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,r){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,r&&this._changeDetectorRef.detectChanges()}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Oe),C($o),C(Ee),C(If,8),C(Nd))},t.\u0275cmp=gt({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(r,o){if(r&1&&le(ly,5),r&2){let s;kt(s=Ct())&&(o._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(r,o){r&1&&zh("@transformPanel.start",function(a){return o._handleAnimationEvent(a)})("@transformPanel.done",function(a){return o._handleAnimationEvent(a)}),r&2&&(Bh("@transformPanel",o._animationState),_o(o.color?"mat-"+o.color:""),Ot("mat-datepicker-content-touch",o.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[bt],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(r,o){if(r&1&&(L(0,"div",0)(1,"mat-calendar",1),mt("yearSelected",function(a){return o.datepicker._selectYear(a)})("monthSelected",function(a){return o.datepicker._selectMonth(a)})("viewChanged",function(a){return o.datepicker._viewChanged(a)})("_userSelection",function(a){return o._handleUserSelection(a)})("_userDragDrop",function(a){return o._handleUserDragDrop(a)}),P(),ee(2,Z6,0,0,"ng-template",2),L(3,"button",3),mt("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),lt(4),P()()),r&2){let s;Ot("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),qt("aria-modal",!0)("aria-labelledby",(s=o._dialogLabelId)!==null&&s!==void 0?s:void 0),j(),_o(o.datepicker.panelClass),Bt("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),j(),Bt("cdkPortalOutlet",o._actionsPortal),j(),Ot("cdk-visually-hidden",!o._closeButtonFocused),Bt("color",o.color||"primary"),j(),ci(o._closeButtonText)}},dependencies:[tM,ly,ll,gn],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[oI.transformPanel,oI.fadeInCalendar]},changeDetection:0});let n=t;return n})(),sI=(()=>{let t=class t{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=zE(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,r,o,s,a,d,h){this._overlay=e,this._ngZone=r,this._viewContainerRef=o,this._dateAdapter=a,this._dir=d,this._model=h,this._inputStateChanges=Re.EMPTY,this._document=Y(_t),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new ct,this.monthSelected=new ct,this.viewChanged=new ct(!0),this.openedStream=new ct,this.closedStream=new ct,this._opened=!1,this.id=`mat-datepicker-${gW++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ht,this._dateAdapter,this._scrollStrategy=s}ngOnChanges(e){let r=e.xPosition||e.yPosition;if(r&&!r.firstChange&&this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;o instanceof Md&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=of(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",r=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(We(1)).subscribe(()=>{let a=this._document.activeElement;e&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(r):r()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,r=new ar(uI,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Vs({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{let a=s.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&s.preventDefault()}),this._componentRef=o.attach(r),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(We(1)).subscribe(()=>o.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let r=this.xPosition==="end"?"end":"start",o=r==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",a=s==="top"?"bottom":"top";return e.withPositions([{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a}])}_getCloseStream(e){let r=["ctrlKey","shiftKey","metaKey"];return qn(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Xe(o=>o.keyCode===27&&!io(o)||this.datepickerInput&&io(o,"altKey")&&o.keyCode===38&&r.every(s=>!io(o,s)))))}};t.\u0275fac=function(r){return new(r||t)(C(Oi),C(ot),C(mr),C(hI),C(Ee,8),C(pn,8),C($o))},t.\u0275dir=tt({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[it.HasDecoratorInputTransform,"touchUi","touchUi",xe],disabled:[it.HasDecoratorInputTransform,"disabled","disabled",xe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[it.HasDecoratorInputTransform,"restoreFocus","restoreFocus",xe],dateClass:"dateClass",panelClass:"panelClass",opened:[it.HasDecoratorInputTransform,"opened","opened",xe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ri,Ne]});let n=t;return n})();var ul=class{constructor(t,i){this.target=t,this.targetElement=i,this.value=this.target.value}},vW=(()=>{let t=class t{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let r=e,o=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){let o=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new ul(this,this._elementRef.nativeElement)),this.dateChange.emit(new ul(this,this._elementRef.nativeElement))}})}constructor(e,r,o){this._elementRef=e,this._dateAdapter=r,this._dateFormats=o,this.dateChange=new ct,this.dateInput=new ct,this.stateChanges=new ht,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Re.EMPTY,this._localeSubscription=Re.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!a||this._dateAdapter.compareDate(d,a)<=0?null:{matDatepickerMin:{min:d,actual:a}}},this._maxValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!a||this._dateAdapter.compareDate(d,a)>=0?null:{matDatepickerMax:{max:d,actual:a}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){mI(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let r=["ctrlKey","shiftKey","metaKey"];io(e,"altKey")&&e.keyCode===40&&r.every(s=>!io(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let r=this._lastValueValid,o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new ul(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ul(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let r=this._getDateFilter();return!r||r(e)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Ee,8),C(Fr,8))},t.\u0275dir=tt({type:t,inputs:{value:"value",disabled:[it.HasDecoratorInputTransform,"disabled","disabled",xe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[ri,Ne]});let n=t;return n})();function mI(n,t){let i=Object.keys(n);for(let e of i){let{previousValue:r,currentValue:o}=n[e];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var yW=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let n=t;return n})(),uy=(()=>{let t=class t{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,r,o){this._intl=e,this._changeDetectorRef=r,this._stateChanges=Re.EMPTY;let s=Number(o);this.tabIndex=s||s===0?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:at(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:at(),o=this.datepicker?qn(this.datepicker.openedStream,this.datepicker.closedStream):at();this._stateChanges.unsubscribe(),this._stateChanges=qn(this._intl.changes,e,r,o).subscribe(()=>this._changeDetectorRef.markForCheck())}};t.\u0275fac=function(r){return new(r||t)(C(Nd),C(Oe),as("tabindex"))},t.\u0275cmp=gt({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,o,s){if(r&1&&Qe(s,yW,5),r&2){let a;kt(a=Ct())&&(o._customIcon=a.first)}},viewQuery:function(r,o){if(r&1&&le(Q6,5),r&2){let s;kt(s=Ct())&&(o._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,o){r&1&&mt("click",function(a){return o._open(a)}),r&2&&(qt("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),Ot("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[it.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[it.None,"aria-label","ariaLabel"],disabled:[it.HasDecoratorInputTransform,"disabled","disabled",xe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[ri,Ne,bt],ngContentSelectors:tW,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,o){r&1&&(je(J6),L(0,"button",1,0),ee(2,eW,2,0,":svg:svg",2),Ft(3),P()),r&2&&(Bt("disabled",o.disabled)("disableRipple",o.disableRipple),qt("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex),j(2),ae(2,o._customIcon?-1:2))},dependencies:[Nv],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let n=t;return n})();function xW(n){return cy(n,!0)}function aI(n){return n.nodeType===Node.ELEMENT_NODE}function wW(n){return n.nodeName==="INPUT"}function kW(n){return n.nodeName==="TEXTAREA"}function cy(n,t){if(aI(n)&&t){let e=(n.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((r,o)=>{let s=document.getElementById(o);return s&&r.push(s),r},[]);if(e.length)return e.map(r=>cy(r,!1)).join(" ")}if(aI(n)){let i=n.getAttribute("aria-label")?.trim();if(i)return i}if(wW(n)||kW(n)){if(n.labels?.length)return Array.from(n.labels).map(r=>cy(r,!1)).join(" ");let i=n.getAttribute("placeholder")?.trim();if(i)return i;let e=n.getAttribute("title")?.trim();if(e)return e}return(n.textContent||"").replace(/\s+/g," ").trim()}var Ff=new nt("MAT_DATE_RANGE_INPUT_PARENT"),fI=(()=>{let t=class t extends vW{get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,s,a,d,h,m){super(r,h,m),this._rangeInput=e,this._elementRef=r,this._defaultErrorStateMatcher=o,this._injector=s,this._parentForm=a,this._parentFormGroup=d,this._dir=Y(pn,{optional:!0}),this._errorStateTracker=new rl(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){let e=this._injector.get(sn,null,{optional:!0,self:!0});e&&(this.ngControl=e,this._errorStateTracker.ngControl=e)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return this._elementRef.nativeElement.value.length===0}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){let e=this._elementRef.nativeElement,r=e.value;return r.length>0?r:e.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return xW(this._elementRef.nativeElement)}};t.\u0275fac=function(r){return new(r||t)(C(Ff),C(dt),C(ol),C(_i),C(bs,8),C(Gr,8),C(Ee,8),C(Fr,8))},t.\u0275dir=tt({type:t,inputs:{errorStateMatcher:"errorStateMatcher"},standalone:!0,features:[se]});let n=t;return n})(),my=(()=>{let t=class t extends fI{constructor(e,r,o,s,a,d,h,m){super(e,r,o,s,a,d,h,m),this._startValidator=f=>{let g=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),_=this._model?this._model.selection.end:null;return!g||!_||this._dateAdapter.compareDate(g,_)<=0?null:{matStartDateInvalid:{end:_,actual:g}}},this._validator=Do.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){return super._shouldHandleChangeEvent(e)?e.oldValue?.start?!e.selection.start||!!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!!e.selection.start:!1}_assignValueToModel(e){if(this._model){let r=new ti(e,this._model.selection.end);this._model.updateSelection(r,this)}}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}_onKeydown(e){let r=this._rangeInput._endInput,o=this._elementRef.nativeElement,s=this._dir?.value!=="rtl";(e.keyCode===39&&s||e.keyCode===37&&!s)&&o.selectionStart===o.value.length&&o.selectionEnd===o.value.length?(e.preventDefault(),r._elementRef.nativeElement.setSelectionRange(0,0),r.focus()):super._onKeydown(e)}};t.\u0275fac=function(r){return new(r||t)(C(Ff),C(dt),C(ol),C(_i),C(bs,8),C(Gr,8),C(Ee,8),C(Fr,8))},t.\u0275dir=tt({type:t,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(r,o){r&1&&mt("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("keydown",function(a){return o._onKeydown(a)})("blur",function(){return o._onBlur()}),r&2&&(qr("disabled",o.disabled),qt("aria-haspopup",o._rangeInput.rangePicker?"dialog":null)("aria-owns",(o._rangeInput.rangePicker==null?null:o._rangeInput.rangePicker.opened)&&o._rangeInput.rangePicker.id||null)("min",o._getMinDate()?o._dateAdapter.toIso8601(o._getMinDate()):null)("max",o._getMaxDate()?o._dateAdapter.toIso8601(o._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Qt([{provide:vr,useExisting:t,multi:!0},{provide:So,useExisting:t,multi:!0}]),se]});let n=t;return n})(),fy=(()=>{let t=class t extends fI{constructor(e,r,o,s,a,d,h,m){super(e,r,o,s,a,d,h,m),this._endValidator=f=>{let g=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),_=this._model?this._model.selection.start:null;return!g||!_||this._dateAdapter.compareDate(g,_)>=0?null:{matEndDateInvalid:{start:_,actual:g}}},this._validator=Do.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){return super._shouldHandleChangeEvent(e)?e.oldValue?.end?!e.selection.end||!!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!!e.selection.end:!1}_assignValueToModel(e){if(this._model){let r=new ti(this._model.selection.start,e);this._model.updateSelection(r,this)}}_moveCaretToEndOfStartInput(){let e=this._rangeInput._startInput._elementRef.nativeElement,r=e.value;r.length>0&&e.setSelectionRange(r.length,r.length),e.focus()}_onKeydown(e){let r=this._elementRef.nativeElement,o=this._dir?.value!=="rtl";e.keyCode===8&&!r.value?this._moveCaretToEndOfStartInput():(e.keyCode===37&&o||e.keyCode===39&&!o)&&r.selectionStart===0&&r.selectionEnd===0?(e.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(e)}};t.\u0275fac=function(r){return new(r||t)(C(Ff),C(dt),C(ol),C(_i),C(bs,8),C(Gr,8),C(Ee,8),C(Fr,8))},t.\u0275dir=tt({type:t,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(r,o){r&1&&mt("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("keydown",function(a){return o._onKeydown(a)})("blur",function(){return o._onBlur()}),r&2&&(qr("disabled",o.disabled),qt("aria-haspopup",o._rangeInput.rangePicker?"dialog":null)("aria-owns",(o._rangeInput.rangePicker==null?null:o._rangeInput.rangePicker.opened)&&o._rangeInput.rangePicker.id||null)("min",o._getMinDate()?o._dateAdapter.toIso8601(o._getMinDate()):null)("max",o._getMaxDate()?o._dateAdapter.toIso8601(o._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Qt([{provide:vr,useExisting:t,multi:!0},{provide:So,useExisting:t,multi:!0}]),se]});let n=t;return n})(),CW=0,pI=(()=>{let t=class t{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){let e=this._startInput?._getPlaceholder()||"",r=this._endInput?._getPlaceholder()||"";return e||r?`${e} ${this.separator} ${r}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._closedSubscription=e.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(e){this._required=e}get dateFilter(){return this._dateFilter}set dateFilter(e){let r=this._startInput,o=this._endInput,s=r&&r._matchesFilter(r.value),a=o&&o._matchesFilter(r.value);this._dateFilter=e,r&&r._matchesFilter(r.value)!==s&&r._validatorOnChange(),o&&o._matchesFilter(o.value)!==a&&o._validatorOnChange()}get min(){return this._min}set min(e){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._revalidate())}get max(){return this._max}set max(e){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){e!==this._groupDisabled&&(this._groupDisabled=e,this.stateChanges.next(void 0))}get errorState(){return this._startInput&&this._endInput?this._startInput.errorState||this._endInput.errorState:!1}get empty(){let e=this._startInput?this._startInput.isEmpty():!1,r=this._endInput?this._endInput.isEmpty():!1;return e&&r}constructor(e,r,o,s,a){this._changeDetectorRef=e,this._elementRef=r,this._dateAdapter=s,this._formField=a,this._closedSubscription=Re.EMPTY,this.id=`mat-date-range-input-${CW++}`,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new ht,this.disableAutomaticLabeling=!0,a?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&r.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=o}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(!this._model||!this._model.selection.start?this._startInput.focus():this._endInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),qn(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){mI(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(e){let r=e==="start"?this._startInput:this._endInput;return r?r.getMirrorValue():""}_shouldHidePlaceholders(){return this._startInput?!this._startInput.isEmpty():!1}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){let e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(e){this.focused=e!==null,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}_isTargetRequired(e){return e?.ngControl?.control?.hasValidator(Do.required)}};t.\u0275fac=function(r){return new(r||t)(C(Oe),C(dt),C(Zn,10),C(Ee,8),C(Dd,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-date-range-input"]],contentQueries:function(r,o,s){if(r&1&&(Qe(s,my,5),Qe(s,fy,5)),r&2){let a;kt(a=Ct())&&(o._startInput=a.first),kt(a=Ct())&&(o._endInput=a.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(r,o){r&2&&(qt("id",o.id)("aria-labelledby",o._getAriaLabelledby())("aria-describedby",o._ariaDescribedBy)("data-mat-calendar",o.rangePicker?o.rangePicker.id:null),Ot("mat-date-range-input-hide-placeholders",o._shouldHidePlaceholders())("mat-date-range-input-required",o.required))},inputs:{rangePicker:"rangePicker",required:[it.HasDecoratorInputTransform,"required","required",xe],dateFilter:"dateFilter",min:"min",max:"max",disabled:[it.HasDecoratorInputTransform,"disabled","disabled",xe],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],standalone:!0,features:[Qt([{provide:Cd,useExisting:t},{provide:Ff,useExisting:t}]),ri,Ne,bt],ngContentSelectors:nW,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(r,o){r&1&&(je(iW),L(0,"div",0),mt("cdkFocusChange",function(a){return o._updateFocus(a)}),L(1,"div",1),Ft(2),L(3,"span",2),lt(4),P()(),L(5,"span",3),lt(6),P(),L(7,"div",4),Ft(8,1),L(9,"span",2),lt(10),P()()()),r&2&&(j(4),ci(o._getInputMirrorValue("start")),j(),Ot("mat-date-range-input-separator-hidden",o._shouldHideSeparator()),j(),ci(o.separator),j(4),ci(o._getInputMirrorValue("end")))},dependencies:[Mv],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color)}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0});let n=t;return n})(),gI=(()=>{let t=class t extends sI{_forwardContentValues(e){super._forwardContentValues(e);let r=this.datepickerInput;r&&(e.comparisonStart=r.comparisonStart,e.comparisonEnd=r.comparisonEnd,e.startDateAccessibleName=r._getStartDateAccessibleName(),e.endDateAccessibleName=r._getEndDateAccessibleName())}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=tn(t)))(o||t)}})(),t.\u0275cmp=gt({type:t,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],standalone:!0,features:[Qt([dW,mW,{provide:sI,useExisting:t}]),se,bt],decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let n=t;return n})();var bI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({providers:[Nd,_W],imports:[nn,bn,Id,hf,Ad,fe,uI,uy,dI,cl]});let n=t;return n})();var SW=["*"],Pf;function AW(){if(Pf===void 0&&(Pf=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Pf=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Pf}function Vd(n){return AW()?.createHTML(n)||n}function _I(n){return Error(`Unable to find icon with the name "${n}"`)}function EW(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function vI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function yI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var no=class{constructor(t,i,e){this.url=t,this.svgText=i,this.options=e}},MW=(()=>{let t=class t{constructor(e,r,o,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,s){return this._addSvgIconConfig(e,r,new no(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,s){let a=this._sanitizer.sanitize(en.HTML,o);if(!a)throw yI(o);let d=Vd(a);return this._addSvgIconConfig(e,r,new no("",d,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new no(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){let s=this._sanitizer.sanitize(en.HTML,r);if(!s)throw yI(r);let a=Vd(s);return this._addSvgIconSetConfig(e,new no("",a,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(en.RESOURCE_URL,e);if(!r)throw vI(e);let o=this._cachedIconsByUrl.get(r);return o?at(Lf(o)):this._loadSvgIconFromConfig(new no(e,null)).pipe(Le(s=>this._cachedIconsByUrl.set(r,s)),St(s=>Lf(s)))}getNamedSvgIcon(e,r=""){let o=xI(r,e),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(e,a):es(_I(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?at(Lf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(St(r=>Lf(r)))}_getSvgFromIconSetConfigs(e,r){let o=this._extractIconWithNameFromAnySet(e,r);if(o)return at(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(go(d=>{let m=`Loading icon set URL: ${this._sanitizer.sanitize(en.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),at(null)})));return Rh(s).pipe(St(()=>{let a=this._extractIconWithNameFromAnySet(e,r);if(!a)throw _I(e);return a}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(a,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Le(r=>e.svgText=r),St(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?at(null):this._fetchIcon(e).pipe(Le(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){let s=e.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let d=this._svgElementFromString(Vd("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,o)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let r=this._svgElementFromString(Vd("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){let{name:a,value:d}=o[s];a!=="id"&&r.setAttribute(a,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:o}=e,s=o?.withCredentials??!1;if(!this._httpClient)throw EW();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(en.RESOURCE_URL,r);if(!a)throw vI(r);let d=this._inProgressUrlFetches.get(a);if(d)return d;let h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(St(m=>Vd(m)),rs(()=>this._inProgressUrlFetches.delete(a)),nk());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(xI(e,r),o),this}_addSvgIconSetConfig(e,r){let o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,e);if(s)return IW(s)?new no(s.url,null,s.options):new no(s,null)}}};t.\u0275fac=function(r){return new(r||t)(R(Pk,8),R(Fg),R(_t,8),R(ls))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Lf(n){return n.cloneNode(!0)}function xI(n,t){return n+":"+t}function IW(n){return!!(n.url&&n.options)}var TW=new nt("MAT_ICON_DEFAULT_OPTIONS"),RW=new nt("mat-icon-location",{providedIn:"root",factory:OW});function OW(){let n=Y(_t),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var wI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],FW=wI.map(n=>`[${n}]`).join(", "),PW=/^url\(['"]?#(.*?)['"]?\)$/,kI=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,o,s,a,d){this._elementRef=e,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Re.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=e.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(FW),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)wI.forEach(a=>{let d=r[s],h=d.getAttribute(a),m=h?h.match(PW):null;if(m){let f=o.get(d);f||(f=[],o.set(d,f)),f.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(We(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(MW),as("aria-hidden"),C(RW),C(ls),C(TW,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(qt("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),_o(o.color?"mat-"+o.color:""),Ot("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[it.HasDecoratorInputTransform,"inline","inline",xe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ri,bt],ngContentSelectors:SW,decls:1,vars:0,template:function(r,o){r&1&&(je(),Ft(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=t;return n})(),CI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,fe]});let n=t;return n})();var NW=["*"],VW=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],BW=[`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,`[mat-card-image], [matCardImage],
                    [mat-card-sm-image], [matCardImageSmall],
                    [mat-card-md-image], [matCardImageMedium],
                    [mat-card-lg-image], [matCardImageLarge],
                    [mat-card-xl-image], [matCardImageXLarge]`,"*"],zW=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],jW=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],HW=new nt("MAT_CARD_CONFIG"),DI=(()=>{let t=class t{constructor(e){this.appearance=e?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(C(HW,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Ot("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[bt],ngContentSelectors:NW,decls:1,vars:0,template:function(r,o){r&1&&(je(),Ft(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let n=t;return n})(),SI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let n=t;return n})(),AI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[bt],ngContentSelectors:BW,decls:4,vars:0,template:function(r,o){r&1&&(je(VW),L(0,"div"),Ft(1),P(),Ft(2,1),Ft(3,2))},encapsulation:2,changeDetection:0});let n=t;return n})(),EI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let n=t;return n})();var MI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[bt],ngContentSelectors:jW,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(je(zW),Ft(0),L(1,"div",0),Ft(2,1),P(),Ft(3,2))},encapsulation:2,changeDetection:0});let n=t;return n})();var II=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({imports:[fe,nn,fe]});let n=t;return n})();var WW=["tooltip"],OI=20;var FI=new nt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=Y(Oi);return()=>n.scrollStrategies.reposition({scrollThrottle:OI})}});function $W(n){return()=>n.scrollStrategies.reposition({scrollThrottle:OI})}var YW={provide:FI,deps:[Oi],useFactory:$W};function qW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var GW=new nt("mat-tooltip-default-options",{providedIn:"root",factory:qW});var TI="tooltip-panel",RI=$i({passive:!0}),KW=8,XW=8,ZW=24,QW=200,PI=(()=>{let t=class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ki(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ki(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Or(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Or(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,o,s,a,d,h,m,f,g,_,y){this._overlay=e,this._elementRef=r,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=d,this._ariaDescriber=h,this._focusMonitor=m,this._dir=g,this._defaultOptions=_,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=JW,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ht,this._scrollStrategy=f,this._document=y,_&&(this._showDelay=_.showDelay,this._hideDelay=_.hideDelay,_.position&&(this.position=_.position),_.positionAtOrigin&&(this.positionAtOrigin=_.positionAtOrigin),_.touchGestures&&(this.touchGestures=_.touchGestures)),g.change.pipe(ye(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=KW}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ye(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,o])=>{e.removeEventListener(r,o,RI)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(r);this._detach(),this._portal=this._portal||new ar(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(ye(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof dt)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return o.positionChanges.pipe(ye(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${TI}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ye(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ye(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ye(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!io(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let r=e.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset(H(H({},o.main),s.main)),this._addOffset(H(H({},o.fallback),s.fallback))])}_addOffset(e){let r=XW,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-r:e.originY==="bottom"?e.offsetY=r:e.originX==="start"?e.offsetX=o?-r:r:e.originX==="end"&&(e.offsetX=o?r:-r),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"||r=="below"?o={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&e||r=="right"&&!e?o={originX:"start",originY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"?o={overlayX:"center",overlayY:"bottom"}:r=="below"?o={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&e||r=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(We(1),ye(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){let{overlayY:r,originX:o,originY:s}=e,a;if(r==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=r==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let d=this._overlayRef;if(d){let h=`${this._cssClassPrefix}-${TI}-`;d.removePanelClass(h+this._currentPosition),d.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let r;e.x!==void 0&&e.y!==void 0&&(r=e),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let r=e.targetTouches?.[0],o=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{let o=r.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,o])=>{this._elementRef.nativeElement.addEventListener(r,o,RI)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;r!==o&&!o.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let r=this._elementRef.nativeElement,o=r.style;(e==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!r.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}};t.\u0275fac=function(r){return new(r||t)(C(Oi),C(dt),C(Ed),C(mr),C(ot),C(jt),C(QE),C(yd),C(FI),C(pn),C(GW,8),C(_t))},t.\u0275dir=tt({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[it.None,"matTooltipPosition","position"],positionAtOrigin:[it.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[it.None,"matTooltipDisabled","disabled"],showDelay:[it.None,"matTooltipShowDelay","showDelay"],hideDelay:[it.None,"matTooltipHideDelay","hideDelay"],touchGestures:[it.None,"matTooltipTouchGestures","touchGestures"],message:[it.None,"matTooltip","message"],tooltipClass:[it.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let n=t;return n})(),JW=(()=>{let t=class t{constructor(e,r,o){this._changeDetectorRef=e,this._elementRef=r,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ht,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>ZW&&e.width>=QW}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let r=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(e?s:o),r.classList.add(e?o:s),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(r);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}};t.\u0275fac=function(r){return new(r||t)(C(Oe),C(dt),C(li,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(r,o){if(r&1&&le(WW,7),r&2){let s;kt(s=Ct())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,o){r&1&&mt("mouseleave",function(a){return o._handleMouseLeave(a)}),r&2&&hs("zoom",o.isVisible()?1:null)},standalone:!0,features:[bt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,o){if(r&1){let s=Ze();L(0,"div",1,0),mt("animationend",function(d){return de(s),he(o._handleAnimationEnd(d))}),L(2,"div",2),lt(3),P()()}r&2&&(Ot("mdc-tooltip--multiline",o._isMultiline),Bt("ngClass",o.tooltipClass),j(3),ci(o.message))},dependencies:[ha],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let n=t;return n})();var LI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=yt({providers:[YW],imports:[hf,nn,Id,fe,fe,cl]});let n=t;return n})();function Gt(n){let t=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&t==="[object Date]"?new n.constructor(+n):typeof n=="number"||t==="[object Number]"||typeof n=="string"||t==="[object String]"?new Date(n):new Date(NaN)}function zs(n,t){return n instanceof Date?new n.constructor(t):new Date(t)}function NI(n,t){let i=Gt(n);return isNaN(t)?zs(n,NaN):(t&&i.setDate(i.getDate()+t),i)}function VI(n,t){let i=Gt(n);if(isNaN(t))return zs(n,NaN);if(!t)return i;let e=i.getDate(),r=zs(n,i.getTime());r.setMonth(i.getMonth()+t+1,0);let o=r.getDate();return e>=o?r:(i.setFullYear(r.getFullYear(),r.getMonth(),e),i)}function BI(n,t){let{years:i=0,months:e=0,weeks:r=0,days:o=0,hours:s=0,minutes:a=0,seconds:d=0}=t,h=Gt(n),m=e||i?VI(h,e+i*12):h,f=o||r?NI(m,o+r*7):m,g=a+s*60,y=(d+g*60)*1e3;return zs(n,f.getTime()+y)}var e$=Math.pow(10,8)*24*60*60*1e3,eQ=-e$;var zI=864e5;var i$=3600;var jI=i$*24,iQ=jI*7,n$=jI*365.2425,r$=n$/12,nQ=r$*3;function py(n){let t=Gt(n);return t.setHours(0,0,0,0),t}function gy(n){let t=Gt(n),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+n-+i}function HI(n,t){let i=py(n),e=py(t),r=+i-gy(i),o=+e-gy(e);return Math.round((r-o)/zI)}function js(n,t){let i=Gt(n),e=Gt(t),r=i.getTime()-e.getTime();return r<0?-1:r>0?1:r}function UI(n,t){let i=Gt(n),e=Gt(t),r=i.getFullYear()-e.getFullYear(),o=i.getMonth()-e.getMonth();return r*12+o}function WI(n,t){let i=Gt(n),e=Gt(t);return i.getFullYear()-e.getFullYear()}function by(n,t){let i=Gt(n),e=Gt(t),r=$I(i,e),o=Math.abs(HI(i,e));i.setDate(i.getDate()-r*o);let s=+($I(i,e)===-r),a=r*(o-s);return a===0?0:a}function $I(n,t){let i=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}function YI(n){let t=Gt(n);return t.setHours(23,59,59,999),t}function qI(n){let t=Gt(n),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function GI(n){let t=Gt(n);return+YI(t)==+qI(t)}function KI(n,t){let i=Gt(n),e=Gt(t),r=js(i,e),o=Math.abs(UI(i,e)),s;if(o<1)s=0;else{i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-r*o);let a=js(i,e)===-r;GI(Gt(n))&&o===1&&js(n,e)===1&&(a=!1),s=r*(o-Number(a))}return s===0?0:s}function XI(n,t){let i=Gt(n),e=Gt(t),r=js(i,e),o=Math.abs(WI(i,e));i.setFullYear(1584),e.setFullYear(1584);let s=js(i,e)===-r,a=r*(o-+s);return a===0?0:a}var _y=Ih(Zc());var ZI=(n,t)=>t.timeZone;function o$(n,t){n&1&&(L(0,"div",1)(1,"h3"),lt(2,"Loading, Please wait"),P()())}function s$(n,t){if(n&1){let i=Ze();L(0,"mat-list-item")(1,"div",17),lt(2),P(),L(3,"div",18),lt(4),P(),L(5,"span",19)(6,"mat-icon",20),mt("click",function(){let r=de(i).$implicit,o=wt(2);return he(o.pinZone(r))}),lt(7,"add"),P()()()}if(n&2){let i=t.$implicit;j(2),ql("",i.timeZone," - ",i.abbr,""),j(2),ci(i.time)}}function a$(n,t){if(n&1){let i=Ze();L(0,"mat-card",10)(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),lt(4),P(),L(5,"mat-icon",21),mt("click",function(){let r=de(i).$implicit,o=wt(2);return he(o.pinZone(r,!1))}),lt(6,"close"),P()()(),L(7,"mat-card-content")(8,"h1",22),lt(9),P()()()}if(n&2){let i=t.$implicit;j(4),ql(" ",i.timeZone," - ",i.abbr," "),j(5),Ai(" ",i.time," ")}}function l$(n,t){n&1&&(L(0,"mat-error"),lt(1,"Invalid start date"),P())}function c$(n,t){n&1&&(L(0,"mat-error"),lt(1,"Invalid end date"),P())}function d$(n,t){if(n&1&&(lt(0),Tt(1,"br")),n&2){let i=t.$implicit;Ai(" ",i," ")}}function h$(n,t){if(n&1){let i=Ze();L(0,"div",1)(1,"div",2)(2,"button",3),mt("click",function(){de(i);let r=wt();return he(r.gotoHome())}),lt(3,"Go Home"),P()(),L(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),lt(7,"Timezone"),P(),Tt(8,"input",6),P(),L(9,"mat-list",7),In(10,s$,8,3,"mat-list-item",null,ZI),P()(),L(12,"div",8)(13,"h2",9),lt(14,"Pinned Zones"),P(),In(15,a$,10,3,"mat-card",10,ZI),P(),L(17,"div",11)(18,"div",12)(19,"mat-form-field")(20,"mat-label"),lt(21,"Enter a date range"),P(),L(22,"mat-date-range-input",13),Tt(23,"input",14)(24,"input",15),P(),L(25,"mat-hint"),lt(26,"MM/DD/YYYY \u2013 MM/DD/YYYY"),P(),Tt(27,"mat-datepicker-toggle",16)(28,"mat-date-range-picker",null,0),ee(30,l$,2,0,"mat-error")(31,c$,2,0,"mat-error"),P(),L(32,"button",3),mt("click",function(){de(i);let r=wt();return he(r.calculateDateDiff())}),lt(33,"Difference"),P()(),In(34,d$,2,1,"br",null,aa),P()()}if(n&2){let i=la(29),e=wt();j(8),Bt("formControl",e.timezone),j(2),Tn(e.filteredTimes),j(5),Tn(e.pins),j(7),Bt("formGroup",e.range)("rangePicker",i),j(5),Bt("for",i),j(3),ae(30,e.range.controls.start.hasError("matStartDateInvalid")?30:-1),j(),ae(31,e.range.controls.end.hasError("matEndDateInvalid")?31:-1),j(3),Tn(e.differences)}}var vy=(()=>{let t=class t{constructor(e,r,o){this.log=e,this._snackbar=r,this.router=o,this.zones=KM(),this.times=[],this.isLoading=!0,this.time=new Date,this.filteredTimes=this.times,this.timezone=new Aa(""),this.pins=[],this.pinZones=[],this.differences=[],this.range=new ka({start:new Aa(null),end:new Aa(null)}),this.home={name:"Home",path:["apps"]},this.gotoHome=()=>{this.router.navigate(this.home.path)},this.getFilteredValues=s=>{let a=s.toLowerCase();return this.times.filter(d=>d.timeZone.toLowerCase().includes(a)||d.abbr?.toLowerCase()===s)}}ngOnInit(){let e=localStorage.getItem("pinZones")||"[]";this.pinZones=JSON.parse(e),setInterval(()=>{this.time=new Date,this.generateTimes(),this.isLoading=!1},1e3),this.timezone.valueChanges.pipe(ns(500),zl()).subscribe({next:r=>{r=r||"",this.filteredTimes=this.getFilteredValues(r)}})}pinZone(e,r=!0){if(!(this.pinZones.includes(e.timeZone)&&r)){if(r)this.pins.push(e);else{let{timeZone:s}=e;this.pins=this.pins.filter(a=>a.timeZone!==s)}this.pinZones=this.pins.map(s=>s.timeZone),localStorage.setItem("pinZones",JSON.stringify(this.pinZones))}}calculateDateDiff(){this.differences=[];let{start:e,end:r}=this.range.value;if(!_y.default.isDate(e)||!_y.default.isDate(r)){this.log.info("Invalid dates");return}let o=by(r,e),s=XI(r,e),a=KI(r,e)%12,d=BI(e,{years:s,months:a}),h=by(r,d);this.log.debug({days:o,diffdays:h,diffyears:s,diffmonths:a}),this.differences=[[{type:"Year(s)",value:s},{type:"Month(s)",value:a},{type:"Day(s)",value:h}],[{type:"Day(s)",value:o}]].map(m=>m.filter(f=>f.value>0).map(f=>`${f.value} ${f.type}`).join(", "))}generateTimes(){this.times=this.zones.map(({zone:r,abbr:o})=>({timeZone:r,abbr:o,time:Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"numeric",hour12:!1,weekday:"short",timeZone:r}).format(this.time)}));let e=this.times.reduce((r,o)=>ge(H({},r),{[o.timeZone]:o}),{});this.filteredTimes=this.getFilteredValues(this.timezone.value||""),this.pins=this.pinZones.map(r=>H({},e[r]))}};t.\u0275fac=function(r){return new(r||t)(C(Pr),C(hl),C(_r))},t.\u0275cmp=gt({type:t,selectors:[["app-time"]],standalone:!0,features:[Qt([uM()]),bt],decls:3,vars:1,consts:[["picker",""],[1,"split"],[1,"split","mb-5","mt-5"],["mat-raised-button","","color","primary",3,"click"],[1,"dl"],[1,"timezone-input"],["matInput","","type","text","name","timezone","placeholder","Enter Timezone","autofocus","",3,"formControl"],[1,"timezone-list"],[1,"dc"],[1,"w-100","text-center"],[1,"pinned-zone","text-center"],[1,"dr"],[1,"time-diff"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matIconSuffix","",3,"for"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta",""],[3,"click"],["matTooltip","Remove Zone",1,"btn",3,"click"],[1,"pinned-time"]],template:function(r,o){r&1&&(L(0,"div"),ee(1,o$,3,0,"div",1)(2,h$,36,6),P()),r&2&&(j(),ae(1,o.isLoading?1:2))},dependencies:[Ef,Sf,Af,Jv,Qv,ty,sr,vf,sl,_f,MM,TM,Uo,yf,yu,Ca,Da,W1,Ib,Gr,Tb,CI,kI,II,DI,EI,MI,SI,AI,bI,uy,pI,my,fy,gI,LI,PI,bn,gn],styles:[".split[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:96%}.split[_ngcontent-%COMP%]   .dl[_ngcontent-%COMP%]{width:300px;flex-direction:column;flex:0 0 300px}.split[_ngcontent-%COMP%]   .dc[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;justify-content:center;width:65%;height:fit-content}.split[_ngcontent-%COMP%]   .dr[_ngcontent-%COMP%]{width:15%;flex:0 0 300px}@media (max-width: 512px){.timezone-list[_ngcontent-%COMP%]{height:300px!important}.pinned-zone[_ngcontent-%COMP%]{padding:10px!important;height:200px!important}.mat-mdc-card-title[_ngcontent-%COMP%], .mat-mdc-card-subtitle[_ngcontent-%COMP%]{font-size:12px!important}}@media (max-width: 1081px){.split[_ngcontent-%COMP%], .dl[_ngcontent-%COMP%], .dc[_ngcontent-%COMP%], .dr[_ngcontent-%COMP%]{width:100%!important}.pinned-zone[_ngcontent-%COMP%]{width:150px!important;height:200px}}.time-diff[_ngcontent-%COMP%]{display:flex;height:fit-content;align-items:center;gap:10px;margin-bottom:20px}.pinned-zone[_ngcontent-%COMP%]{display:flex;width:242px;margin:8px;height:150px}.btn[_ngcontent-%COMP%]{cursor:pointer}.pinned-time[_ngcontent-%COMP%]{font-size:1.2em;color:#5e6060}.timezone-input[_ngcontent-%COMP%]{display:flex;width:100%;height:80px;position:sticky}.timezone-list[_ngcontent-%COMP%]{height:calc(100vh - 180px);overflow:auto}"]});let n=t;return n})();var QI=Ih(Zc());function u$(n,t){if(n&1&&(L(0,"mat-list-item",14)(1,"span",15),lt(2),P()()),n&2){let i=t.$implicit,e=wt(2);j(),Bt("ngClass",e.getDiffStyle(i)),j(),ql(" ",i.type," at ",i.position," ")}}function m$(n,t){if(n&1&&(L(0,"div",1)(1,"mat-list",12)(2,"div",13),lt(3),P(),In(4,u$,3,3,"mat-list-item",14,aa),P()()),n&2){let i=wt();j(3),Ai("Changes (",i.differences.length,")"),j(),Tn(i.differences)}}var f$=2,JI=(()=>{let t=class t{constructor(e,r,o){this.log=e,this._snackbar=r,this.router=o,this.home={name:"Home",path:["apps"]},this.spaces=2,this.differences=[],this.gotoHome=()=>{this.router.navigate(this.home.path)},this.__getTextFromEditor=s=>{let d=QI.default.get(s,"text",[]).join(`
`);return JSON.parse(d)},this._getEditorSetData=s=>({text:JSON.stringify(s,null,this.spaces>=1?this.spaces:f$).split(`
`),new:!0}),this.jsondiff=()=>{let s=this.__getTextFromEditor(this.data1),a=this.__getTextFromEditor(this.data2);this.differences=Rd(s,a).filter(d=>d.changed),this.log.debug(this.differences),this.data1=this._getEditorSetData(Cf(s)),this.data2=this._getEditorSetData(Cf(a))}}getDiffStyle(e){return e.change?"value-changed":e.add?"addition":e.remove?"removed":e.incompatible?"incompatible":""}};t.\u0275fac=function(r){return new(r||t)(C(Pr),C(hl),C(_r))},t.\u0275cmp=gt({type:t,selectors:[["app-json-diff"]],standalone:!0,features:[bt],decls:19,vars:4,consts:[[1,"m-auto"],[1,"split"],[1,"pg-header"],[1,"cl"],[1,"cc"],[1,"btn-group"],["mat-raised-button","","color","primary",3,"click"],[1,"cr"],[1,"split-1"],["name","msg",1,"overflow-auto","w-100",3,"ngModelChange","ngModel","focus"],[1,"split-2"],["name","msg",1,"overflow-auto","w-100",3,"ngModelChange","ngModel"],["role","list"],["mat-subheader",""],["role","listitem"],[3,"ngClass"]],template:function(r,o){r&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),lt(4,"JSON Diff"),P(),L(5,"div",1),Tt(6,"div",3),L(7,"div",4)(8,"div",5)(9,"button",6),mt("click",function(){return o.gotoHome()}),lt(10,"Go Home"),P(),L(11,"button",6),mt("click",function(){return o.jsondiff()}),lt(12,"JSON Diff"),P()()(),Tt(13,"div",7),P()(),L(14,"div",8)(15,"app-cm-editor-input",9),Xn("ngModelChange",function(a){return Kn(o.data1,a)||(o.data1=a),a}),P()(),L(16,"div",10)(17,"app-cm-editor-input",11),Xn("ngModelChange",function(a){return Kn(o.data2,a)||(o.data2=a),a}),P()()(),ee(18,m$,6,1,"div",1),P()),r&2&&(j(15),Gn("ngModel",o.data1),Bt("focus",!0),j(2),Gn("ngModel",o.data2),j(),ae(18,o.differences&&o.differences.length?18:-1))},dependencies:[nn,ha,rf,Ao,Da,xc,bn,gn,Uo,sr,Ef,Sf,Af,QM],styles:[".split[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.split[_ngcontent-%COMP%]   .pg-header[_ngcontent-%COMP%]{width:100%;text-align:center;margin-bottom:10px}.split[_ngcontent-%COMP%]   .split-1[_ngcontent-%COMP%], .split[_ngcontent-%COMP%]   .split-2[_ngcontent-%COMP%]{width:50%}.cl[_ngcontent-%COMP%], .cr[_ngcontent-%COMP%]{width:100px;flex:0 0 100px}.cc[_ngcontent-%COMP%]{flex:1;text-align:center}.btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-bottom:5px}.spaces-input[_ngcontent-%COMP%]{margin-left:auto;width:80px}@media (max-width: 720px){.split-1[_ngcontent-%COMP%], .split-2[_ngcontent-%COMP%]{width:100%!important;height:500px;overflow:auto}}.value-changed[_ngcontent-%COMP%]{color:#baba33}.addition[_ngcontent-%COMP%]{color:#21b21f}.removed[_ngcontent-%COMP%]{color:#e65e65}.incompatible[_ngcontent-%COMP%]{color:#ff5a00}"]});let n=t;return n})();var tT=[{path:"",pathMatch:"full",redirectTo:"/apps"},{path:"apps",component:GM},{path:"jsonplay",component:YM},{path:"jsondiff",component:JI},{path:"time",component:vy},{path:"calendar",component:vy},{path:"**",component:qM}];var p$="@",g$=(()=>{let t=class t{constructor(e,r,o,s,a){this.doc=e,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Y(pk,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-BJJGCCME.js")).catch(r=>{throw new be(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,r){let o=this.delegate.createRenderer(e,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new yy(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let d=a.createRenderer(e,r);s.use(d)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){ds()},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),yy=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,e,r){this.delegate.insertBefore(t,i,e,r)}removeChild(t,i,e){this.delegate.removeChild(t,i,e)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,r){this.delegate.setAttribute(t,i,e,r)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,r){this.delegate.setStyle(t,i,e,r)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,e)),this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,e)),this.delegate.listen(t,i,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(p$)}};function eT(n="animations"){return gk("NgAsyncAnimations"),Hl([{provide:Lh,useFactory:(t,i,e)=>new g$(t,i,e,n),deps:[_t,$h,ot]},{provide:li,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var iT={providers:[C1(tT),eT()]};var nT=(()=>{let t=class t{constructor(){this.title="elit"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["app-root"]],standalone:!0,features:[bt],decls:1,vars:0,template:function(r,o){r&1&&Tt(0,"router-outlet")},dependencies:[pb,Ao,sr,Uo,bn],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.msg-box[_ngcontent-%COMP%]{width:100%;overflow:auto}"]});let n=t;return n})();Hk(nT,iT).catch(n=>console.error(n));
